services:
    security.acl.cache.doctrine.cache_impl:
        public: false
        class: 'Akeneo\Platform\Bundle\FrameworkBundle\AclCache\SampleRouterCache'
        arguments:
            - '@security.acl_cache_array'
            - '@security.acl_cache_memcache'
            - '@Akeneo\Platform\Bundle\FrameworkBundle\AclCache\FetchSamplePercentageFromBucket'

    security.acl_cache_array:
        class: 'Doctrine\Common\Cache\ArrayCache'

    security.acl_cache_memcache:
        public: false
        class: 'Doctrine\Common\Cache\MemcachedCache'
        calls:
            - method: setMemcached
              arguments:
                  - '@memcached'

    memcached:
        class: Memcached
        calls:
            - method: addServer
              arguments: ['%env(MEMCACHED_SVC)%', 11211]
