parameters:
    pim_connector.reader.product.class:       Pim\Component\Connector\Reader\ProductReader
    pim_connector.reader.dummy_item.class:    Pim\Component\Connector\Reader\DummyItemReader
    pim_connector.reader.doctrine.base.class: Pim\Component\Connector\Reader\Doctrine\BaseReader

    pim_connector.reader.file.csv.class:         Pim\Component\Connector\Reader\File\CsvReader
    pim_connector.reader.file.csv_product.class: Pim\Component\Connector\Reader\File\Product\CsvProductReader

    pim_connector.reader.file.xlsx.class:         Pim\Component\Connector\Reader\File\XlsxReader
    pim_connector.reader.file.xlsx_product.class: Pim\Component\Connector\Reader\File\Product\XlsxProductReader

    pim_connector.reader.file.file_iterator.class:          Pim\Component\Connector\Reader\File\FileIterator
    pim_connector.reader.file.file_iterator_factory.class:  Pim\Component\Connector\Reader\File\FileIteratorFactory
    pim_connector.reader.file.media_path_transformer.class: Pim\Component\Connector\Reader\File\Product\MediaPathTransformer

services:
    pim_connector.reader.product:
        class: '%pim_connector.reader.product.class%'
        arguments:
            - '@pim_catalog.query.product_query_builder_factory'
            - '@pim_catalog.repository.channel'
            - '@pim_catalog.manager.completeness'
            - '@pim_catalog.converter.metric'
            - '@akeneo_storage_utils.doctrine.object_detacher'
            - '@akeneo_batch.job_repository'
            - true

    pim_connector.reader.file.csv_iterator_factory:
        class: '%pim_connector.reader.file.file_iterator_factory.class%'
        arguments:
            - '%pim_connector.reader.file.file_iterator.class%'
            - 'csv'

    pim_connector.reader.file.xlsx_iterator_factory:
        class: '%pim_connector.reader.file.file_iterator_factory.class%'
        arguments:
            - '%pim_connector.reader.file.file_iterator.class%'
            - 'xlsx'

    pim_connector.reader.file.media_path_transformer:
        class: '%pim_connector.reader.file.media_path_transformer.class%'
        arguments:
            - '@pim_catalog.repository.attribute'

    # Dummy Reader
    pim_connector.reader.dummy_item:
        class: '%pim_connector.reader.dummy_item.class%'

    # CSV File Readers
    pim_connector.reader.file.csv:
        class: '%pim_connector.reader.file.csv.class%'
        arguments:
            - '@pim_connector.reader.file.csv_iterator_factory'

    pim_connector.reader.file.csv_association_type:
        alias: pim_connector.reader.file.csv

    pim_connector.reader.file.csv_family:
        alias: pim_connector.reader.file.csv

    pim_connector.reader.file.csv_association:
        alias: pim_connector.reader.file.csv

    pim_connector.reader.file.csv_attribute:
        alias: pim_connector.reader.file.csv

    pim_connector.reader.file.csv_attribute_option:
        alias: pim_connector.reader.file.csv

    pim_connector.reader.file.csv_group:
        alias: pim_connector.reader.file.csv

    pim_connector.reader.file.csv_variant_group:
        alias: pim_connector.reader.file.csv_product

    pim_connector.reader.file.csv_category:
        alias: pim_connector.reader.file.csv

    pim_connector.reader.file.csv_channel:
        alias: pim_connector.reader.file.csv

    pim_connector.reader.file.csv_locale:
        alias: pim_connector.reader.file.csv

    pim_connector.reader.file.csv_attribute_group:
        alias: pim_connector.reader.file.csv

    pim_connector.reader.file.csv_group_type:
        alias: pim_connector.reader.file.csv

    pim_connector.reader.file.csv_currency:
        alias: pim_connector.reader.file.csv

    pim_connector.reader.file.csv_group_type:
        alias: pim_connector.reader.file.csv

    pim_connector.reader.file.csv_product:
        class: '%pim_connector.reader.file.csv_product.class%'
        arguments:
            - '@pim_connector.reader.file.csv_iterator_factory'
            - '@pim_connector.reader.file.media_path_transformer'

    # XLSX file Readers
    pim_connector.reader.file.xlsx:
        class: '%pim_connector.reader.file.xlsx.class%'
        arguments:
            - '@pim_connector.reader.file.xlsx_iterator_factory'

    pim_connector.reader.file.xlsx_product:
       class: '%pim_connector.reader.file.xlsx_product.class%'
       arguments:
           - '@pim_connector.reader.file.xlsx_iterator_factory'
           - '@pim_connector.reader.file.media_path_transformer'

    pim_connector.reader.file.xlsx_association_type:
        alias: pim_connector.reader.file.xlsx

    pim_connector.reader.file.xlsx_group:
        alias: pim_connector.reader.file.xlsx

    pim_connector.reader.file.xlsx_variant_group:
        alias: pim_connector.reader.file.xlsx_product

    pim_connector.reader.file.xlsx_attribute:
        alias: pim_connector.reader.file.xlsx

    pim_connector.reader.file.xlsx_attribute_option:
        alias: pim_connector.reader.file.xlsx

    pim_connector.reader.file.xlsx_family:
        alias: pim_connector.reader.file.xlsx

    pim_connector.reader.file.xlsx_category:
        alias: pim_connector.reader.file.xlsx

    pim_connector.reader.file.xlsx_channel:
        alias: pim_connector.reader.file.xlsx

    pim_connector.reader.file.xlsx_locale:
        alias: pim_connector.reader.file.xlsx

    pim_connector.reader.file.xlsx_attribute_group:
        alias: pim_connector.reader.file.xlsx

    pim_connector.reader.file.xlsx_currency:
        alias: pim_connector.reader.file.xlsx

    pim_connector.reader.file.xlsx_group_type:
        alias: pim_connector.reader.file.xlsx

    # ORM readers
    pim_connector.reader.orm.channel:
        class: '%pim_base_connector.reader.orm.entity.class%'
        arguments:
            - '@doctrine.orm.default_entity_manager'
            - '%pim_catalog.entity.channel.class%'

    pim_connector.reader.orm.locale:
        class: '%pim_base_connector.reader.orm.entity.class%'
        arguments:
            - '@doctrine.orm.default_entity_manager'
            - '%pim_catalog.entity.locale.class%'

    pim_connector.reader.orm.attribute_group:
        class: '%pim_base_connector.reader.orm.entity.class%'
        arguments:
            - '@doctrine.orm.default_entity_manager'
            - '%pim_catalog.entity.attribute_group.class%'

    pim_connector.reader.orm.currency:
        class: '%pim_base_connector.reader.orm.entity.class%'
        arguments:
            - '@doctrine.orm.default_entity_manager'
            - '%pim_catalog.entity.currency.class%'

    pim_connector.reader.orm.group_type:
        class: '%pim_base_connector.reader.orm.entity.class%'
        arguments:
            - '@doctrine.orm.default_entity_manager'
            - '%pim_catalog.entity.group_type.class%'
