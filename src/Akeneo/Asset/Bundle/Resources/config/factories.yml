parameters:
    pimee_product_asset.factory.asset.class:                 Akeneo\Asset\Component\Factory\AssetFactory
    pimee_product_asset.factory.reference.class:             Akeneo\Asset\Component\Factory\ReferenceFactory
    pimee_product_asset.factory.variation.class:             Akeneo\Asset\Component\Factory\VariationFactory
    pimee_product_asset.factory.tag.class:                   Akeneo\Asset\Component\Factory\TagFactory
    pimee_product_asset.factory.channel_configuration.class: Akeneo\Asset\Component\Factory\ChannelConfigurationFactory
    pimee_product_asset.factory.notification.class:          Akeneo\Asset\Bundle\Notification\NotificationFactory

services:
    pimee_product_asset.factory.asset:
        class: '%pimee_product_asset.factory.asset.class%'
        arguments:
            - '@pimee_product_asset.factory.reference'
            - '@pim_catalog.repository.locale'
            - '%pimee_product_asset.model.asset.class%'

    pimee_product_asset.factory.reference:
        class: '%pimee_product_asset.factory.reference.class%'
        arguments:
            - '@pim_catalog.repository.channel'
            - '@pimee_product_asset.factory.variation'
            - '%pimee_product_asset.model.reference.class%'

    pimee_product_asset.factory.variation:
        class: '%pimee_product_asset.factory.variation.class%'
        arguments:
            - '%pimee_product_asset.model.variation.class%'

    pimee_product_asset.factory.tag:
        class: '%pimee_product_asset.factory.tag.class%'
        arguments:
            - '%pimee_product_asset.model.tag.class%'

    pimee_product_asset.factory.category:
        class: '%akeneo_storage_utils.factory.simple.class%'
        arguments:
            - '%pimee_product_asset.model.category.class%'

    pimee_product_asset.factory.channel_configuration:
        class: '%pimee_product_asset.factory.channel_configuration.class%'
        arguments:
            - '%pimee_product_asset.model.channel_variations_configuration.class%'

    pimee_product_asset.factory.notification:
        class: '%pimee_product_asset.factory.notification.class%'
        arguments:
            - ['mass_upload']
            - '%pim_notification.entity.notification.class%'
        tags:
            - { name: pim_notification.factory.notification }

    pimee_product_asset.factory.product_value.asset_collection:
        class: 'Akeneo\Pim\Enrichment\Asset\Component\AssetCollectionValueFactory'
        public: false
        arguments:
            - '@pim_reference_data.repository_resolver'
            - '%pim_reference_data.value.reference_data_collection.class%'
        tags:
            - { name: pim_catalog.factory.value }

    pimee_product_asset.factory.read.product_value.asset_collection:
        class: 'Akeneo\Pim\Enrichment\Asset\Component\ReadAssetCollectionValueFactory'
        public: false
        tags:
            - { name: akeneo.pim.enrichment.factory.read.product_value }

    ##### User Factory
    pimee_asset.factory.user.default_asset_delay_reminder:
        class: Akeneo\UserManagement\Component\Factory\SimpleDefaultProperty
        public: false
        arguments:
            $propertyName: 'asset_delay_reminder'
            $defaultPropertyValue: 5

    Akeneo\Asset\Component\Factory\DefaultAssetTree:
        public: false
        arguments:
            $assetCategoryRepository: '@pimee_product_asset.repository.asset_category'
