version: 2.1

executor-machine: &executor-machine 'ubuntu-2204:2022.07.1'

envVarsDeployDev: &envVarsDeployDev
  ENV_NAME: "dev"
  GOOGLE_PROJECT_ID: "akecld-saas-dev"
  GOOGLE_COMPUTE_ZONE: "europe-west3-a"
  CLUSTER_NAME: "europe-west3-a"
  GOOGLE_COMPUTE_ZONE_NEXT: "europe-west3-b"
  CLUSTER_NAME_NEXT: "europe-west3-b"

envVarsDeployPreprod: &envVarsDeployPreprod
  ENV_NAME: "preprod"
  GOOGLE_PROJECT_ID: "akecld-saas-preprod"
  GOOGLE_COMPUTE_ZONE: "europe-west3-a"
  CLUSTER_NAME: "europe-west3-a"
  GOOGLE_COMPUTE_ZONE_NEXT: "europe-west3-b"
  CLUSTER_NAME_NEXT: "europe-west3-b"

envVarsDeployPIMSaaSDev: &envVarsDeployPIMSaaSDev
  ENV_NAME: "dev"
  GOOGLE_DOMAIN: "ci.pim.akeneo.cloud"
  GOOGLE_MANAGED_ZONE_DNS: "ci.pim.akeneo.cloud"
  GOOGLE_FIRESTORE_PROJECT_ID: "akecld-prd-pim-fire-eur-dev"
  GOOGLE_PROJECT_ID_SHARED: "akecld-prd-pim-saas-shared"
  GOOGLE_PROJECT_ID: "akecld-prd-pim-saas-dev"
  GOOGLE_CLUSTER_REGION: "europe-west1"
  GOOGLE_COMPUTE_ZONE: "europe-west1-b"
  CLUSTER_NAME: "akecld-prd-pim-saas-dev-europe-west1"
  GOOGLE_CLUSTER_REGION_NEXT: "europe-west3"
  GOOGLE_COMPUTE_ZONE_NEXT: "europe-west3-b"
  CLUSTER_NAME_NEXT: "akecld-prd-pim-saas-dev-europe-west3"

dockerCloudDeployerCurrent: &dockerCloudDeployerCurrent # cloudDeployer version used in prod (used for lastest release deployement)
  docker:
    - image: eu.gcr.io/akeneo-cloud/cloud-deployer:7.11
      auth:
        username: _json_key                             # default username when using a JSON key file to authenticate
        password: $GCLOUD_SERVICE_KEY_DEV               # JSON service account you created, do not encode to base64

dockerCloudDeployerNext: &dockerCloudDeployerNext       # cloudDeployer version (used for lastest current deployement)
  docker:
    - image: eu.gcr.io/akeneo-cloud/cloud-deployer:7.11
      auth:
        username: _json_key                             # default username when using a JSON key file to authenticate
        password: $GCLOUD_SERVICE_KEY_DEV               # JSON service account you created, do not encode to base64

dockerCloudDeployerUCS: &dockerCloudDeployerUCS         # cloudDeployer version (used for UCS deployement)
  docker:
    - image: eu.gcr.io/akeneo-cloud/cloud-deployer:c79e5e568e847524e59a2f946ea204bbfe1cd43f # cloudDeployer with go and argocd
      auth:
        username: _json_key                             # default username when using a JSON key file to authenticate
        password: $GCLOUD_SERVICE_KEY_DEV               # JSON service account you created, do not encode to base64

dockerJenkinsCloudDeployer: &dockerJenkinsCloudDeployer # jenknsDeployer version used in prod
  docker:
    - image: eu.gcr.io/akeneo-cloud/jenkinsfile-runner:7.11
      auth:
        username: _json_key                             # default username when using a JSON key file to authenticate
        password: $GCLOUD_SERVICE_KEY_DEV               # JSON service account you created, do not encode to base64
