parameters:
    pimee_product_asset.processor.denormalization.tag.class:                   PimEnterprise\Component\ProductAsset\Connector\Processor\Denormalization\TagProcessor
    pimee_product_asset.processor.denormalization.asset.class:                 PimEnterprise\Component\ProductAsset\Connector\Processor\Denormalization\AssetProcessor
    pimee_product_asset.processor.denormalization.channel_configuration.class: PimEnterprise\Component\ProductAsset\Connector\Processor\Denormalization\ChannelConfigurationProcessor
    pimee_product_asset.processor.normalization.channel_configuration.class:   PimEnterprise\Component\ProductAsset\Connector\Processor\Normalization\ChannelConfigurationProcessor
    pimee_product_asset.processor.normalization.asset.class:                   PimEnterprise\Component\ProductAsset\Connector\Processor\Normalization\AssetProcessor
    pimee_product_asset.processor.normalization.variation.class:               PimEnterprise\Component\ProductAsset\Connector\Processor\Normalization\VariationProcessor

services:
    pimee_product_asset.processor.denormalization.tag.flat:
        class: '%pimee_product_asset.processor.denormalization.tag.class%'
        arguments:
            - '@pimee_product_asset.array_converter.flat_to_standard.tag'
            - '@pimee_product_asset.repository.tag'
            - '@pimee_product_asset.updater.tag'
            - '@pimee_product_asset.factory.tag'
            - '@validator'

    pimee_product_asset.processor.denormalization.asset.flat:
        class: '%pimee_product_asset.processor.denormalization.asset.class%'
        arguments:
            - '@pimee_product_asset.array_converter.flat_to_standard.asset'
            - '@pimee_product_asset.repository.asset'
            - '@pimee_product_asset.updater.asset'
            - '@pimee_product_asset.factory.asset'
            - '@validator'

    pimee_product_asset.processor.denormalization.channel_configuration.flat:
        class: '%pimee_product_asset.processor.denormalization.channel_configuration.class%'
        arguments:
            - '@pimee_product_asset.array_converter.flat_to_standard.channel_configuration'
            - '@pimee_product_asset.repository.channel_configuration'
            - '@pim_catalog.repository.channel'
            - '@pimee_product_asset.factory.channel_configuration'
            - '@validator'

    pimee_product_asset.processor.normalization.asset.flat:
        class: '%pim_connector.processor.normalization.simple.class%'
        arguments:
            - '@pim_product_asset.normalizer.flat.asset'
            - 'flat'

    pimee_product_asset.processor.normalization.category.flat:
        class: '%pim_connector.processor.normalization.simple.class%'
        arguments:
            - '@pim_serializer.normalizer.flat.category'
            - 'flat'

    pimee_product_asset.processor.normalization.variation.flat:
        class: '%pim_connector.processor.normalization.simple.class%'
        arguments:
            - '@pim_product_asset.normalizer.flat.variation'
            - 'flat'

    pimee_product_asset.processor.normalization.channel_configuration.flat:
        class: '%pimee_product_asset.processor.normalization.channel_configuration.class%'
        arguments:
            - '@pim_serializer'
            - '@pim_catalog.repository.locale'
            - '@pim_product_asset.normalizer.structured.channel_configuration'

    pimee_product_asset.processor.denormalization.category.flat:
        class: '%pim_connector.processor.denormalization.simple.class%'
        arguments:
            - '@pimee_product_asset.repository.category'
            - '@pim_connector.array_converter.flat_to_standard.category'
            - '@pimee_product_asset.factory.category'
            - '@pimee_product_asset.updater.category'
            - '@pim_catalog.validator.product'
            - '@akeneo_storage_utils.doctrine.object_detacher'
