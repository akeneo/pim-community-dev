apiVersion: cloud.google.com/v1
kind: BackendConfig
metadata:
  name: pim-api-backendconfig
spec:
  healthCheck:
    checkIntervalSec: 15
    port: 80
    type: HTTP
    requestPath: /server-status
  connectionDraining:
    drainingTimeoutSec: 60
{{- if .Values.pim.api.ratelimit.enabled | default "false" }}
  securityPolicy:
    name: {{ .Values.pim.api.ratelimit.securityPolicy | default ( printf "%s-throttle-api" .Values.common.gcpProjectID ) }}
{{- end }}
