services:
    akeneo_acceptance.context.franklin_insights.franklin_configuration:
        class: 'Akeneo\Test\Pim\Automation\FranklinInsights\Acceptance\Context\FranklinConfigurationContext'
        arguments:
            - '@akeneo.pim.automation.franklin_insights.application.configuration.command.activate_connection_handler'
            - '@akeneo.pim.automation.franklin_insights.application.configuration.query.get_configuration_handler'
            - '@akeneo.pim.automation.franklin_insights.repository.configuration'
        tags:
            - { name: 'fob.context_service' }

    akeneo_acceptance.context.franklin_insights.connection_status:
        class: 'Akeneo\Test\Pim\Automation\FranklinInsights\Acceptance\Context\ConnectionStatusContext'
        arguments:
            - '@akeneo.pim.automation.franklin_insights.application.configuration.query.get_connection_status_handler'
        tags:
            - { name: 'fob.context_service' }

    akeneo_acceptance.context.franklin_insights.identifiers_mapping:
        class: 'Akeneo\Test\Pim\Automation\FranklinInsights\Acceptance\Context\IdentifiersMappingContext'
        arguments:
            - '@akeneo.pim.automation.franklin_insights.handler.get_identifiers_mapping'
            - '@akeneo.pim.automation.franklin_insights.handler.update_identifiers_mapping'
            - '@akeneo.pim.automation.franklin_insights.repository.identifiers_mapping'
            - '@akeneo.pim.automation.franklin_insights.repository.attribute'
            - '@akeneo.pim.automation.franklin_insights.franklin_client.http_client'
            - '@akeneo.pim.automation.franklin_insights.application.mapping.service.identify_products_to_resubscribe'
        tags:
            - { name: 'fob.context_service' }

    akeneo_acceptance.context.franklin_insights.data_fixtures:
        class: 'Akeneo\Test\Pim\Automation\FranklinInsights\Acceptance\Context\DataFixturesContext'
        arguments:
            - '@pim_catalog.repository.product_without_permission'
            - '@pim_catalog.builder.product'
            - '@pim_catalog.factory.value_collection'
            - '@pim_catalog.repository.family'
            - '@pim_catalog.factory.family'
            - '@pim_catalog.repository.attribute'
            - '@test.family.builder'
            - '@test.attribute.builder'
            - '@pim_catalog.repository.attribute_group'
            - '@test.attribute_group.builder'
            - '@akeneo.pim.automation.franklin_insights.repository.product_subscription'
            - '@test.category.builder'
            - '@pim_catalog.repository.category'
            - '@pim_catalog.repository.attribute_option'
            - '@akeneo.pim.automation.franklin_insights.repository.identifiers_mapping'
            - '@akeneo.pim.automation.franklin_insights.franklin_client.http_client'
        tags:
            - { name: 'fob.context_service' }

    akeneo_acceptance.context.franklin_insights.product_subscription:
        class: 'Akeneo\Test\Pim\Automation\FranklinInsights\Acceptance\Context\ProductSubscriptionContext'
        arguments:
            - '@pim_catalog.repository.product_without_permission'
            - '@akeneo.pim.automation.franklin_insights.repository.product_subscription'
            - '@akeneo.pim.automation.franklin_insights.handler.subscribe_product'
            - '@akeneo_acceptance.context.franklin_insights.data_fixtures'
            - '@akeneo.pim.automation.franklin_insights.product_subscription.handler.unsubscribe_product'
            - '@akeneo.pim.automation.franklin_insights.subscriber.unsubscribe_product_after_product_removal'
        tags:
            - { name: 'fob.context_service' }

    akeneo_acceptance.context.franklin_insights.product_subscription_status:
        class: 'Akeneo\Test\Pim\Automation\FranklinInsights\Acceptance\Context\ProductSubscriptionStatusContext'
        arguments:
            - '@pim_catalog.repository.product_without_permission'
            - '@akeneo.pim.automation.franklin_insights.handler.get_product_subscription_status'
        tags:
            - { name: 'fob.context_service' }

    akeneo_acceptance.context.franklin_insights.attributes_mapping:
        class: 'Akeneo\Test\Pim\Automation\FranklinInsights\Acceptance\Context\AttributesMappingContext'
        arguments:
            - '@akeneo.pim.automation.franklin_insights.handler.get_attributes_mapping_by_family'
            - '@akeneo.pim.automation.franklin_insights.handler.update_attributes_mapping_by_family'
            - '@akeneo.pim.automation.franklin_insights.handler.get_families'
            - '@akeneo.pim.automation.franklin_insights.handler.create_attribute_in_family'
            - '@akeneo.pim.automation.franklin_insights.franklin_client.http_client'
            - '@akeneo.pim.automation.franklin_insights.handler.get_attribute_mapping_with_suggestions'
            - '@akeneo.pim.automation.franklin_insights.infrastructure.persistence.query.select_exact_match_attribute_codes'
            - '@pim_catalog.repository.family'
            - '@pim_catalog.repository.attribute'
        tags:
            - { name: 'fob.context_service' }

    akeneo_acceptance.context.franklin_insights.attribute_options_mapping:
        class: 'Akeneo\Test\Pim\Automation\FranklinInsights\Acceptance\Context\AttributeOptionsMappingContext'
        arguments:
            - '@akeneo.pim.automation.franklin_insights.handler.get_attribute_options_mapping_by_family_and_attribute'
            - '@akeneo.pim.automation.franklin_insights.handler.save_attribute_options_mapping'
            - '@akeneo.pim.automation.franklin_insights.franklin_client.http_client'
        tags:
            - { name: 'fob.context_service' }

    akeneo_acceptance.context.franklin_insights.proposal:
        class: 'Akeneo\Test\Pim\Automation\FranklinInsights\Acceptance\Context\ProposalContext'
        arguments:
            - '@akeneo.pim.automation.franklin_insights.proposal.create_proposal'
            - '@akeneo.pim.automation.franklin_insights.repository.product_subscription'
        tags:
            - { name: 'fob.context_service' }

    akeneo_acceptance.context.franklin_insights.channel:
        class: 'Akeneo\Test\Pim\Automation\FranklinInsights\Acceptance\Context\ChannelContext'
        arguments:
            - '@pim_catalog.repository.channel'
            - '@pim_catalog.updater.channel'
            - '@akeneo.pim.automation.franklin_insights.subscriber.channel_update'
        tags:
            - { name: 'fob.context_service' }

    akeneo_acceptance.context.franklin_insights.exception:
        class: 'Akeneo\Test\Pim\Automation\FranklinInsights\Acceptance\Context\ExceptionContext'
        tags:
            - { name: 'fob.context_service' }
