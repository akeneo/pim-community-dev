parameters:
    pimee_workflow.normalizer.product_draft.class:     PimEnterprise\Bundle\WorkflowBundle\Normalizer\ProductDraftNormalizer
    pimee_workflow.normalizer.published_product.class: PimEnterprise\Bundle\WorkflowBundle\Normalizer\PublishedProductNormalizer

services:
    pimee_workflow.normalizer.product_draft:
        class: '%pimee_workflow.normalizer.product_draft.class%'
        tags:
            - { name: pim_internal_api_serializer.normalizer, priority: 120 }

    pimee_workflow.normalizer.published_product:
        class: '%pimee_workflow.normalizer.published_product.class%'
        arguments:
            - '@pimee_enrich.normalizer.product'
        tags:
            - { name: pim_internal_api_serializer.normalizer, priority: 130 }

    pimee_workflow.normalizer.standard.published_product:
        class: '%pim_catalog.normalizer.standard.product.class%'
        arguments:
            - '@pim_catalog.normalizer.standard.product.properties'
            - '@pimee_workflow.normalizer.standard.published_product.associations'
        tags:
            - { name: pim_serializer.normalizer, priority: 90 }

    pimee_workflow.normalizer.standard.published_product.associations:
        class: '%pim_catalog.normalizer.standard.product.associations.class%'
        arguments:
            - '@pimee_workflow.query.get_associated_product_codes_by_published_product'
        tags:
            - { name: pim_serializer.normalizer, priority: 40 }
