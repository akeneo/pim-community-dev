parameters:
    pim_datagrid.extension.mass_action.util.product_fields_builder.class: PimEnterprise\Bundle\DataGridBundle\Extension\MassAction\Util\ProductFieldsBuilder
    pim_datagrid.extension.mass_action.handler.mass_approve.class:        PimEnterprise\Bundle\DataGridBundle\Extension\MassAction\Handler\MassApproveActionHandler

services:
    pim_datagrid.extension.mass_action.util.product_fields_builder:
        class: %pim_datagrid.extension.mass_action.util.product_fields_builder.class%
        arguments:
            - '@pim_catalog.manager.product'
            - '@pim_catalog.manager.locale'
            - '@pim_catalog.manager.currency'
            - '@pim_catalog.manager.association_type'
            - '@pim_catalog.context.catalog'
            - '@pimee_security.repository.attribute_group_access'
            - '@security.token_storage'

    pimee_datagrid.extension.mass_action.util.published_product_fields_builder:
        class: %pim_datagrid.extension.mass_action.util.product_fields_builder.class%
        arguments:
            - '@pimee_workflow.manager.published_product'
            - '@pim_catalog.manager.locale'
            - '@pim_catalog.manager.currency'
            - '@pim_catalog.manager.association_type'
            - '@pim_catalog.context.catalog'
            - '@pimee_security.repository.attribute_group_access'
            - '@security.token_storage'

    pim_datagrid.extension.mass_action.handler.mass_approve:
        class: %pim_datagrid.extension.mass_action.handler.mass_approve.class%
        arguments:
            - '@pim_datagrid.datasource.result_record.hydrator.object_id'
            - '@event_dispatcher'
        tags:
            - { name: pim_datagrid.extension.mass_action.handler, alias: mass_approve }
