services:
    Akeneo\Platform\JobAutomation\Infrastructure\Security\Encrypter:
        arguments:
            - '%env(APP_SECRET)%'

    Akeneo\Platform\JobAutomation\Infrastructure\Security\SftpCredentialsEncrypter:
        arguments:
            - '@Akeneo\Platform\JobAutomation\Infrastructure\Security\Encrypter'
        tags:
            - { name: pim_import_export.credentials_encrypter }

    akeneo.job_automation.feature:
        class: Akeneo\Platform\Bundle\FeatureFlagBundle\Configuration\EnvVarFeatureFlag
        arguments:
            - '%env(bool:FLAG_JOB_AUTOMATION_ENABLED)%'

    akeneo.job_automation.query.get_user_groups:
        class: Akeneo\Platform\JobAutomation\Infrastructure\Query\GetUserGroupsQuery

    akeneo.job_automation.constraint_collection_provider.product_xlsx_export:
        class: Akeneo\Platform\JobAutomation\Infrastructure\Connector\DefaultConstraintProvider
        decorates: pim_connector.job.job_parameters.constraint_collection_provider.product_xlsx_export
        arguments: 
            - "@akeneo.job_automation.constraint_collection_provider.product_xlsx_export.inner"
