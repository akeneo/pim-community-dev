Pim\Bundle\CatalogBundle\Entity\Attribute:
    constraints:
        - Symfony\Bridge\Doctrine\Validator\Constraints\UniqueEntity: code
        - Pim\Component\Catalog\Validator\Constraints\SingleIdentifierAttribute: ~
        - Pim\Component\Catalog\Validator\Constraints\IsReferenceDataConfigured: ~
        - Pim\Component\Catalog\Validator\Constraints\IsIdentifierUsableAsGridFilter: ~
        - Pim\Component\Catalog\Validator\Constraints\Immutable:
            properties:
                - code
                - type
                - scopable
                - localizable
                - metricFamily
                - unique
        - Pim\Component\Catalog\Validator\Constraints\ValidMetric:
            groups:
                - pim_catalog_metric
        - Pim\Component\Catalog\Validator\Constraints\ValidDateRange:
            groups:
                - pim_catalog_date
        - Pim\Component\Catalog\Validator\Constraints\ValidNumberRange:
            groups:
                - pim_catalog_number
                - pim_catalog_price_collection
                - pim_catalog_metric
        - Pim\Component\Catalog\Validator\Constraints\NotBlankProperties:
            properties:
                - reference_data_name
    properties:
        type:
            - NotBlank: ~
        code:
            - NotBlank: ~
            - Regex:
                pattern: /^[a-zA-Z0-9_]+$/
                message: Attribute code may contain only letters, numbers and underscores
            - Length:
                max: 255
            - Regex:
                pattern: /^(?!(id|associationTypes|categories|categoryId|completeness|enabled|family|groups|associations|products|scope|treeId|values|category|(.)*_(products|groups))$)/
                message: This code is not available
        localizable:
            - Type: bool
            - 'IsFalse':
                message: An unique attribute can not be localizable
                groups: [unique]
        scopable:
            - NotNull: ~
            - 'IsFalse':
                message: An unique attribute can not be scopable
                groups: [unique]
        useableAsGridFilter:
            - Type: bool
        wysiwygEnabled:
            - Type:
                type: bool
                groups: [pim_catalog_textarea]
            - IsNull:
                groups:
                    - pim_catalog_identifier
                    - pim_catalog_text
                    - pim_catalog_number
                    - pim_catalog_price_collection
                    - pim_catalog_multiselect
                    - pim_catalog_simpleselect
                    - pim_catalog_file
                    - pim_catalog_image
                    - pim_catalog_boolean
                    - pim_catalog_date
                    - pim_catalog_metric
                    - pim_catalog_reference_data_multiselect
                    - pim_catalog_reference_data_simpleselect
        decimalsAllowed:
            - Type:
                type: bool
                groups: [pim_catalog_number, pim_catalog_price_collection, pim_catalog_metric]
            - IsNull:
                groups:
                    - pim_catalog_identifier
                    - pim_catalog_text
                    - pim_catalog_textarea
                    - pim_catalog_multiselect
                    - pim_catalog_simpleselect
                    - pim_catalog_file
                    - pim_catalog_image
                    - pim_catalog_boolean
                    - pim_catalog_date
                    - pim_catalog_reference_data_multiselect
                    - pim_catalog_reference_data_simpleselect
        negativeAllowed:
            - Type:
                type: bool
                groups: [pim_catalog_number, pim_catalog_metric]
            - IsNull:
                groups:
                    - pim_catalog_identifier
                    - pim_catalog_text
                    - pim_catalog_textarea
                    - pim_catalog_price_collection
                    - pim_catalog_multiselect
                    - pim_catalog_simpleselect
                    - pim_catalog_file
                    - pim_catalog_image
                    - pim_catalog_boolean
                    - pim_catalog_date
                    - pim_catalog_reference_data_multiselect
                    - pim_catalog_reference_data_simpleselect
        maxCharacters:
            - Type: numeric
            - Pim\Component\Catalog\Validator\Constraints\NotDecimal: {}
            - GreaterThanOrEqual:
                value: 0
            - Range:
                max: 255
                groups: [pim_catalog_text, pim_catalog_identifier]
            - Range:
                max: 65535
                groups: [pim_catalog_textarea]
            - IsNull:
                groups:
                    - pim_catalog_number
                    - pim_catalog_price_collection
                    - pim_catalog_multiselect
                    - pim_catalog_simpleselect
                    - pim_catalog_file
                    - pim_catalog_image
                    - pim_catalog_boolean
                    - pim_catalog_date
                    - pim_catalog_metric
                    - pim_catalog_reference_data_multiselect
                    - pim_catalog_reference_data_simpleselect
        sortOrder:
            - NotNull: ~
            - Type: numeric
            - GreaterThanOrEqual:
                value: 0
        required:
            - Type: bool
            - 'IsTrue':
                message: This attribute type must be required
                groups:
                    - pim_catalog_identifier
            - 'IsFalse':
                message: This attribute type can't be required
                groups:
                    - pim_catalog_text
                    - pim_catalog_textarea
                    - pim_catalog_number
                    - pim_catalog_price_collection
                    - pim_catalog_multiselect
                    - pim_catalog_simpleselect
                    - pim_catalog_file
                    - pim_catalog_image
                    - pim_catalog_boolean
                    - pim_catalog_date
                    - pim_catalog_metric
        unique:
            - Type: bool
            - 'IsFalse':
                message: This attribute type can't have unique value
                groups:
                    - pim_catalog_textarea
                    - pim_catalog_price_collection
                    - pim_catalog_multiselect
                    - pim_catalog_simpleselect
                    - pim_catalog_image
                    - pim_catalog_file
                    - pim_catalog_metric
                    - pim_catalog_boolean
        maxFileSize:
            - Range:
                min: 0.01
                max: 9999.99
                groups: [pim_catalog_file, pim_catalog_image]
            - Type:
                type: numeric
                groups: [pim_catalog_file, pim_catalog_image]
            - IsNull:
                groups:
                    - pim_catalog_identifier
                    - pim_catalog_text
                    - pim_catalog_textarea
                    - pim_catalog_number
                    - pim_catalog_price_collection
                    - pim_catalog_multiselect
                    - pim_catalog_simpleselect
                    - pim_catalog_boolean
                    - pim_catalog_date
                    - pim_catalog_metric
                    - pim_catalog_reference_data_multiselect
                    - pim_catalog_reference_data_simpleselect
        dateMin:
            - DateTime:
                groups: [pim_catalog_date]
            - IsNull:
                groups:
                    - pim_catalog_identifier
                    - pim_catalog_text
                    - pim_catalog_textarea
                    - pim_catalog_number
                    - pim_catalog_price_collection
                    - pim_catalog_multiselect
                    - pim_catalog_simpleselect
                    - pim_catalog_file
                    - pim_catalog_image
                    - pim_catalog_boolean
                    - pim_catalog_metric
                    - pim_catalog_reference_data_multiselect
                    - pim_catalog_reference_data_simpleselect
        dateMax:
            - DateTime:
                groups: [pim_catalog_date]
            - IsNull:
                groups:
                    - pim_catalog_identifier
                    - pim_catalog_text
                    - pim_catalog_textarea
                    - pim_catalog_number
                    - pim_catalog_price_collection
                    - pim_catalog_multiselect
                    - pim_catalog_simpleselect
                    - pim_catalog_file
                    - pim_catalog_image
                    - pim_catalog_boolean
                    - pim_catalog_metric
                    - pim_catalog_reference_data_multiselect
                    - pim_catalog_reference_data_simpleselect
        validationRule:
            - Choice:
                choices: [null, url, email, regexp]
                groups: [pim_catalog_identifier, pim_catalog_text]
        validationRegexp:
            - IsNull:
                groups:
                    - pim_catalog_textarea
                    - pim_catalog_multiselect
                    - pim_catalog_simpleselect
                    - pim_catalog_price_collection
                    - pim_catalog_number
                    - pim_catalog_boolean
                    - pim_catalog_date
                    - pim_catalog_file
                    - pim_catalog_image
                    - pim_catalog_metric
                    - pim_catalog_reference_data_multiselect
                    - pim_catalog_reference_data_simpleselect
            - Pim\Component\Catalog\Validator\Constraints\ValidRegex:
                groups:
                    - pim_catalog_text
                    - pim_catalog_identifier
        allowedExtensions:
            - NotNull:
                groups: [pim_catalog_file, pim_catalog_image]
                message: This value should not be blank
        translations:
            - Valid: ~
        group:
            - NotBlank: ~
        numberMin:
            - Type:
                type: numeric
                groups: [pim_catalog_number, pim_catalog_price_collection, pim_catalog_metric]
            - IsNull:
                groups:
                    - pim_catalog_identifier
                    - pim_catalog_text
                    - pim_catalog_textarea
                    - pim_catalog_multiselect
                    - pim_catalog_simpleselect
                    - pim_catalog_file
                    - pim_catalog_image
                    - pim_catalog_boolean
                    - pim_catalog_date
                    - pim_catalog_reference_data_multiselect
                    - pim_catalog_reference_data_simpleselect
        numberMax:
            - Type:
                type: numeric
                groups: [pim_catalog_number, pim_catalog_price_collection, pim_catalog_metric]
            - IsNull:
                groups:
                    - pim_catalog_identifier
                    - pim_catalog_text
                    - pim_catalog_textarea
                    - pim_catalog_multiselect
                    - pim_catalog_simpleselect
                    - pim_catalog_file
                    - pim_catalog_image
                    - pim_catalog_boolean
                    - pim_catalog_date
                    - pim_catalog_reference_data_multiselect
                    - pim_catalog_reference_data_simpleselect

    getters:
        group:
            - Valid: ~

Pim\Bundle\CatalogBundle\Entity\AttributeTranslation:
    properties:
        label:
            - Length:
                max: 100
        locale:
            - Pim\Component\Catalog\Validator\Constraints\Locale:
                propertyPath: labels

Pim\Bundle\CatalogBundle\Entity\AttributeOption:
    constraints:
        - Symfony\Bridge\Doctrine\Validator\Constraints\UniqueEntity:
            - code
            - attribute
        - Pim\Component\Catalog\Validator\Constraints\AttributeTypeForOption : ~
    properties:
        code:
            - NotBlank: ~
            - Regex:
                pattern: /^[a-zA-Z0-9_]+$/
                message: Option code may contain only letters, numbers and underscores
            - Length:
                max: 255
        attribute:
            - NotBlank: ~
            - Valid: ~
