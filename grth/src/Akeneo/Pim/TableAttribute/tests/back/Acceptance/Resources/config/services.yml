services:
    Akeneo\Test\Pim\TableAttribute\Acceptance\Context\CreateAttributeContext:
        public: true
        arguments:
            - '@validator'
            - '@pim_catalog.repository.attribute'
            - '@Akeneo\Pim\TableAttribute\Domain\TableConfiguration\Repository\SelectOptionCollectionRepository'
            - '@Akeneo\Test\Pim\TableAttribute\Acceptance\Context\ConstraintViolationsContext'

    Akeneo\Test\Pim\TableAttribute\Acceptance\Context\UpdateAttributeContext:
        public: true
        arguments:
            - '@validator'
            - '@pim_catalog.repository.attribute'
            - '@Akeneo\Test\Pim\TableAttribute\Acceptance\Context\ConstraintViolationsContext'

    Akeneo\Test\Pim\TableAttribute\Acceptance\Context\ProductValidation:
        public: true
        arguments:
            - '@test.catalog.product_validation.context'
            - '@test.catalog.product.builder'

    Akeneo\Test\Pim\TableAttribute\Acceptance\Context\ConstraintViolationsContext:
        public: true

    Akeneo\Test\Pim\TableAttribute\Acceptance\Context\MeasurementContext:
        public: true
        arguments:
            - '@validator'
            - '@akeneo_measure.application.create_measurement_family_handler'
            - '@akeneo_measure.application.delete_measurement_family_handler'
            - '@Akeneo\Test\Pim\TableAttribute\Acceptance\Context\ConstraintViolationsContext'
            - '@Akeneo\Pim\TableAttribute\Domain\TableConfiguration\Query\MeasurementFamilyExists'
            - '@akeneo_measure.persistence.measurement_family_repository'
            - '@akeneo_measure.application.save_measurement_family_handler'

    Akeneo\Pim\TableAttribute\Domain\TableConfiguration\Query\GetNonExistingSelectOptionCodes:
        class: Akeneo\Test\Pim\TableAttribute\Acceptance\InMemory\InMemoryGetNonExistingSelectOptionCodes
        arguments:
            - '@Akeneo\Pim\TableAttribute\Domain\TableConfiguration\Repository\SelectOptionCollectionRepository'

    Akeneo\Pim\TableAttribute\Infrastructure\TableConfiguration\Repository\SqlTableConfigurationRepository:
        class: Akeneo\Test\Pim\TableAttribute\Acceptance\InMemory\InMemoryTableConfigurationRepository
        arguments:
            - '@pim_catalog.repository.attribute'
            - '@Akeneo\Pim\TableAttribute\Domain\TableConfiguration\Factory\TableConfigurationFactory'

    Akeneo\Pim\TableAttribute\Domain\TableConfiguration\Repository\SelectOptionCollectionRepository:
        class: Akeneo\Test\Pim\TableAttribute\Acceptance\InMemory\InMemorySelectOptionCollectionRepository

    Akeneo\Pim\TableAttribute\Domain\TableConfiguration\Query\IsReferenceEntityLinkedToATableColumn:
        class: Akeneo\Test\Pim\TableAttribute\Acceptance\InMemory\InMemoryIsReferenceEntityLinkedToATableColumn
        arguments:
            - '@pim_catalog.repository.attribute'

    Akeneo\Pim\TableAttribute\Domain\TableConfiguration\Query\IsMeasurementFamilyLinkedToATableColumn:
        class: Akeneo\Test\Pim\TableAttribute\Acceptance\InMemory\InMemoryIsMeasurementFamilyLinkedToATableColumn
        arguments:
            - '@pim_catalog.repository.attribute'
