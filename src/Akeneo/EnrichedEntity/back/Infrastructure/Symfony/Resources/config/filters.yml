parameters:
    akeneo_enriched_entity.query.elasticsearch.filter.enriched_entity.class: Akeneo\Pim\EnrichedEntity\Component\Filter\EnrichedEntityFilter

services:
    pim.enriched_entity.query.filter.enriched_entity:
        class: '%akeneo_enriched_entity.query.elasticsearch.filter.enriched_entity.class%'
        arguments:
            - '@pim_catalog.validator.helper.attribute'
            - '@akeneo_enrichedentity.infrastructure.persistence.query.record_exists'
            - '@akeneo_enrichedentity.infrastructure.persistence.query.enriched_entity_exists'
            - ['akeneo_enriched_entity_collection']
            - ['IN', 'EMPTY', 'NOT EMPTY', 'NOT IN']
        tags:
            - { name: 'pim_catalog.elasticsearch.query.product_filter', priority: 30 }
            - { name: 'pim_catalog.elasticsearch.query.product_model_filter', priority: 30 }
            - { name: 'pim_catalog.elasticsearch.query.product_and_product_model_filter', priority: 30 }

    pim.enriched_entity.query.sorter.attribute.enriched_entity:
        class: '%pim_catalog.query.elasticsearch.sorter.attribute.base.class%'
        arguments:
            - '@pim_catalog.validator.helper.attribute'
            - ['akeneo_enriched_entity_collection']
        tags:
            - { name: 'pim_catalog.elasticsearch.query.sorter', priority: 30 }
