version: 2.1

executor-machine: &executor-machine 'ubuntu-2004:2022.04.1'

envVarsDeployDev: &envVarsDeployDev
  ENV_NAME: "dev"
  GOOGLE_PROJECT_ID: "akecld-saas-dev"
  GOOGLE_COMPUTE_ZONE: "europe-west3-a"
  CLUSTER_NAME: "europe-west3-a"
  GOOGLE_COMPUTE_ZONE_NEXT: "europe-west3-b"
  CLUSTER_NAME_NEXT: "europe-west3-b"

envVarsDeployPreprod: &envVarsDeployPreprod
  ENV_NAME: "preprod"
  GOOGLE_PROJECT_ID: "akecld-saas-preprod"
  GOOGLE_COMPUTE_ZONE: "europe-west3-a"
  CLUSTER_NAME: "europe-west3-a"
  GOOGLE_COMPUTE_ZONE_NEXT: "europe-west3-b"
  CLUSTER_NAME_NEXT: "europe-west3-b"

dockerCloudDeployerCurrent: &dockerCloudDeployerCurrent # cloudDeployer version used in prod (used for lastest release deployement)
  docker:
    - image: eu.gcr.io/akeneo-cloud/cloud-deployer:7.7
      auth:
        username: _json_key                             # default username when using a JSON key file to authenticate
        password: $GCLOUD_SERVICE_KEY_DEV               # JSON service account you created, do not encode to base64

dockerCloudDeployerNext: &dockerCloudDeployerNext       # cloudDeployer version (used for lastest current deployement)
  docker:
    - image: eu.gcr.io/akeneo-cloud/cloud-deployer:7.9
      auth:
        username: _json_key                             # default username when using a JSON key file to authenticate
        password: $GCLOUD_SERVICE_KEY_DEV               # JSON service account you created, do not encode to base64

dockerJenkinsCloudDeployer: &dockerJenkinsCloudDeployer # jenknsDeployer version used in prod
  docker:
    - image: eu.gcr.io/akeneo-cloud/jenkinsfile-runner:7.9
      auth:
        username: _json_key                             # default username when using a JSON key file to authenticate
        password: $GCLOUD_SERVICE_KEY_DEV               # JSON service account you created, do not encode to base64
