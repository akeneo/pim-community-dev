parameters:
    pimee_catalog.event_subscriber.index_products.class: PimEnterprise\Bundle\CatalogBundle\EventSubscriber\IndexProductsSubscriber
    pimee_catalog.event_subscriber.filter_not_granted_product_data.class: PimEnterprise\Bundle\CatalogBundle\EventSubscriber\FilterNotGrantedProductDataSubscriber
    pimee_catalog.event_subscriber.merger_not_granted_product_data.class: PimEnterprise\Bundle\CatalogBundle\EventSubscriber\MergeNotGrantedProductDataSubscriber

services:
    # CE override
    pim_catalog.event_subscriber.index_products:
        class: '%pimee_catalog.event_subscriber.index_products.class%'
        arguments:
            - '@pim_catalog.elasticsearch.indexer.product'
            - '@pim_catalog.elasticsearch.published_product_indexer'
        tags:
            - { name: kernel.event_subscriber }

    pimee_catalog.event_subscriber.filter_not_granted_product_data:
        class: '%pimee_catalog.event_subscriber.filter_not_granted_product_data.class%'
        arguments:
            - '@service_container'
        tags:
            - { name: doctrine.event_subscriber }

    pimee_catalog.event_subscriber.merger_not_granted_product_data:
        class: '%pimee_catalog.event_subscriber.merger_not_granted_product_data.class%'
        arguments:
            - '@pimee_catalog.security.merger.not_granted_category'
            - '@pimee_catalog.security.merger.not_granted_associated_product'
            - '@pimee_catalog.security.merger.not_granted_values'
        tags:
            - { name: kernel.event_subscriber }
