Akeneo\Pim\Structure\Component\Model\Attribute:
    constraints:
        - Akeneo\Pim\TableAttribute\Infrastructure\Validation\Attribute\IsTableAttributeConfigured: ~
    properties:
        rawTableConfiguration:
            - Type: array
            - Count:
                  min: 2
                  minMessage: "TODO another error message"
            - All:
                  - Type: array
                  - Collection:
                        fields:
                            code:
                                - Required:
                                    - NotBlank:
                                          message: "TODO code blank"
                                    - Regex:
                                          pattern: /^[a-zA-Z0-9_]+$/
                                          message: "TODO bad code"
                                    - Length:
                                          max: 100
                                          maxMessage: TODO too long code
                            type:
                                - Required:
                                      - Type:
                                          type: string
                                          message: "TODO invalid type format"
                                      - Choice:
                                          choices: ["text"]
                                          message: "TODO unknown type"
                            labels:
                                - Optional:
                                    - Type:
                                          type: array
                                          message: "TODO invalid labels format"
                                    - Akeneo\Pim\TableAttribute\Infrastructure\Validation\Attribute\LabelCollection: ~
                                    - All:
                                          - Type: string
                                          - NotNull: ~
                        missingFieldsMessage: "TODO Missing mandatory field: {{ field }}"
            - Akeneo\Pim\TableAttribute\Infrastructure\Validation\Attribute\IsColumnCodeUnique: ~
