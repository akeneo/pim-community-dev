framework:
    messenger:
        default_bus: messenger.bus.default
        buses:
            messenger.bus.default:
                default_middleware: true
                middleware:
                    - 'Akeneo\Tool\Bundle\MessengerBundle\Middleware\UcsMiddleware'
            onboarder.command.bus:
                # Alternatively, we can define as our middlewares instead of using the default ones
                # see Messenger middleware docs: https://symfony.com/doc/current/messenger.html#middleware
                default_middleware: true

            catalogs.command.bus:
                middleware:
                    - validation
                    - doctrine_transaction
            catalogs.query.bus:
                middleware:
                    - validation
