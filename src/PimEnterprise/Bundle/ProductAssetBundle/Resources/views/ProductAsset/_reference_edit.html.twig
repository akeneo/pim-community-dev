{% if currentLocale is not null %}
    <div class="tabsection-title">
        <div class="pull-right">
            {% include 'PimEnrichBundle:Locale:_locale_switcher.html.twig' with {
            'locales':           asset.locales,
            'currentLocaleCode': currentLocale.code,
            'routeName':         'pimee_product_asset_edit',
            'routeParams':       { 'id': asset.id },
            'localeParamName':   'dataLocale'
            } only %}
        </div>
    </div>
{% endif %}

<div class="tabsection-content row-fluid variations">
    <ul>
        <li>
            <div class="row-fluid reference">
                <h4>{{ 'pimee_product_asset.enrich_asset.view.reference'|trans }}</h4>

                <div class="row-fluid">
                    {% if referenceModel.fileInfo %}
                        {% embed 'PimEnterpriseProductAssetBundle:ProductAsset:_reference_core.html.twig' %}
                            {% block reference_buttons %}
                                <button class="AknButtonList-item AknButton AknButton--important AknButton--withIcon AknButton--small delete"
                                        data-href="{{ path('pimee_product_asset_reference_delete', {'id': referenceModel.id}) }}" >
                                    <i class="AknButton-icon icon-trash"></i>
                                    {{ 'btn.delete'|trans|capitalize }}
                                </button>
                                <button class="AknButtonList-item AknButton AknButton--action AknButton--withIcon AknButton--small reset-variations"
                                        data-href="{{ path('pimee_product_asset_variations_reset', {'id': referenceModel.id}) }}" >
                                    <i class="AknButton-icon icon-repeat"></i>
                                    {{ 'pimee_product_asset.enrich_asset.button.reset_variations'|trans }}
                                </button>
                            {% endblock %}
                        {% endembed %}
                    {% else %}
                        {{ pamMacros.renderUploadZone(reference.fileInfo, 'span12') }}
                    {% endif %}
                </div>
            </div>
        </li>

        {% for variation in reference.variations %}
            {% include 'PimEnterpriseProductAssetBundle:ProductAsset:_variation_edit.html.twig' with {'variationModel': variation.vars.data} %}
        {% endfor %}

    </ul>
</div>
