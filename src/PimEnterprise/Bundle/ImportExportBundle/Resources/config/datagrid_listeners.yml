services:
    pimee_import_export.event_listener.inject_job_profile_access:
        class: %pimee_datagrid.event_listener.add_permissions_to_grid.class%
        arguments:
            - '@pimee_security.repository.job_profile_access'
            - '@security.token_storage'
            - 'EXECUTE_JOB_PROFILE'
        tags:
            - { name: kernel.event_listener, event: oro_datagrid.datgrid.build.after.export-profile-grid, method: onBuildAfter }
            - { name: kernel.event_listener, event: oro_datagrid.datgrid.build.after.import-profile-grid, method: onBuildAfter }
            - { name: kernel.event_listener, event: oro_datagrid.datgrid.build.after.export-execution-grid, method: onBuildAfter }
            - { name: kernel.event_listener, event: oro_datagrid.datgrid.build.after.import-execution-grid, method: onBuildAfter }

    pimee_import_export.event_listener.configure_job_profile_grid:
        class: %pimee_datagrid.event_listener.configure_job_profile_grid_listener.class%
        arguments:
            - '@security.authorization_checker'
        tags:
            - { name: kernel.event_listener, event: oro_datagrid.datgrid.build.before.export-profile-grid, method: onBuildBefore }
            - { name: kernel.event_listener, event: oro_datagrid.datgrid.build.before.import-profile-grid, method: onBuildBefore }
