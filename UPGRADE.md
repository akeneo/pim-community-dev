# UPGRADE FROM 2.3 TO 3.0

## Migrate your custom code

Several classes and services have been moved or renamed. The following commands help to migrate references to them:

```bash
find ./src/ -type f -print0 | xargs -0 sed -i 's/PimEnterprise\\Component\\Catalog\\Security/PimEnterprise\\Component\\Security/g'
find ./src/ -type f -print0 | xargs -0 sed -i 's/PimEnterprise\\Bundle\\VersioningBundle/PimEnterprise\\Bundle\\RevertBundle/g'
find ./src/ -type f -print0 | xargs -0 sed -i 's/PimEnterprise\\Bundle\\VersioningBundle\\UpdateGuesser/PimEnterprise\\Bundle\\SecurityBundle\\UpdateGuesser/g'
find ./src/ -type f -print0 | xargs -0 sed -i 's/PimEnterprise\\Bundle\\VersioningBundle\\EventSubscriber\\AddVersionSubscriber/PimEnterprise\\Bundle\\WorkflowBundle\\EventSubscriber\\PublishedProduct\\SkipVersionSubscriber/g'
find ./src/ -type f -print0 | xargs -0 sed -i 's/PimEnterprise\\Bundle\\VersioningBundle\\Purger/PimEnterprise\\Bundle\\WorkflowBundle\\Purger/g'
find ./src/ -type f -print0 | xargs -0 sed -i 's/PimEnterprise\\Bundle\\ApiBundle\\Normalizer/PimEnterprise\\Component\\ProductAsset\\Normalizer\\ExternalApi/g'
find ./src/ -type f -print0 | xargs -0 sed -i 's/PimEnterprise\\Bundle\\EnrichBundle\\Controller\\Rest/PimEnterprise\\Bundle\\ProductAssetBundle\\Controller\\Rest/g'
find ./src/ -type f -print0 | xargs -0 sed -i 's/PimEnterprise\\Bundle\\FilterBundle\\Filter\\Tag/PimEnterprise\\Bundle\\ProductAssetBundle\\Datagrid\\Filter/g'
find ./src/ -type f -print0 | xargs -0 sed -i 's/PimEnterprise\\Bundle\\EnrichBundle\\Controller\\Rest\\ChannelController/PimEnterprise\\Bundle\\ProductAssetBundle\\Controller\\Rest\\AssetTransformationController/g'
find ./src/ -type f -print0 | xargs -0 sed -i 's/PimEnterprise\\Bundle\\EnrichBundle\\Normalizer\\AssetNormalizer/PimEnterprise\\Component\\ProductAsset\\Normalizer\\InternalApi\\AssetNormalizer/g'
find ./src/ -type f -print0 | xargs -0 sed -i 's/PimEnterprise\\Bundle\\SecurityBundle\\EventSubscriber\\Datagrid\\AssetCategoryAccessSubscriber/PimEnterprise\\Bundle\\ProductAssetBundle\\Security\\AssetCategoryAccessSubscriber/g'
find ./src/ -type f -print0 | xargs -0 sed -i 's/PimEnterprise\\Bundle\\SecurityBundle\\Normalizer\\Flat\\AssetCategoryNormalizer/PimEnterprise\\Component\\ProductAsset\\Normalizer\\Flat\\AssetCategoryNormalizer/g'
find ./src/ -type f -print0 | xargs -0 sed -i 's/PimEnterprise\\Bundle\\ApiBundle\\Controller\\ProductDraftController/PimEnterprise\\Bundle\\WorkflowBundle\\Controller\\Api\\ProductDraftController/g'
find ./src/ -type f -print0 | xargs -0 sed -i 's/PimEnterprise\\Bundle\\ApiBundle\\Controller\\ProductProposalController/PimEnterprise\\Bundle\\WorkflowBundle\\Controller\\Api\\ProductProposalController/g'
find ./src/ -type f -print0 | xargs -0 sed -i 's/PimEnterprise\\Bundle\\ApiBundle\\Router\\ProxyProductRouter/PimEnterprise\\Bundle\\WorkflowBundle\\Router\\ProxyProductRouter/g'
find ./src/ -type f -print0 | xargs -0 sed -i 's/PimEnterprise\\Component\\Api\\Normalizer\\ProductNormalizer/PimEnterprise\\Component\\Workflow\\Normalizer\\ExternalApi\\ProductNormalizer/g'
find ./src/ -type f -print0 | xargs -0 sed -i 's/PimEnterprise\\Bundle\\ApiBundle\\Doctrine\\ORM\\Repository\\AssetRepository/PimEnterprise\\Bundle\\ProductAssetBundle\\Doctrine\\ORM\\Repository\\ExternalApi\\AssetRepository/g'
find ./src/ -type f -print0 | xargs -0 sed -i 's/PimEnterprise\\Bundle\\ApiBundle\\Controller\\AssetCategoryController/PimEnterprise\\Bundle\\ProductAssetBundle\\Controller\\ExternalApi\\AssetCategoryController/g'
find ./src/ -type f -print0 | xargs -0 sed -i 's/PimEnterprise\\Bundle\\ApiBundle\\Controller\\AssetController/PimEnterprise\\Bundle\\ProductAssetBundle\\Controller\\ExternalApi\\AssetController/g'
find ./src/ -type f -print0 | xargs -0 sed -i 's/PimEnterprise\\Bundle\\ApiBundle\\Controller\\AssetReferenceController/PimEnterprise\\Bundle\\ProductAssetBundle\\Controller\\ExternalApi\\AssetReferenceController/g'
find ./src/ -type f -print0 | xargs -0 sed -i 's/PimEnterprise\\Bundle\\ApiBundle\\Controller\\AssetTagController/PimEnterprise\\Bundle\\ProductAssetBundle\\Controller\\ExternalApi\\AssetTagController/g'
find ./src/ -type f -print0 | xargs -0 sed -i 's/PimEnterprise\\Bundle\\ApiBundle\\Controller\\AssetVariationController/PimEnterprise\\Bundle\\ProductAssetBundle\\Controller\\ExternalApi\\AssetVariationController/g'
find ./src/ -type f -print0 | xargs -0 sed -i 's/PimEnterprise\\Bundle\\ApiBundle\\Normalizer\\AssetReferenceNormalizer/PimEnterprise\\Component\\ProductAsset\\Normalizer\\ExternalApi\\AssetReferenceNormalizer/g'
find ./src/ -type f -print0 | xargs -0 sed -i 's/PimEnterprise\\Bundle\\ApiBundle\\Normalizer\\AssetVariationNormalizer/PimEnterprise\\Component\\ProductAsset\\Normalizer\\ExternalApi\\AssetVariationNormalizer/g'
find ./src/ -type f -print0 | xargs -0 sed -i 's/PimEnterprise\\Bundle\\DataGridBundle\\Datagrid\\Configuration\\ProductDraft\\GridHelper/PimEnterprise\\Bundle\\WorkflowBundle\\Datagrid\\Configuration\\ProductDraft\\GridHelper/g'
find ./src/ -type f -print0 | xargs -0 sed -i 's/PimEnterprise\\Bundle\\DataGridBundle\\Datagrid\\Configuration\\Proposal\\ContextConfigurator/PimEnterprise\\Bundle\\WorkflowBundle\\Datagrid\\Configuration\\Proposal\\ContextConfigurator/g'
find ./src/ -type f -print0 | xargs -0 sed -i 's/PimEnterprise\\Bundle\\DataGridBundle\\Datagrid\\Configuration\\Proposal\\GridHelper/PimEnterprise\\Bundle\\WorkflowBundle\\Datagrid\\Configuration\\Proposal\\GridHelper/g'
find ./src/ -type f -print0 | xargs -0 sed -i 's/PimEnterprise\\Bundle\\DataGridBundle\\Datasource\\ProductProposalDatasource/PimEnterprise\\Bundle\\WorkflowBundle\\Datagrid\\Datasource\\ProductProposalDatasource/g'
find ./src/ -type f -print0 | xargs -0 sed -i 's/PimEnterprise\\Bundle\\DataGridBundle\\Datasource\\ResultRecord\\ORM\\ProductDraftHydrator/PimEnterprise\\Bundle\\WorkflowBundle\\Datagrid\\Datasource\\ResultRecord\\ProductDraftHydrator/g'
find ./src/ -type f -print0 | xargs -0 sed -i 's/PimEnterprise\\Bundle\\DataGridBundle\\EventListener\\ConfigureProposalGridListener/PimEnterprise\\Bundle\\WorkflowBundle\\Datagrid\\EventListener\\ConfigureProposalGridListener/g'
find ./src/ -type f -print0 | xargs -0 sed -i 's/PimEnterprise\\Bundle\\FilterBundle\\Filter\\ProductDraft\\AttributeChoiceFilter/PimEnterprise\\Bundle\\WorkflowBundle\\Datagrid\\Filter\\AttributeChoiceFilter/g'
find ./src/ -type f -print0 | xargs -0 sed -i 's/PimEnterprise\\Bundle\\FilterBundle\\Filter\\ProductDraft\\AuthorFilter/PimEnterprise\\Bundle\\WorkflowBundle\\Datagrid\\Filter\\AuthorFilter/g'
find ./src/ -type f -print0 | xargs -0 sed -i 's/PimEnterprise\\Bundle\\FilterBundle\\Filter\\ProductDraft\\ChoiceFilter/PimEnterprise\\Bundle\\WorkflowBundle\\Datagrid\\Filter\\ChoiceFilter/g'
find ./src/ -type f -print0 | xargs -0 sed -i 's/PimEnterprise\\Bundle\\FilterBundle\\Filter\\ProductDraftFilterUtility/PimEnterprise\\Bundle\\WorkflowBundle\\Datagrid\\Filter\\ProductDraftFilterUtility/g'
find ./src/ -type f -print0 | xargs -0 sed -i 's/PimEnterprise\\Bundle\\DataGridBundle\\Extension\\MassAction\\Handler\\MassApproveActionHandler/PimEnterprise\\Bundle\\WorkflowBundle\\Datagrid\\MassAction\\Handler\\MassApproveActionHandler/g'
find ./src/ -type f -print0 | xargs -0 sed -i 's/PimEnterprise\\Bundle\\DataGridBundle\\Extension\\MassAction\\Handler\\MassRefuseActionHandler/PimEnterprise\\Bundle\\WorkflowBundle\\Datagrid\\MassAction\\Handler\\MassRefuseActionHandler/g'
find ./src/ -type f -print0 | xargs -0 sed -i 's/PimEnterprise\\Bundle\\SecurityBundle\\Voter\\ProductDraftVoter/PimEnterprise\\Bundle\\WorkflowBundle\\Security\\ProductDraftVoter/g'
find ./src/ -type f -print0 | xargs -0 sed -i 's/PimEnterprise\\Bundle\\DashboardBundle\\Widget\\ProposalWidget/PimEnterprise\\Bundle\\WorkflowBundle\\Widget\\ProposalWidget/g'
find ./src/ -type f -print0 | xargs -0 sed -i 's/PimEnterprise\\Bundle\\DashboardBundle\\Widget\\ProposalWidget/PimEnterprise\\Bundle\\WorkflowBundle\\Widget\\ProposalWidget/g'
find ./src/ -type f -print0 | xargs -0 sed -i 's/PimEnterprise\\Component\\Api\\Updater\\AssetUpdater/PimEnterprise\\Component\\ProductAsset\\Updater\\ExternalApi\\AssetUpdater/g'
find ./src/ -type f -print0 | xargs -0 sed -i 's/PimEnterprise\\Bundle\\WorkflowBundle\\Controller\\Api\\ProductDraftController/PimEnterprise\\Bundle\\WorkflowBundle\\Controller\\ExternalApi\\ProductDraftController/g'
find ./src/ -type f -print0 | xargs -0 sed -i 's/PimEnterprise\\Bundle\\WorkflowBundle\\Controller\\Api\\ProductProposalController/PimEnterprise\\Bundle\\WorkflowBundle\\Controller\\ExternalApi\\ProductProposalController/g'
find ./src/ -type f -print0 | xargs -0 sed -i 's/PimEnterprise\\Bundle\\ApiBundle\\Controller\\PublishedProductController/PimEnterprise\\Bundle\\WorkflowBundle\\Controller\\ExternalApi\\PublishedProductController/g'
find ./src/ -type f -print0 | xargs -0 sed -i 's/PimEnterprise\\Component\\Api\\Normalizer\\PublishedProductNormalizer/PimEnterprise\\Component\\Workflow\\Normalizer\\ExternalApi\\PublishedProductNormalizer/g'
find ./src/ -type f -print0 | xargs -0 sed -i 's/PimEnterprise\\Bundle\\DataGridBundle\\Datagrid\\Configuration\\PublishedProduct\\GridHelper/PimEnterprise\\Bundle\\WorkflowBundle\\Datagrid\\Configuration\\PublishedProduct\\GridHelper/g'
find ./src/ -type f -print0 | xargs -0 sed -i 's/PimEnterprise\\Bundle\\DataGridBundle\\Datasource\\ResultRecord\\ORM\\ProductHistoryHydrator/PimEnterprise\\Bundle\\WorkflowBundle\\Datagrid\\Datasource\\ResultRecord\\PublishedProductHistoryHydrator/g'
find ./src/ -type f -print0 | xargs -0 sed -i 's/PimEnterprise\\Bundle\\EnrichBundle\\MassEditAction\\Tasklet\\AbstractProductPublisherTasklet/PimEnterprise\\Bundle\\WorkflowBundle\\MassEditAction\\Tasklet\\AbstractProductPublisherTasklet/g'
find ./src/ -type f -print0 | xargs -0 sed -i 's/PimEnterprise\\Bundle\\EnrichBundle\\Connector\\Job\\JobParameters\\ConstraintCollectionProvider\\MassPublish/PimEnterprise\\Bundle\\WorkflowBundle\\MassEditAction\\Tasklet\\JobParameters\\ConstraintCollection/g'
find ./src/ -type f -print0 | xargs -0 sed -i 's/PimEnterprise\\Bundle\\EnrichBundle\\Connector\\Job\\JobParameters\\DefaultValuesProvider\\MassPublish/PimEnterprise\\Bundle\\WorkflowBundle\\MassEditAction\\Tasklet\\JobParameters\\DefaultValues/g'
find ./src/ -type f -print0 | xargs -0 sed -i 's/PimEnterprise\\Bundle\\EnrichBundle\\MassEditAction\\Tasklet\\PublishProductTasklet/PimEnterprise\\Bundle\\WorkflowBundle\\MassEditAction\\Tasklet\\PublishProductTasklet/g'
find ./src/ -type f -print0 | xargs -0 sed -i 's/PimEnterprise\\Bundle\\EnrichBundle\\MassEditAction\\Tasklet\\UnpublishProductTasklet/PimEnterprise\\Bundle\\WorkflowBundle\\MassEditAction\\Tasklet\\UnpublishProductTasklet/g'
find ./src/ -type f -print0 | xargs -0 sed -i 's/PimEnterprise\\Bundle\\EnrichBundle\\Normalizer\\ProductNormalizer/PimEnterprise\\Bundle\\WorkflowBundle\\Normalizer\\ProductNormalizer/g'
find ./src/ -type f -print0 | xargs -0 sed -i 's/PimEnterprise\\Bundle\\EnrichBundle\\Normalizer\\VersionNormalizer/PimEnterprise\\Bundle\\WorkflowBundle\\Versioning\\VersionNormalizer/g'
find ./src/ -type f -print0 | xargs -0 sed -i 's/PimEnterprise\\Bundle\\ApiBundle\\Security\\AccessDeniedHandler/PimEnterprise\\Bundle\\SecurityBundle\\Api\\AccessDeniedHandler/g'
find ./src/ -type f -print0 | xargs -0 sed -i 's/PimEnterprise\\Bundle\\ApiBundle\\Checker\\QueryParametersChecker/PimEnterprise\\Bundle\\SecurityBundle\\Api\\QueryParametersChecker/g'
find ./src/ -type f -print0 | xargs -0 sed -i 's/PimEnterprise\\Bundle\\CatalogBundle\\Filter\\AbstractAuthorizationFilter\\DatagridViewFilter/PimEnterprise\\Bundle\\SecurityBundle\\Filter\\AbstractAuthorizationFilter\\DatagridViewFilter/g'
find ./src/ -type f -print0 | xargs -0 sed -i 's/PimEnterprise\\Bundle\\CatalogBundle\\Manager\\CategoryManager\\ProductController/PimEnterprise\\Bundle\\SecurityBundle\\Persistence\\ORM\\Category\\CategoryManager\\ProductController/g'
find ./src/ -type f -print0 | xargs -0 sed -i 's/PimEnterprise\\Bundle\\CatalogBundle\\Manager\\CategoryManager\\ProductModelController/PimEnterprise\\Bundle\\SecurityBundle\\Persistence\\ORM\\Category\\CategoryManager\\ProductModelController/g'
find ./src/ -type f -print0 | xargs -0 sed -i 's/PimEnterprise\\Bundle\\CatalogBundle\\Filter\\AttributeViewRightFilter\\AttributeRepository/PimEnterprise\\Bundle\\SecurityBundle\\Filter\\AttributeViewRightFilter\\AttributeRepository/g'
find ./src/ -type f -print0 | xargs -0 sed -i 's/PimEnterprise\\Bundle\\CatalogBundle\\Filter\\JobInstanceEditRightFilter/PimEnterprise\\Bundle\\SecurityBundle\\Filter\\JobInstanceEditRightFilter/g'
find ./src/ -type f -print0 | xargs -0 sed -i 's/PimEnterprise\\Bundle\\CatalogBundle\\Filter\\AbstractAuthorizationFilter/PimEnterprise\\Bundle\\SecurityBundle\\Filter\\AbstractAuthorizationFilter/g'
find ./src/ -type f -print0 | xargs -0 sed -i 's/PimEnterprise\\Bundle\\CatalogBundle\\Filter\\AttributeEditRightFilter/PimEnterprise\\Bundle\\SecurityBundle\\Filter\\AttributeEditRightFilter/g'
find ./src/ -type f -print0 | xargs -0 sed -i 's/PimEnterprise\\Bundle\\CatalogBundle\\Filter\\AttributeGroupViewRightFilter/PimEnterprise\\Bundle\\SecurityBundle\\Filter\\AttributeGroupViewRightFilter/g'
find ./src/ -type f -print0 | xargs -0 sed -i 's/PimEnterprise\\Bundle\\CatalogBundle\\Filter\\AttributeViewRightFilter/PimEnterprise\\Bundle\\SecurityBundle\\Filter\\AttributeViewRightFilter/g'
find ./src/ -type f -print0 | xargs -0 sed -i 's/PimEnterprise\\Bundle\\CatalogBundle\\Filter\\LocaleEditRightFilter/PimEnterprise\\Bundle\\SecurityBundle\\Filter\\LocaleEditRightFilter/g'
find ./src/ -type f -print0 | xargs -0 sed -i 's/PimEnterprise\\Bundle\\CatalogBundle\\Filter\\LocaleViewRightFilter/PimEnterprise\\Bundle\\SecurityBundle\\Filter\\LocaleViewRightFilter/g'
find ./src/ -type f -print0 | xargs -0 sed -i 's/PimEnterprise\\Bundle\\CatalogBundle\\Filter\\ProductAndProductModelDeleteRightFilter/PimEnterprise\\Bundle\\SecurityBundle\\Filter\\ProductAndProductModelDeleteRightFilter/g'
find ./src/ -type f -print0 | xargs -0 sed -i 's/PimEnterprise\\Bundle\\CatalogBundle\\Filter\\ProductRightEditFilter/PimEnterprise\\Bundle\\SecurityBundle\\Filter\\ProductRightEditFilter/g'
find ./src/ -type f -print0 | xargs -0 sed -i 's/PimEnterprise\\Bundle\\CatalogBundle\\Filter\\ProductRightViewFilter/PimEnterprise\\Bundle\\SecurityBundle\\Filter\\ProductRightViewFilter/g'
find ./src/ -type f -print0 | xargs -0 sed -i 's/PimEnterprise\\Bundle\\CatalogBundle\\Filter\\ProductValueAttributeGroupRightFilter/PimEnterprise\\Bundle\\SecurityBundle\\Filter\\ProductValueAttributeGroupRightFilter/g'
find ./src/ -type f -print0 | xargs -0 sed -i 's/PimEnterprise\\Bundle\\CatalogBundle\\Filter\\ProductValueLocaleRightFilter/PimEnterprise\\Bundle\\SecurityBundle\\Filter\\ProductValueLocaleRightFilter/g'
find ./src/ -type f -print0 | xargs -0 sed -i 's/PimEnterprise\\Bundle\\CatalogBundle\\Doctrine\\ORM\\Repository\\AttributeRepository/PimEnterprise\\Bundle\\SecurityBundle\\Persistence\\ORM\\Attribute\\AttributeRepository/g'
find ./src/ -type f -print0 | xargs -0 sed -i 's/PimEnterprise\\Bundle\\CatalogBundle\\Manager\\CategoryManager/PimEnterprise\\Bundle\\SecurityBundle\\Persistence\\ORM\\Category\\CategoryManager/g'
find ./src/ -type f -print0 | xargs -0 sed -i 's/PimEnterprise\\Bundle\\CatalogBundle\\Doctrine\\ORM\\Repository\\ProductMassActionRepository/PimEnterprise\\Bundle\\SecurityBundle\\Persistence\\ORM\\EntityWithValue\\ProductMassActionRepository/g'
find ./src/ -type f -print0 | xargs -0 sed -i 's/PimEnterprise\\Bundle\\CatalogBundle\\Doctrine\\ORM\\Repository\\ProductModelRepository/PimEnterprise\\Bundle\\SecurityBundle\\Persistence\\ORM\\EntityWithValue\\ProductModelRepository/g'
find ./src/ -type f -print0 | xargs -0 sed -i 's/PimEnterprise\\Bundle\\CatalogBundle\\Security\\Elasticsearch\\ProductQueryBuilderFactory/PimEnterprise\\Bundle\\SecurityBundle\\Persistence\\ORM\\EntityWithValue\\ProductQueryBuilderFactory/g'
find ./src/ -type f -print0 | xargs -0 sed -i 's/PimEnterprise\\Bundle\\CatalogBundle\\Doctrine\\ORM\\Repository\\ProductRepository/PimEnterprise\\Bundle\\SecurityBundle\\Persistence\\ORM\\EntityWithValue\\ProductRepository/g'
find ./src/ -type f -print0 | xargs -0 sed -i 's/PimEnterprise\\Bundle\\CatalogBundle\\Security\\Doctrine\\Common\\Saver\\FilteredEntitySaver/PimEnterprise\\Bundle\\SecurityBundle\\Persistence\\ORM\\FilteredEntitySaver/g'
