<script type="text/javascript">
$(function() {
    'use strict';

    if (typeof(Storage)!=="undefined") {
        $.urlParam = function(name) {
            var results = new RegExp('[\\?&]' + name + '=([^&#]*)').exec(window.location.href);
            if (results==null){
               return null;
            } else {
               return results[1] || 0;
            }
        }

        var currentBackUrl = decodeURIComponent($.urlParam('back'));
        if (currentBackUrl != 'null') {
            sessionStorage.backToGridUrl = currentBackUrl;
        }

        if (!sessionStorage.backToGridUrl) {
            sessionStorage.backToGridUrl = $('a.back-link').first().attr('href');
        }

        $('a.back-link').each(function( index ) { $(this).attr('href', sessionStorage.backToGridUrl) });
    }
});
</script>
