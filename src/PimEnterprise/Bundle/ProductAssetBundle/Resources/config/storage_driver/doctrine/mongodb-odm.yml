parameters:
    pimee_product_asset.event_subscriber.mongodb.asset_mongo.class: PimEnterprise\Bundle\ProductAssetBundle\EventSubscriber\MongoDBODM\AssetEventMongoDBSubscriber
    pimee_product_asset.repository.product_cascade_removal.class: PimEnterprise\Bundle\ProductAssetBundle\Doctrine\MongoDBODM\Repository\ProductCascadeRemovalRepository

services:
    pimee_product_asset.event_subscriber.mongodb.asset_mongo:
        class: %pimee_product_asset.event_subscriber.mongodb.asset_mongo.class%
        arguments:
            - '@pimee_product_asset.repository.product_cascade_removal'
            - '@pim_catalog.repository.attribute'
        tags:
            - { name: kernel.event_subscriber, priority: 100 }

    pimee_product_asset.repository.product_cascade_removal:
        class: %pimee_product_asset.repository.product_cascade_removal.class%
        arguments:
            - '@pim_catalog.object_manager.product'
            - %pim_catalog.entity.product.class%
