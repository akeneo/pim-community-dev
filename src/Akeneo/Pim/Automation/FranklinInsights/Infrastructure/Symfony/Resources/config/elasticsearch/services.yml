services:
    akeneo.pim.automation.franklin_insights.elasticsearch.filter.franklin_subscription:
        class: 'Akeneo\Pim\Automation\FranklinInsights\Infrastructure\Elasticsearch\Filter\FranklinSubscriptionFilter'
        tags:
            - { name: 'pim_catalog.elasticsearch.query.product_and_product_model_filter', priority: 30 }

    akeneo.pim.automation.franklin_insights.elasticsearch.updater.product_subscription:
        class: 'Akeneo\Pim\Automation\FranklinInsights\Infrastructure\Elasticsearch\ProductSubscriptionUpdater'
        arguments:
            - '@akeneo_elasticsearch.client_builder'
            - ['%index_hosts%']
            - '%product_and_product_model_index_name%'

    akeneo.pim.automation.franklin_insights.elasticsearch.indexing.get_product_subscription_for_indexation:
        class: Akeneo\Pim\Automation\FranklinInsights\Infrastructure\Elasticsearch\Indexing\GetProductSubscriptionForProductProjection
        arguments:
            - '@akeneo.pim.automation.franklin_insights.infrastructure.persistence.query.product_subscriptions_exist'
        tags:
            - { name: 'akeneo.pim.enrichment.product.query.indexing_additional_properties' }
