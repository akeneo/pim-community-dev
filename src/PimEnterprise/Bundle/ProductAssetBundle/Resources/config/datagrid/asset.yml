datagrid:
    asset-grid:
        options:
            entityHint: asset
            requireJSModules:
                - oro/datagrid/actions-panel
                - oro/datagrid/pagination-input
            displayTypes:
                default:
                    label: grid.display_selector.list
                gallery:
                    label: grid.display_selector.gallery
                    rowView: oro/datagrid/asset-row
        source:
            acl_resource:      pimee_product_asset_index
            type:              pimee_datasource_asset
            entity:            '%pimee_product_asset.model.asset.class%'
            repository_method: createAssetDatagridQueryBuilder
            repository_parameters:
                - currentUser
        columns:
            thumbnail:
                type:          asset_thumbnail
                frontend_type: html
                label:         pimee_product_asset.thumbnail.label
                template:      PimEnterpriseProductAssetBundle:Property:thumbnail.html.twig
                selector:      asset_thumbnail
            code:
                type:          field
                frontend_type: string
                label:         pimee_product_asset.code.label
            description:
                type:          field
                frontend_type: string
                label:         pimee_product_asset.description.label
            tags:
                type:          twig
                frontend_type: html
                label:         pimee_product_asset.tags.label
                template:      PimDataGridBundle:Property:options.html.twig
            endOfUseAt:
                frontend_type: date
                type:          asset_datetime
                label:         pimee_product_asset.endOfUse.label
            createdAt:
                frontend_type: date
                type:          date_with_user_timezone
                label:         pimee_product_asset.createdAt.label
            updatedAt:
                frontend_type: date
                type:          date_with_user_timezone
                label:         pimee_product_asset.updatedAt.label
        sorters:
            columns:
                code:
                    data_name: asset.code
                description:
                    data_name: asset.description
                endOfUseAt:
                    data_name: asset.endOfUseAt
                createdAt:
                    data_name: asset.createdAt
                updatedAt:
                    data_name: asset.updatedAt
            default:
                id: '%oro_datagrid.extension.orm_sorter.class%::DIRECTION_DESC'
        filters:
            columns:
                code:
                    type:      search
                    label:     pimee_product_asset.code.label
                    data_name: asset.code
                description:
                    type:      string
                    label:     pimee_product_asset.description.label
                    data_name: asset.description
                tags:
                    type:      product_asset_tag
                    data_name: tags.id
                    label:     pimee_product_asset.tags.label
                    options:
                        field_options:
                            attr:
                                empty_choice: true
                            multiple: true
                            choices:  '@pimee_product_asset.repository.tag->findAllCodes'
                endOfUseAt:
                    type:      date
                    data_name: asset.endOfUseAt
                    label:     pimee_product_asset.endOfUse.label
                createdAt:
                    type:      date
                    data_name: asset.createdAt
                updatedAt:
                    type:      date
                    data_name: asset.updatedAt
                scope:
                    type:      product_scope
                    label:     Scope
                    data_name: ~
                    options:
                        field_options:
                            choices: '@pim_catalog.repository.channel->getLabelsIndexedByCode(@pim_user.context.user->getCurrentLocaleCode())'
        actions:
            edit:
                launcherOptions:
                    className: AknIconButton AknIconButton--small AknIconButton--edit
                type:      navigate
                label:     pimee_product_asset.enrich_asset.grid.edit
                tab:       pim_product_asset_properties
                link:      edit_link
                rowAction: true
        properties:
            id: ~
            edit_link:
                type: url
                route: pimee_product_asset_edit
                params:
                    - id
                    - dataLocale
        mass_actions:
            asset_edit:
                type: edit
                label: pim.grid.mass_action.asset_edit
                acl_resource: pimee_product_asset_index
                route: pimee_product_asset_mass_edit_action
                route_parameters:
                    actionName: asset-edit
                className: 'AknButton AknButton--action AknButtonList-item'
            delete:
                type: delete
                className: 'AknButton AknButton--important AknButtonList-item'
                label: pim.grid.mass_action.delete_assets
                entity_name: asset
                acl_resource: pimee_product_asset_remove
                handler: mass_delete_asset
                messages:
                    confirm_title: pim_datagrid.mass_action.delete.confirm_title
                    confirm_content: pimee_product_asset.datagrid.mass_action.delete.confirm_content
                    confirm_ok: pim_datagrid.mass_action.delete.label
                    success: pimee_product_asset.datagrid.mass_action.delete.success
                    error: pimee_product_asset.datagrid.mass_action.delete.error
                    empty_selection: pimee_product_asset.datagrid.mass_action.delete.empty_selection
