parameters:
    pim_enrich.connector.processor.mass_edit.product.edit_common_attributes.class:          PimEnterprise\Bundle\EnrichBundle\Connector\Processor\MassEdit\Product\EditCommonAttributesProcessor
    pim_enrich.connector.processor.mass_edit.product.edit_attributes.class:                 PimEnterprise\Bundle\EnrichBundle\Connector\Processor\MassEdit\Product\EditAttributesProcessor
    pim_enrich.connector.processor.mass_edit.product.add_attribute_value.class:             PimEnterprise\Bundle\EnrichBundle\Connector\Processor\MassEdit\Product\AddAttributeValueProcessor
    pimee_enrich.connector.processor.mass_edit.product.add_value_with_permissions.class:    PimEnterprise\Bundle\EnrichBundle\Connector\Processor\MassEdit\Product\AddProductValueWithPermissionProcessor
    pimee_enrich.connector.processor.mass_edit.product.update_value_with_permissions.class: PimEnterprise\Bundle\EnrichBundle\Connector\Processor\MassEdit\Product\UpdateProductValueWithPermissionProcessor
    pimee_enrich.connector.processor.mass_edit.product.remove_value_with_permissions.class: PimEnterprise\Bundle\EnrichBundle\Connector\Processor\MassEdit\Product\RemoveProductValueWithPermissionProcessor

services:
    # overriden processor from CE
    pim_enrich.connector.processor.mass_edit.product.edit_common_attributes:
        class: '%pim_enrich.connector.processor.mass_edit.product.edit_common_attributes.class%'
        arguments:
            - '@pim_catalog.validator.product'
            - '@pim_catalog.repository.product'
            - '@pim_catalog.updater.product'
            - '@akeneo_storage_utils.doctrine.object_detacher'
            - '@pim_user.manager'
            - '@security.token_storage'
            - '@security.authorization_checker'

    pim_enrich.connector.processor.mass_edit.product.edit_attributes:
        class: '%pim_enrich.connector.processor.mass_edit.product.edit_attributes.class%'
        arguments:
            - '@pim_catalog.validator.product'
            - '@pim_catalog.validator.product_model'
            - '@pim_catalog.updater.product'
            - '@pim_catalog.updater.product_model'
            - '@pim_catalog.repository.cached_attribute'
            - '@pim_catalog.entity_with_family_variant.check_attribute_editable'
            - '@pim_user.manager'
            - '@security.token_storage'
            - '@security.authorization_checker'

    pim_enrich.connector.processor.mass_edit.product.add_attribute_value:
        class: '%pim_enrich.connector.processor.mass_edit.product.add_attribute_value.class%'
        arguments:
            - '@pim_catalog.validator.product'
            - '@pim_catalog.validator.product_model'
            - '@pim_catalog.updater.property_adder'
            - '@pim_catalog.repository.cached_attribute'
            - '@pim_catalog.entity_with_family_variant.check_attribute_editable'
            - ['pim_catalog_multiselect', 'pim_reference_data_multiselect', 'pim_assets_collection']
            - '@oro_user.manager'
            - '@security.token_storage'
            - '@security.authorization_checker'

    pimee_enrich.mass_edit.add_product_value.processor:
        class: '%pimee_enrich.connector.processor.mass_edit.product.add_value_with_permissions.class%'
        arguments:
            - '@pim_catalog.updater.property_adder'
            - '@pim_catalog.validator.product'
            - '@pim_user.manager'
            - '@security.authorization_checker'
            - '@security.token_storage'

    pimee_enrich.mass_edit.update_product_value.processor:
        class: '%pimee_enrich.connector.processor.mass_edit.product.update_value_with_permissions.class%'
        arguments:
            - '@pim_catalog.updater.property_setter'
            - '@pim_catalog.validator.product'
            - '@pim_user.manager'
            - '@security.authorization_checker'
            - '@security.token_storage'

    pimee_enrich.mass_edit.remove_product_value.processor:
        class: '%pimee_enrich.connector.processor.mass_edit.product.remove_value_with_permissions.class%'
        arguments:
            - '@pim_catalog.updater.property_remover'
            - '@pim_catalog.validator.product'
            - '@pim_user.manager'
            - '@security.authorization_checker'
            - '@security.token_storage'
