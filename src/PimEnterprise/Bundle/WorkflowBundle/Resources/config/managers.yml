parameters:
    pimee_workflow.manager.published_product.class: PimEnterprise\Bundle\WorkflowBundle\Manager\PublishedProductManager
    pimee_workflow.manager.product_draft.class: PimEnterprise\Bundle\WorkflowBundle\Manager\ProductDraftManager

services:
    pimee_workflow.manager.published_product:
        class: %pimee_workflow.manager.published_product.class%
        arguments:
            - '@pim_catalog.repository.product'
            - '@pimee_workflow.repository.published_product'
            - '@pim_catalog.repository.attribute'
            - '@event_dispatcher'
            - '@pimee_workflow.publisher.chained'
            - '@pimee_workflow.unpublisher.product'
            - '@pim_catalog.object_manager.product'

    pimee_workflow.manager.published_product_category:
        class: %pim_catalog.manager.product_category.class%
        arguments:
            - '@pimee_workflow.repository.published_product_category'
            - '@pim_catalog.repository.category'
            - '@security.authorization_checker'
            - '@pimee_security.repository.category_access'
            - '@security.token_storage'

    pimee_workflow.manager.product_draft:
        class: %pimee_workflow.manager.product_draft.class%
        arguments:
            - '@pimee_workflow.saver.working_copy_product'
            - '@pim_user.context.user'
            - '@pimee_workflow.factory.product_draft'
            - '@pimee_workflow.repository.product_draft'
            - '@pimee_workflow.applier.product_draft'
            - '@event_dispatcher'
            - '@pimee_workflow.saver.product_draft'
            - '@pimee_workflow.remover.product_draft'
