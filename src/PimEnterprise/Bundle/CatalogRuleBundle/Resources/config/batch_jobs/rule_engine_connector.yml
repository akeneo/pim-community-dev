connector:
    name: Akeneo Rule Engine Connector
    jobs:
        yml_rule_import:
            title: pimee_catalog_rule.jobs.yml_rule_import.title
            type:  import
            steps:
                import:
                    title: pimee_catalog_rule.jobs.yml_rule_import.import.title
                    services:
                        reader:    pim_base_connector.reader.file.yaml
                        processor: pimee_catalog_rule.processor.denormalization.rule_definition
                        writer:    pimee_catalog_rule.writer.doctrine.rule_definition
        yml_rule_export:
            title: pimee_catalog_rule.jobs.yml_rule_export.title
            type:  export
            steps:
                export:
                    title: pimee_catalog_rule.jobs.yml_rule_export.export.title
                    services:
                        reader:    pimee_catalog_rule.reader.doctrine.rule_definition
                        processor: pimee_catalog_rule.processor.normalization.rule_definition
                        writer:    pimee_catalog_rule.writer.file.yaml_rule_definition
        rule_impacted_product_count:
            title: pimee_catalog_rule.jobs.impacted_product_count.title
            type:  mass_edit_rule
            steps:
                perform:
                    title: pimee_catalog_rule.jobs.impacted_product_count.title
                    class: "%pim_connector.step.tasklet.class%"
                    services:
                        tasklet: pimee_catalog_rule.tasklet.impacted_product_count
