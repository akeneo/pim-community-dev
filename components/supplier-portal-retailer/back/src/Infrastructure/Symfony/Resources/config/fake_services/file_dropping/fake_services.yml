services:
    # Repositories
    Akeneo\SupplierPortal\Retailer\Domain\ProductFileDropping\Write\ProductFileRepository:
        class: Akeneo\SupplierPortal\Retailer\Infrastructure\ProductFileDropping\Repository\InMemory\InMemoryRepository

    Akeneo\SupplierPortal\Retailer\Domain\ProductFileDropping\GetProductFileWithMetadataAndComments:
        class: Akeneo\SupplierPortal\Retailer\Infrastructure\ProductFileDropping\Query\InMemory\InMemoryGetProductFileWithMetadataAndComments
        arguments:
            - '@Akeneo\SupplierPortal\Retailer\Domain\ProductFileDropping\Write\ProductFileRepository'

    Akeneo\SupplierPortal\Retailer\Domain\ProductFileDropping\MarkCommentsAsReadBySupplier:
        class: Akeneo\SupplierPortal\Retailer\Infrastructure\ProductFileDropping\Query\InMemory\InMemoryMarkCommentsAsReadBySupplier
        arguments:
            - '@Akeneo\SupplierPortal\Retailer\Domain\ProductFileDropping\Write\ProductFileRepository'

    Akeneo\SupplierPortal\Retailer\Domain\ProductFileDropping\MarkCommentsAsReadByRetailer:
        class: Akeneo\SupplierPortal\Retailer\Infrastructure\ProductFileDropping\Query\InMemory\InMemoryMarkCommentsAsReadByRetailer
        arguments:
            - '@Akeneo\SupplierPortal\Retailer\Domain\ProductFileDropping\Write\ProductFileRepository'

    Akeneo\SupplierPortal\Retailer\Domain\ProductFileDropping\GetProductFilePathAndFileName:
        class: Akeneo\SupplierPortal\Retailer\Infrastructure\ProductFileDropping\Query\InMemory\InMemoryGetProductFilePathAndFileName
        arguments:
            - '@Akeneo\SupplierPortal\Retailer\Domain\ProductFileDropping\Write\ProductFileRepository'

    Akeneo\SupplierPortal\Retailer\Domain\ProductFileDropping\StreamStoredProductFile:
        class: Akeneo\SupplierPortal\Retailer\Infrastructure\ProductFileDropping\GoogleCloudStorage\InMemory\InMemoryStreamStoredProductFile

    Akeneo\SupplierPortal\Retailer\Infrastructure\ProductFileDropping\SuccessMetrics\Subscriber\LogOnMarkingCommentsAsRead:
        arguments:
            - '@Akeneo\SupplierPortal\Retailer\Infrastructure\ProductFileDropping\Query\Sql\DatabaseComputeCommentsReadDelay'
            - '@monolog.logger.supplier_portal'

    #Spout
    Akeneo\SupplierPortal\Retailer\Domain\ProductFileDropping\GetProductFilePreview:
        class: Akeneo\SupplierPortal\Retailer\Infrastructure\ProductFileDropping\Spout\InMemory\InMemoryGetProductFilePreview
