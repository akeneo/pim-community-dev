parameters:
    pimee_workflow.controller.product_draft.class:          PimEnterprise\Bundle\WorkflowBundle\Controller\ProductDraftController
    pimee_workflow.controller.published_product.class:      PimEnterprise\Bundle\WorkflowBundle\Controller\PublishedProductController
    pimee_workflow.controller.published_product_rest.class: PimEnterprise\Bundle\WorkflowBundle\Controller\Rest\PublishedProductController
    pimee_workflow.controller.product_draft_rest.class:     PimEnterprise\Bundle\WorkflowBundle\Controller\Rest\ProductDraftController
    pimee_workflow.controller.completeness_rest.class: PimEnterprise\Bundle\WorkflowBundle\Controller\Rest\CompletenessController
    pimee_workflow.controller.rest.product.class:           PimEnterprise\Bundle\WorkflowBundle\Controller\Rest\ProductController
    pimee_workflow.controller.published.mass_edit_action.class: PimEnterprise\Bundle\WorkflowBundle\Controller\MassEdit\PublishedController

services:
    pimee_workflow.controller.product_draft:
        class: '%pimee_workflow.controller.product_draft.class%'
        scope: request
        arguments:
            - '@request'
            - '@router'
            - '@security.token_storage'
            - '@translator'
            - '@pimee_workflow.repository.product_draft'
            - '@pimee_workflow.manager.product_draft'
            - '@pim_user.context.user'
            - '@akeneo_batch.launcher.simple_job_launcher'
            - '@akeneo_batch.job.job_instance_repository'
            - '@oro_datagrid.mass_action.parameters_parser'
            - '@security.authorization_checker'
            - '@pim_datagrid.adapter.oro_to_pim_grid_filter'
            - '@pim_catalog.filter.chained'

    pimee_workflow.controller.published_product:
        class: '%pimee_workflow.controller.published_product.class%'
        scope: request
        arguments:
            - '@request'
            - '@router'
            - '@templating'
            - '@translator'
            - '@pim_user.context.user'
            - '@pimee_workflow.manager.published_product'
            - '@pim_catalog.manager.completeness'
            - '@pim_catalog.repository.channel'
            - '@security.authorization_checker'

    pimee_workflow.controller.published_product_rest:
        class: '%pimee_workflow.controller.published_product_rest.class%'
        scope: request
        arguments:
            - '@security.authorization_checker'
            - '@pimee_workflow.manager.published_product'
            - '@pim_user.context.user'
            - '@pim_internal_api_serializer'

    pimee_workflow.controller.product_draft_rest:
        class: '%pimee_workflow.controller.product_draft_rest.class%'
        arguments:
            - '@security.authorization_checker'
            - '@pimee_workflow.repository.product_draft'
            - '@pimee_workflow.manager.product_draft'
            - '@pim_catalog.repository.product'
            - '@pim_internal_api_serializer'
            - '@security.token_storage'
            - '@pim_catalog.repository.attribute'
            - '@pim_catalog.repository.channel'
            - '@pim_catalog.repository.locale'
            - '@pim_user.context.user'
            - '@pim_catalog.filter.chained'
            - '@pimee_enrich.repository.attribute.search'

    pimee_workflow.controller.rest.product:
        class: '%pimee_workflow.controller.rest.product.class%'
        arguments:
            - '@pimee_workflow.repository.product_draft'
            - '@pim_catalog.repository.product'
            - '@pim_internal_api_serializer'
            - '@security.token_storage'
            - '@pim_catalog.filter.chained'

    pimee_workflow.controller.completeness_rest:
        class: '%pimee_workflow.controller.completeness_rest.class%'
        arguments:
            - '@pim_catalog.manager.completeness'
            - '@pimee_workflow.repository.published_product'
            - '@pim_catalog.repository.channel'
            - '@pim_user.context.user'
            - '@pim_enrich.normalizer.completeness_collection'
            - '@pim_catalog.filter.chained'

    pimee_workflow.controller.published.mass_edit_action:
        class: '%pimee_workflow.controller.published.mass_edit_action.class%'
        parent: pim_enrich.controller.mass_edit.abtsract
