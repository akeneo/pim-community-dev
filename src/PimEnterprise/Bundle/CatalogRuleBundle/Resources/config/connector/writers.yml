parameters:
    # execute rules
    pimee_catalog_rule.executor.rules.class: PimEnterprise\Component\CatalogRule\Connector\Executor\RulesExecutor

services:
    # import rules
    pimee_catalog_rule.writer.doctrine.rule_definition:
        class: '%pim_connector.writer.database.base.class%'
        arguments:
            - '@akeneo_rule_engine.saver.rule_definition'
            - '@akeneo_storage_utils.doctrine.object_detacher'

    # execute rules
    pimee_catalog_rule.executor.rules:
        class: '%pimee_catalog_rule.executor.rules.class%'
        arguments:
            - '@pimee_catalog_rule.runner.product'
            - '@akeneo_rule_engine.repository.rule_definition'

    pimee_catalog_rule.writer.file.yaml_rule_definition:
        class: '%pim_connector.writer.file.yaml.class%'
        arguments:
            - 'rules'
