{% extends 'PimProductBundle::layout.html.twig' %}

{% block content %}

    {{ JSFV(form) }}
    
    <form method="POST" class="form-horizontal" action="{{ actionRoute }}" {{ form_enctype(form) }}>
        
        {% set buttons %}
            {{ elements.backLink(indexRoute) }}
            {% if form.vars.value.id %}
                {{ elements.deleteLink(removeRoute) }}
            {% endif %}
            {{ elements.submitBtn }}
        {% endset %}
        
        {{ elements.page_header(title, buttons) }}

        {{ elements.form_errors(form) }}

        {{ elements.accordion({ 'General Properties': form_row(form.code) ~ form_row(form.label) }, 1) }}

        {% for step in form.jobDefinition.steps %}
            {{ elements.accordion({ ('Step'|trans ~ ' ' ~ loop.index): form_widget(step) }, loop.index + 1) }}
        {% endfor %}

        {{ form_rest(form) }}
    </form>
{% endblock %}
