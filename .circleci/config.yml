version: 2.1

jobs:
    checkid:
        parameters:
            os:
                type: string
        machine:
            image: << parameters.os >>
        steps:
            - run:
                  name: ID check
                  command: |
                      id
                      (($UID == 1000))

workflows:
    version: 2

    pull_request:
        jobs:
            - checkid:
                matrix:
                    parameters:
                        os:
                            - ubuntu-2004:202111-02
                            - ubuntu-2004:202111-01
                            - ubuntu-2004:202107-02
                            - ubuntu-2004:202104-01
                            - ubuntu-2004:202101-01
                            - ubuntu-2004:202010-01
                            - ubuntu-1604:202104-01
                            - ubuntu-1604:202101-01
                            - ubuntu-1604:202010-01
                            - ubuntu-1604:202007-01
                            - ubuntu-1604:202004-01
                            - ubuntu-1604:201903-01
