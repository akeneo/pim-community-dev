[global]
daemonize = no
; log to stderr (stdout closed by phpfpm)
error_log = /proc/self/fd/2

[www]
user = www-data
group = www-data
listen = [::]:9000

access.format = '{ "fpm.fpm_time":"%t","fpm.remoteip":"%R","fpm.x-forwarded-for":"%{HTTP_X_FORWARDED_FOR}e","fpm.status":"%s","fpm.method":"%m","fpm.uri":"%r","fpm.queri":"%q","fpm.duration":"%{micro}d","fpm.reqlength":"%l","fpm.cpu":"%C","fpm.mem":"%M" }'

; log to stderr (stdout closed by phpfpm)
access.log = /proc/self/fd/2
pm.status_path= /status
pm = dynamic

pm.max_children = 50
pm.start_servers = 5
pm.min_spare_servers = 3
pm.max_spare_servers = 10
pm.max_requests = 10000

; log workers output too 
catch_workers_output = yes

; Allow to access environment variables
clear_env = no
