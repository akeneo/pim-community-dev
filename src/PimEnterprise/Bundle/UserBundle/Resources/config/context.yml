parameters:
    pimee_user.context.user.class: PimEnterprise\Bundle\UserBundle\Context\UserContext

services:
    pim_user.context.user:
        class: %pimee_user.context.user.class%
        arguments:
            - '@security.token_storage'
            - '@pim_catalog.repository.locale'
            - '@pim_catalog.repository.channel'
            - '@pim_catalog.repository.category'
            - '@request_stack'
            - '@pim_catalog.builder.choices'
            - '@security.authorization_checker'
            - '@pimee_security.repository.category_access'
            - %locale%

    pimee_user.context.user.asset:
        class: %pimee_user.context.user.class%
        arguments:
            - '@security.token_storage'
            - '@pim_catalog.repository.locale'
            - '@pim_catalog.repository.channel'
            - '@pimee_product_asset.repository.category'
            - '@request_stack'
            - '@pim_catalog.builder.choices'
            - '@security.authorization_checker'
            - '@pimee_product_asset.repository.asset_category_access'
            - %locale%
