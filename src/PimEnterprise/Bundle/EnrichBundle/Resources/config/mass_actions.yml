parameters:
    pimee_enrich.mass_edit_action.publish.class:                    PimEnterprise\Bundle\EnrichBundle\MassEditAction\Operation\Publish
    pimee_enrich.mass_edit_action.unpublish.class:                  PimEnterprise\Bundle\EnrichBundle\MassEditAction\Operation\Unpublish
    pim_enrich.mass_edit_action.edit_common_attributes.class:       PimEnterprise\Bundle\EnrichBundle\MassEditAction\Operation\EditCommonAttributes
    pim_enrich.mass_edit_action.classify.class:                     PimEnterprise\Bundle\EnrichBundle\MassEditAction\Operation\Classify
    pim_enrich.mass_edit_action.change_status.class:                PimEnterprise\Bundle\EnrichBundle\MassEditAction\Operation\ChangeStatus
    pim_enrich.mass_edit_action.change_family.class:                PimEnterprise\Bundle\EnrichBundle\MassEditAction\Operation\ChangeFamily

    pimee_enrich.mass_edit_tasklet.publish_product.class:           PimEnterprise\Bundle\EnrichBundle\MassEditAction\Tasklet\PublishProductTasklet
    pimee_enrich.mass_edit_tasklet.unpublish_product.class:         PimEnterprise\Bundle\EnrichBundle\MassEditAction\Tasklet\UnpublishProductTasklet

services:
    # Published products operation
    pimee_enrich.mass_edit_action.unpublish:
        public: false
        class: %pimee_enrich.mass_edit_action.unpublish.class%
        tags:
            -
                name: pim_enrich.mass_edit_action
                alias: unpublish
                acl: pimee_workflow_published_product_index
                datagrid: published-product-grid

    #Â New products operations
    pimee_enrich.mass_edit_action.publish:
        public: false
        class: %pimee_enrich.mass_edit_action.publish.class%
        tags:
            -
                name: pim_enrich.mass_edit_action
                alias: publish
                acl: pim_enrich_product_edit_attributes
                datagrid: product-grid

    # Overriden products operation to add permission checks when try to classify products
    pim_enrich.mass_edit_action.classify:
        public: false
        class: %pim_enrich.mass_edit_action.classify.class%
        tags:
            -
                name: pim_enrich.mass_edit_action
                alias: classify
                acl: pim_enrich_product_categories_view
                datagrid: product-grid

    pim_enrich.mass_edit_tasklet.publish_product:
        class: %pimee_enrich.mass_edit_tasklet.publish_product.class%
        arguments:
            - '@pimee_workflow.manager.published_product'
            - '@pim_enrich.product.paginator'
            - '@pim_catalog.validator.product'
            - '@akeneo_storage_utils.doctrine.object_detacher'
            - '@oro_user.manager'
            - '@security.token_storage'
            - '@security.authorization_checker'
            - '@pim_catalog.query.product_query_builder_factory'

    pim_enrich.mass_edit_tasklet.unpublish_product:
        class: %pimee_enrich.mass_edit_tasklet.unpublish_product.class%
        arguments:
            - '@pimee_workflow.manager.published_product'
            - '@pim_enrich.product.paginator'
            - '@pim_catalog.validator.product'
            - '@akeneo_storage_utils.doctrine.object_detacher'
            - '@oro_user.manager'
            - '@security.token_storage'
            - '@security.authorization_checker'
            - '@pimee_workflow.doctrine.query.published_product_query_factory'
