{
    "request": {
        "method": "PATCH",
        "route": "akeneo_asset_manager_asset_family_rest_connector_create_or_update",
        "query": {
            "assetFamilyIdentifier": "brand"
        },
        "body": {
            "code": "brand",
            "labels": {
                "en_US": "Label for an activated locale"
            },
            "product_link_rules": [],
            "transformations": [
                {
                    "label": "thumbnail_100x80",
                    "source": {
                        "attribute": "main_image",
                        "channel": null,
                        "locale": null
                    },
                    "target": {
                        "attribute": "unknown",
                        "channel": null,
                        "locale": null
                    },
                    "operations": [
                        {
                            "type": "thumbnail",
                            "parameters": {
                                "width": 100,
                                "height": 80
                            }
                        },
                        {
                            "type": "optimize_jpeg",
                            "parameters": {
                                "quality": 100
                            }
                        }
                    ],
                    "filename_suffix": "_2"
                },
                {
                    "label": "thumbnail_100x80",
                    "source": {
                        "attribute": "main_image",
                        "channel": "ecommerce",
                        "locale": "fr_FR"
                    },
                    "target": {
                        "attribute": "thumbnail",
                        "channel": null,
                        "locale": null
                    },
                    "operations": [
                        {
                            "type": "unknown",
                            "parameters": {
                                "width": 100,
                                "height": 80
                            }
                        },
                        {
                            "type": "thumbnail",
                            "parameters": {}
                        },
                        {
                            "type": "scale"
                        }
                    ],
                    "filename_prefix": "invalid%'%",
                    "filename_suffix": "_2"
                },
                {
                    "label": "thumbnail_100x80",
                    "source": {
                        "attribute": "main_image",
                        "channel": null,
                        "locale": null
                    },
                    "target": {
                        "attribute": "thumbnail",
                        "channel": null,
                        "locale": null
                    },
                    "operations": [
                        {
                            "type": "thumbnail",
                            "parameters": {
                                "width": 100,
                                "height": 80
                            }
                        },
                        {
                            "type": "thumbnail",
                            "parameters": {
                                "width": 80,
                                "height": 60
                            }
                        },
                        {
                            "type": "optimize_jpeg",
                            "parameters": {
                                "quality": 0
                            }
                        }
                    ],
                    "filename_prefix": "",
                    "filename_suffix": "_2"
                },
                {
                    "label": "thumbnail3",
                    "source": {"attribute": "main_image", "channel": null, "locale": null},
                    "target": {"attribute": "title", "channel": null, "locale": null},
                    "operations": [{"type": "thumbnail", "parameters": {"width": 100, "height": 80}}],
                    "filename_suffix": "_3"
                },
                {
                    "label": "thumbnail4",
                    "source": {"attribute": "sub_title", "channel": null, "locale": null},
                    "target": {"attribute": "test_scopable_localizable", "channel": "ecommerce", "locale": "fr_FR"},
                    "operations": [{"type": "thumbnail", "parameters": {"width": 100, "height": 80}}],
                    "filename_suffix": "_4"
                },
                {
                    "label": "thumbnail5",
                    "source": {"attribute": "main_image", "channel": null, "locale": null},
                    "target": {"attribute": "test_scopable_localizable", "channel": "ecommerce", "locale": "de_DE"},
                    "operations": [],
                    "filename_suffix": "_5"
                },
                {
                    "label": "thumbnail6",
                    "source": {"attribute": "main_image", "channel": null, "locale": null},
                    "target": {"attribute": "test_scopable_localizable", "channel": "print", "locale": "en_US"},
                    "operations": [{"type": "thumbnail", "parameters": {"width": 100, "height": 80}}],
                    "filename_suffix": "_6"
                },
                {
                    "label": "thumbnail7",
                    "source": {"attribute": "main_image", "channel": null, "locale": null},
                    "target": {"attribute": "test_scopable_localizable", "channel": "print", "locale": "fr_FR"},
                    "operations": [{"type": "thumbnail", "parameters": {"width": 100, "height": 80}}],
                    "filename_suffix": "_7"
                },
                {
                    "label": "thumbnail8",
                    "source": {"attribute": "main_image", "channel": null, "locale": null},
                    "target": {"attribute": "test_scopable_localizable", "channel": "print", "locale": "de_DE"},
                    "operations": [{"type": "thumbnail", "parameters": {"width": 100, "height": 80}}],
                    "filename_suffix": "_8"
                },
                {
                    "label": "thumbnail9",
                    "source": {"attribute": "main_image", "channel": null, "locale": null},
                    "target": {"attribute": "test_scopable_localizable", "channel": "other", "locale": "en_US"},
                    "operations": [{"type": "thumbnail", "parameters": {"width": 100, "height": 80}}],
                    "filename_suffix": "_9"
                },
                {
                    "label": "thumbnail10",
                    "source": {"attribute": "test_scopable_localizable", "channel": "other", "locale": "en_US"},
                    "target": {"attribute": "test_scopable_localizable", "channel": "other", "locale": "fr_FR"},
                    "operations": [{"type": "thumbnail", "parameters": {"width": 100, "height": 80}, "foo":  "bar"}]
                }
            ]
        }
    },
    "response": {
        "status": 422,
        "body": {
            "code": 422,
            "message": "The asset family has data that does not comply with the business rules.",
            "errors": [
                {
                    "property": "transformations[0][target]",
                    "message": "The attribute \"unknown\" does not exist for this asset family"
                },
                {
                    "property": "transformations[1][source]",
                    "message": "Attribute \"main_image\" is not scopable, you cannot define a channel"
                },
                {
                    "property": "transformations[1][operations][0]",
                    "message": "Operation \"unknown\" is unknown."
                },
                {
                    "property": "transformations[1][operations][1]",
                    "message": "No parameter is provided for 'thumbnail' operation. At least one of parameter 'width' and 'height' must be defined."
                },
                {
                    "property": "transformations[1][operations][2]",
                    "message": "No parameter is provided for 'scale' operation. At least one of parameter 'width', 'height' and 'ratio' must be defined."
                },
                {
                    "property": "transformations[1][filename_prefix]",
                    "message": "Filename prefix contains illegal character. Allowed characters are alphanumerics, '_', '-', '.', and space."
                },
                {
                    "property": "transformations[2][operations][2]",
                    "message": "Parameter 'quality' must be between 1 and 100."
                },
                {
                    "property": "transformations[2][operations]",
                    "message": "The operation \"thumbnail\" cannot be defined twice in a single transformation"
                },
                {
                    "property": "transformations[3][target]",
                    "message": "The target attribute should be of type media file."
                },
                {
                    "property": "transformations[4][source]",
                    "message": "The source attribute should be of type media file."
                },
                {
                    "property": "transformations[5][operations]",
                    "message": "At least one transformation operation is required."
                },
                {
                    "property": "transformations[10][operations][0][foo]",
                    "message": "The property \"foo\" was not expected."
                },
                {
                    "property": "transformations[10]",
                    "message": "You should have at least either the properties filename_prefix or filename_suffix and one of them should not be empty strings."
                },
                {
                    "property": "transformations",
                    "message": "Two transformations cannot have the same target."
                },
                {
                    "property": "transformations",
                    "message": "You have reached the limit of 10 transformations"
                },
                {
                    "property": "transformations",
                    "message": "The attribute source \"test_scopable_localizable\" can not be an attribute target of a transformation."
                },
                {
                    "property": "transformations",
                    "message": "A transformation with filename's prefix \"\" and suffix \"_2\" already exists for attribute source \"main_image\""
                }
            ]
        }
    }
}
