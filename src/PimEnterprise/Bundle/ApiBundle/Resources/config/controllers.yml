parameters:
    pimee_api.controller.published_product.class: PimEnterprise\Bundle\ApiBundle\Controller\PublishedProductController
    pimee_api.controller.product_draft.class: PimEnterprise\Bundle\ApiBundle\Controller\ProductDraftController
    pimee_api.controller.product_proposal.class: PimEnterprise\Bundle\ApiBundle\Controller\ProductProposalController
    pimee_api.controller.category_asset.class: PimEnterprise\Bundle\ApiBundle\Controller\AssetCategoryController
    pimee_api.controller.asset_reference.class: PimEnterprise\Bundle\ApiBundle\Controller\AssetReferenceController
    pimee_api.controller.asset_variation.class: PimEnterprise\Bundle\ApiBundle\Controller\AssetVariationController
    pimee_api.controller.asset.class: PimEnterprise\Bundle\ApiBundle\Controller\AssetController
    pimee_api.controller.asset_tag.class: PimEnterprise\Bundle\ApiBundle\Controller\AssetTagController

services:
    pimee_api.controller.published_product:
        class: '%pimee_api.controller.published_product.class%'
        arguments:
            - '@pimee_workflow.doctrine.query.published_product_query_builder_search_after_size_factory_with_permissions'
            - '@pimee_workflow.doctrine.query.published_product_query_builder_from_size_factory_with_permissions'
            - '@pim_api.checker.query_parameters'
            - '@pim_serializer'
            - '@pim_api.repository.channel'
            - '@pim_catalog.repository.locale'
            - '@pim_api.repository.attribute'
            - '@pimee_api.repository.published_product'
            - '@pim_api.pagination.search_after_hal_paginator'
            - '@pim_api.pagination.offset_hal_paginator'
            - '@pim_api.pagination.parameter_validator'
            - '@pim_api.security.primary_key_encrypter'
            - '%pim_api.configuration%'

    pimee_api.controller.product_draft:
        class: '%pimee_api.controller.product_draft.class%'
        arguments:
            - '@pim_api.repository.product'
            - '@pimee_workflow.repository.product_draft'
            - '@pimee_workflow.applier.product_draft'
            - '@pim_serializer'
            - '@security.token_storage'
            - '@security.authorization_checker'

    pimee_api.controller.product_proposal:
        class : '%pimee_api.controller.product_proposal.class%'
        arguments:
            - '@pim_api.repository.product'
            - '@pimee_workflow.repository.product_draft'
            - '@pimee_workflow.manager.product_draft'
            - '@security.token_storage'
            - '@security.authorization_checker'

    pim_api.controller.media_file:
        class: '%pim_api.controller.media_file.class%'
        arguments:
            - '@pim_api.repository.media_file'
            - '@pim_serializer'
            - '@pim_api.pagination.parameter_validator'
            - '@pim_api.pagination.offset_hal_paginator'
            - '@akeneo_file_storage.file_storage.filesystem_provider'
            - '@akeneo_file_storage.file_storage.file.streamed_file_fetcher'
            - '@pimee_workflow.repository.delegating_product'
            - '@pim_catalog.updater.product'
            - '@pimee_workflow.saver.product_delegating'
            - '@pim_catalog.validator.product'
            - '@akeneo_file_storage.saver.file'
            - '@akeneo_file_storage.file_storage.file.file_storer'
            - '@akeneo_file_storage.remover.file'
            - '@router'
            - '%pim_api.configuration%'

    pim_api.controller.product:
        class: '%pim_api.controller.product.class%'
        arguments:
            - '@pim_catalog.query.product_query_builder_search_after_size_factory'
            - '@pim_serializer'
            - '@pim_api.repository.channel'
            - '@pim_api.checker.query_parameters'
            - '@pim_api.repository.attribute'
            - '@pimee_workflow.repository.delegating_product'
            - '@pim_api.pagination.offset_hal_paginator'
            - '@pim_api.pagination.search_after_hal_paginator'
            - '@pim_api.pagination.parameter_validator'
            - '@pim_catalog.validator.product'
            - '@pim_catalog.builder.product'
            - '@pim_catalog.remover.product'
            - '@pim_catalog.updater.product'
            - '@pimee_workflow.saver.product_delegating'
            - '@pimee_api.router.proxy_product'
            - '@pim_catalog.comparator.filter.product'
            - '@pim_api.stream.product_partial_update_stream'
            - '@pim_api.security.primary_key_encrypter'
            - '@pim_catalog.query.product_query_builder_from_size_factory'
            - '@pim_catalog.builder.variant_product'
            - '@pim_connector.processor.attribute_filter.product'
            - '%pim_api.configuration%'

    pimee_api.controller.asset_category:
        class: '%pimee_api.controller.category_asset.class%'
        arguments:
            - '@pimee_api.repository.asset_category'
            - '@pim_serializer'
            - '@pimee_product_asset.factory.category'
            - '@pimee_product_asset.updater.category'
            - '@validator'
            - '@pimee_product_asset.saver.category'
            - '@router'
            - '@pim_api.pagination.parameter_validator'
            - '@pim_api.pagination.offset_hal_paginator'
            - '@pim_api.stream.asset_category_partial_update_stream'
            - '%pim_api.configuration%'

    pimee_api.controller.asset_reference:
        class: '%pimee_api.controller.asset_reference.class%'
        arguments:
            - '@pimee_api.repository.asset'
            - '@pim_api.repository.locale'
            - '@akeneo_file_storage.file_storage.filesystem_provider'
            - '@akeneo_file_storage.file_storage.file.streamed_file_fetcher'
            - '@pim_serializer'
            - '@validator'
            - '@akeneo_file_storage.saver.file'
            - '@akeneo_file_storage.file_storage.file.file_storer'
            - '@pimee_product_asset.factory.reference'
            - '@router'
            - '@pimee_product_asset.updater.files'
            - '@pimee_product_asset.saver.asset'

    pimee_api.controller.asset_variation:
        class: '%pimee_api.controller.asset_variation.class%'
        arguments:
            - '@pimee_api.repository.asset'
            - '@pim_api.repository.channel'
            - '@pim_api.repository.locale'
            - '@akeneo_file_storage.file_storage.filesystem_provider'
            - '@akeneo_file_storage.file_storage.file.streamed_file_fetcher'
            - '@pim_serializer'

    pimee_api.controller.asset:
        class : '%pimee_api.controller.asset.class%'
        arguments:
            - '@pimee_api.repository.asset'
            - '@pimee_api.repository.asset'
            - '@pimee_api.repository.asset'
            - '@pim_serializer'
            - '@pim_api.pagination.parameter_validator'
            - '@pim_api.pagination.offset_hal_paginator'
            - '@pim_api.pagination.search_after_hal_paginator'
            - '@pimee_product_asset.factory.asset'
            - '@validator'
            - '@pimee_api.updater.asset'
            - '@pimee_product_asset.saver.asset'
            - '@router'
            - '@pim_api.stream.asset_partial_update_stream'
            - '%pim_api.configuration%'

    pimee_api.controller.asset_tag:
        class : '%pimee_api.controller.asset_tag.class%'
        arguments:
            - '@pimee_api.repository.tag'
            - '@pim_api.pagination.parameter_validator'
            - '@pim_api.pagination.offset_hal_paginator'
            - '@pimee_product_asset.factory.tag'
            - '@pimee_product_asset.updater.tag'
            - '@validator'
            - '@pimee_product_asset.saver.tag'
            - '@router'
            - '%pim_api.configuration%'
