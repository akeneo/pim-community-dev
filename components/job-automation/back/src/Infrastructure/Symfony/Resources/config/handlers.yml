services:
  akeneo.job_automation.handler.storage_connection_check:
    class: Akeneo\Platform\JobAutomation\Application\StorageConnectionCheck\StorageConnectionCheckHandler
    arguments:
      - !tagged pim_import_export.storage_client_provider

  akeneo.job_automation.handler.get_user_groups:
    class: Akeneo\Platform\JobAutomation\Application\GetUserGroups\GetUserGroupsHandler
    arguments:
      - '@akeneo.job_automation.query.get_user_groups'

  akeneo.job_automation.handler.get_users:
    class: Akeneo\Platform\JobAutomation\Application\GetUsers\GetUsersHandler
    arguments:
      - '@akeneo.job_automation.query.get_users'

  akeneo.job_automation.handler.get_due_job_instances:
    class: Akeneo\Platform\JobAutomation\Application\GetDueJobInstances\GetDueJobInstancesHandler
    arguments:
      - '@akeneo.job_automation.query.get_scheduled_job_instances'
      - '@Akeneo\Platform\JobAutomation\Domain\FilterDueJobInstances'

  akeneo.job_automation.handler.update_scheduled_job_instance:
    class: Akeneo\Platform\JobAutomation\Application\UpdateScheduledJobInstanceLastExecution\UpdateScheduledJobInstanceLastExecutionHandler
    arguments:
      - '@Akeneo\Platform\JobAutomation\Domain\ClockInterface'
      - '@akeneo.job_automation.query.update_job_instance_automation_last_execution_date'
