parameters:
    pimee_workflow.processor.denormalization.product_draft.class: Akeneo\Pim\WorkOrganization\Workflow\Component\Connector\Processor\Denormalization\ProductDraftProcessor
    pimee_workflow.processor.denormalization.product_model_draft.class: Akeneo\Pim\WorkOrganization\Workflow\Component\Connector\Processor\Denormalization\ProductModelDraftProcessor

services:
    pimee_workflow.processor.denormalization.product_draft:
        class: '%pimee_workflow.processor.denormalization.product_draft.class%'
        arguments:
            - '@pim_catalog.repository.product'
            - '@pim_catalog.updater.product'
            - '@pim_catalog.validator.product'
            - '@pimee_workflow.product.builder.draft'
            - '@pimee_workflow.applier.draft'
            - '@pimee_workflow.repository.product_draft'
            - '@security.token_storage'
            - '@pim_connector.processor.denormalization.media_storer'
            - '@Akeneo\Pim\WorkOrganization\Workflow\Component\Factory\PimUserDraftSourceFactory'

    pimee_workflow.connector.processor.quick_export.published_product:
        class: '%pim_enrich.connector.processor.quick_export.product_and_product_model.class%'
        arguments:
            - '@pimee_workflow.normalizer.standard.published_product'
            - '@pim_catalog.repository.channel'
            - '@pim_catalog.repository.attribute'
            - '@pim_catalog.product_model.fill_missing_values'
            - '@pim_catalog.product.fill_missing_values'
            - '@akeneo_storage_utils.doctrine.object_detacher'
            - '@pim_user.provider.user'
            - '@security.token_storage'
            - '@pim_connector.processor.bulk_media_fetcher'

    pimee_workflow.processor.denormalization.product_model_draft:
        class: '%pimee_workflow.processor.denormalization.product_model_draft.class%'
        arguments:
            - '@pim_catalog.repository.product_model'
            - '@pim_catalog.updater.product_model'
            - '@pim_catalog.validator.product_model'
            - '@pimee_workflow.product_model.builder.draft'
            - '@pimee_workflow.applier.draft'
            - '@pimee_workflow.repository.product_model_draft'
            - '@security.token_storage'
            - '@pim_connector.processor.attribute_filter.product_model'
            - '@pim_connector.processor.denormalization.media_storer'
            - '@Akeneo\Pim\WorkOrganization\Workflow\Component\Factory\PimUserDraftSourceFactory'

    pimee_workflow.processor.normalization.published_product:
        class: 'Akeneo\Pim\Enrichment\Component\Product\Connector\Processor\Normalization\ProductProcessor'
        arguments:
            - '@pimee_workflow.normalizer.published_product'
            - '@pim_catalog.repository.channel'
            - '@pim_catalog.repository.attribute'
            - '@pim_connector.processor.bulk_media_fetcher'
            - '@pim_catalog.product_model.fill_missing_values'
            - '@pim_connector.doctrine.cache_clearer'

    pimee_workflow.processor.mark_product_draft_as_ready:
        class: 'Akeneo\Pim\WorkOrganization\Workflow\Component\Connector\Processor\MarkProductDraftAsReadyProcessor'
        arguments:
            - '@event_dispatcher'
