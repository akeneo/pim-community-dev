services:
    Akeneo\Pim\Automation\DataQualityInsights\Infrastructure\Elasticsearch\Filter\ConsistencyFilter:
        tags:
            - { name: 'pim_catalog.elasticsearch.query.product_and_product_model_filter', priority: 30 }

    Akeneo\Pim\Automation\DataQualityInsights\Infrastructure\Elasticsearch\Filter\EnrichmentFilter:
        tags:
            - { name: 'pim_catalog.elasticsearch.query.product_and_product_model_filter', priority: 30 }

    Akeneo\Pim\Automation\DataQualityInsights\Infrastructure\Elasticsearch\IndexProductRates:
        arguments:
            - '@akeneo_elasticsearch.client.product_and_product_model'
            - '@Akeneo\Pim\Automation\DataQualityInsights\Infrastructure\Persistence\Query\GetUpToDateLatestProductAxesRanksQuery'

    Akeneo\Pim\Automation\DataQualityInsights\Infrastructure\Elasticsearch\GetRatesForProductProjection:
        arguments:
            - '@Akeneo\Pim\Automation\DataQualityInsights\Infrastructure\Persistence\Query\GetUpToDateLatestProductAxesRanksQuery'
            - '@Akeneo\Pim\Automation\DataQualityInsights\Infrastructure\Persistence\Query\GetProductIdsFromProductIdentifiersQuery'
        tags:
            - { name: 'akeneo.pim.enrichment.product.query.indexing_additional_properties' }

    Akeneo\Pim\Automation\DataQualityInsights\Infrastructure\Elasticsearch\Query\GetUpdatedProductIdsQuery:
        arguments:
            - '@akeneo_elasticsearch.client.product_and_product_model'
