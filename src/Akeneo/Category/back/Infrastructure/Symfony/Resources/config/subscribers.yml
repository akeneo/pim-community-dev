services:
    Akeneo\Category\Infrastructure\EventSubscriber\InitCategoryDbSchemaSubscriber:
        arguments:
            - '@database_connection'
        tags:
            - { name: 'kernel.event_subscriber' }

    Akeneo\Category\Infrastructure\EventSubscriber\CleanCategoryDataAfterChannelDeletionSubscriber:
        arguments:
            - '@Akeneo\Category\Application\Enrichment\CleanCategoryDataLinkedToChannel'
            - '@akeneo.category.enriched.feature'
        tags:
            - { name: kernel.event_subscriber }

    Akeneo\Category\Infrastructure\EventSubscriber\RemoveCategoryTreeTemplateSubscriber:
        arguments:
            - '@Akeneo\Category\Domain\Query\GetCategoryInterface'
            - '@Akeneo\Category\Application\Query\GetCategoryTemplateByCategoryTree'
            - '@Akeneo\Category\Application\Query\DeleteCategoryTreeTemplate'
            - '@akeneo.category.enriched.feature'
        tags:
            - { name: kernel.event_subscriber }

    Akeneo\Category\Infrastructure\EventSubscriber\RemoveTemplateAndAttributesAfterCategoryTreeDeletionSubscriber:
        arguments:
            - '@akeneo.category.enriched.feature'
            - '@Akeneo\Category\Application\Query\DeleteTemplateAndAttributes'
        tags:
            - { name: kernel.event_subscriber }
