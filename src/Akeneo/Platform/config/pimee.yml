imports:
    - { resource: '@AkeneoAssetBundle/Resources/config/external_api/config.yml' }
    - { resource: 'bundles/monolog.yml' }
    - { resource: 'bundles/oneup_flysystem.yml' }
    - { resource: '@AkeneoReferenceEntityBundle/Resources/config/search/elasticsearch.yml' }
    - { resource: '@AkeneoReferenceEntityBundle/Resources/config/connector/api.yml' }

parameters:
    pimee_mass_edit_asset_batch_size: 100

twig:
    form_theme: ['AkeneoAssetBundle:Form:pimee-fields.html.twig']

fos_rest:
    exception:
        codes:
            Akeneo\Pim\WorkOrganization\Workflow\Component\Exception\PublishedProductConsistencyException: 422
        messages:
            Akeneo\Pim\WorkOrganization\Workflow\Component\Exception\PublishedProductConsistencyException: true

doctrine_migrations:
    dir_name: '%doctrine_migrations_dir%'
    namespace: Pim\Upgrade\Schema
    name: PIM Enterprise Migrations

akeneo_elasticsearch:
    hosts: "%index_hosts%"
    indexes:
        -
            service_name: "akeneo_elasticsearch.client.product_proposal"
            index_name: "%product_proposal_index_name%"
            configuration_files: "%elasticsearch_index_configuration_files_product_proposal%"
        -
            service_name: "akeneo_elasticsearch.client.published_product"
            index_name: "%published_product_index_name%"
            configuration_files: "%elasticsearch_index_configuration_files_published_product%"
        -
            service_name: "akeneo_elasticsearch.client.published_product_and_product_model"
            index_name: "%published_product_and_product_model_index_name%"
            configuration_files: "%elasticsearch_index_configuration_files_published_product%"

hslavich_onelogin_saml:
    # Basic settings
    idp:
        entityId: 'http://idp-server-url/simplesaml/saml2/idp/metadata.php'
        singleSignOnService:
            url: 'http://idp-server-url/simplesaml/saml2/idp/SSOService.php'
            binding: 'urn:oasis:names:tc:SAML:2.0:bindings:HTTP-Redirect'
        singleLogoutService:
            url: 'http://idp-server-url/simplesaml/saml2/idp/SingleLogoutService.php'
            binding: 'urn:oasis:names:tc:SAML:2.0:bindings:HTTP-Redirect'
        x509cert: 'SSO_IDP_SERVER_PUBLIC_KEY_VALUE'
    sp:
        entityId: '%env(AKENEO_PIM_URL)%' #TODO manage this value dynamically, it is not always the PIM URL, its value could be leaded by customer internal norm.
        assertionConsumerService:
            url: '%env(AKENEO_PIM_URL)%/saml/acs'
            binding: 'urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST'
        singleLogoutService:
            url: '%env(AKENEO_PIM_URL)%/saml/logout'
            binding: 'urn:oasis:names:tc:SAML:2.0:bindings:HTTP-Redirect'
        x509cert: 'SSO_SP_CLIENT_PUBLIC_KEY_VALUE'
        privateKey: 'SSO_SP_CLIENT_PRIVATE_KEY_VALUE'
    # Optional settings
    security:
        authnRequestsSigned: true
        wantNameId: false
