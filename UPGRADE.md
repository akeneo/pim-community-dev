# UPGRADE FROM 2.3 TO 3.0

## Migrate your custom code

Several classes and services have been moved or renamed. The following commands help to migrate references to them:

```bash
find ./src/ -type f -print0 | xargs -0 sed -i 's/PimEnterprise\\Component\\Catalog\\Security/PimEnterprise\\Component\\Security/g'
find ./src/ -type f -print0 | xargs -0 sed -i 's/PimEnterprise\\Bundle\\VersioningBundle/PimEnterprise\\Bundle\\RevertBundle/g'
find ./src/ -type f -print0 | xargs -0 sed -i 's/PimEnterprise\\Bundle\\VersioningBundle\\UpdateGuesser/Akeneo\\Pim\\Permission\\Bundle\\UpdateGuesser/g'
find ./src/ -type f -print0 | xargs -0 sed -i 's/PimEnterprise\\Bundle\\VersioningBundle\\EventSubscriber\\AddVersionSubscriber/PimEnterprise\\Bundle\\WorkflowBundle\\EventSubscriber\\PublishedProduct\\SkipVersionSubscriber/g'
find ./src/ -type f -print0 | xargs -0 sed -i 's/PimEnterprise\\Bundle\\VersioningBundle\\Purger/PimEnterprise\\Bundle\\WorkflowBundle\\Purger/g'
find ./src/ -type f -print0 | xargs -0 sed -i 's/PimEnterprise\\Bundle\\ApiBundle\\Normalizer/Akeneo\\Asset\\Component\\Normalizer\\ExternalApi/g'
find ./src/ -type f -print0 | xargs -0 sed -i 's/PimEnterprise\\Bundle\\EnrichBundle\\Controller\\Rest/Akeneo\\Asset\\Bundle\\Controller\\Rest/g'
find ./src/ -type f -print0 | xargs -0 sed -i 's/PimEnterprise\\Bundle\\FilterBundle\\Filter\\Tag/Akeneo\\Asset\\Bundle\\Datagrid\\Filter/g'
find ./src/ -type f -print0 | xargs -0 sed -i 's/PimEnterprise\\Bundle\\EnrichBundle\\Controller\\Rest\\ChannelController/Akeneo\\Asset\\Bundle\\Controller\\Rest\\AssetTransformationController/g'
find ./src/ -type f -print0 | xargs -0 sed -i 's/PimEnterprise\\Bundle\\EnrichBundle\\Normalizer\\AssetNormalizer/Akeneo\\Asset\\Component\\Normalizer\\InternalApi\\AssetNormalizer/g'
find ./src/ -type f -print0 | xargs -0 sed -i 's/PimEnterprise\\Bundle\\SecurityBundle\\EventSubscriber\\Datagrid\\AssetCategoryAccessSubscriber/Akeneo\\Asset\\Bundle\\Security\\AssetCategoryAccessSubscriber/g'
find ./src/ -type f -print0 | xargs -0 sed -i 's/PimEnterprise\\Bundle\\SecurityBundle\\Normalizer\\Flat\\AssetCategoryNormalizer/Akeneo\\Asset\\Component\\Normalizer\\Flat\\AssetCategoryNormalizer/g'
find ./src/ -type f -print0 | xargs -0 sed -i 's/PimEnterprise\\Bundle\\ApiBundle\\Controller\\ProductDraftController/PimEnterprise\\Bundle\\WorkflowBundle\\Controller\\Api\\ProductDraftController/g'
find ./src/ -type f -print0 | xargs -0 sed -i 's/PimEnterprise\\Bundle\\ApiBundle\\Controller\\ProductProposalController/PimEnterprise\\Bundle\\WorkflowBundle\\Controller\\Api\\ProductProposalController/g'
find ./src/ -type f -print0 | xargs -0 sed -i 's/PimEnterprise\\Bundle\\ApiBundle\\Router\\ProxyProductRouter/PimEnterprise\\Bundle\\WorkflowBundle\\Router\\ProxyProductRouter/g'
find ./src/ -type f -print0 | xargs -0 sed -i 's/PimEnterprise\\Component\\Api\\Normalizer\\ProductNormalizer/PimEnterprise\\Component\\Workflow\\Normalizer\\ExternalApi\\ProductNormalizer/g'
find ./src/ -type f -print0 | xargs -0 sed -i 's/PimEnterprise\\Bundle\\ApiBundle\\Doctrine\\ORM\\Repository\\AssetRepository/Akeneo\\Asset\\Bundle\\Doctrine\\ORM\\Repository\\ExternalApi\\AssetRepository/g'
find ./src/ -type f -print0 | xargs -0 sed -i 's/PimEnterprise\\Bundle\\ApiBundle\\Controller\\AssetCategoryController/Akeneo\\Asset\\Bundle\\Controller\\ExternalApi\\AssetCategoryController/g'
find ./src/ -type f -print0 | xargs -0 sed -i 's/PimEnterprise\\Bundle\\ApiBundle\\Controller\\AssetController/Akeneo\\Asset\\Bundle\\Controller\\ExternalApi\\AssetController/g'
find ./src/ -type f -print0 | xargs -0 sed -i 's/PimEnterprise\\Bundle\\ApiBundle\\Controller\\AssetReferenceController/Akeneo\\Asset\\Bundle\\Controller\\ExternalApi\\AssetReferenceController/g'
find ./src/ -type f -print0 | xargs -0 sed -i 's/PimEnterprise\\Bundle\\ApiBundle\\Controller\\AssetTagController/Akeneo\\Asset\\Bundle\\Controller\\ExternalApi\\AssetTagController/g'
find ./src/ -type f -print0 | xargs -0 sed -i 's/PimEnterprise\\Bundle\\ApiBundle\\Controller\\AssetVariationController/Akeneo\\Asset\\Bundle\\Controller\\ExternalApi\\AssetVariationController/g'
find ./src/ -type f -print0 | xargs -0 sed -i 's/PimEnterprise\\Bundle\\ApiBundle\\Normalizer\\AssetReferenceNormalizer/Akeneo\\Asset\\Component\\Normalizer\\ExternalApi\\AssetReferenceNormalizer/g'
find ./src/ -type f -print0 | xargs -0 sed -i 's/PimEnterprise\\Bundle\\ApiBundle\\Normalizer\\AssetVariationNormalizer/Akeneo\\Asset\\Component\\Normalizer\\ExternalApi\\AssetVariationNormalizer/g'
find ./src/ -type f -print0 | xargs -0 sed -i 's/PimEnterprise\\Bundle\\DataGridBundle\\Datagrid\\Configuration\\ProductDraft\\GridHelper/PimEnterprise\\Bundle\\WorkflowBundle\\Datagrid\\Configuration\\ProductDraft\\GridHelper/g'
find ./src/ -type f -print0 | xargs -0 sed -i 's/PimEnterprise\\Bundle\\DataGridBundle\\Datagrid\\Configuration\\Proposal\\ContextConfigurator/PimEnterprise\\Bundle\\WorkflowBundle\\Datagrid\\Configuration\\Proposal\\ContextConfigurator/g'
find ./src/ -type f -print0 | xargs -0 sed -i 's/PimEnterprise\\Bundle\\DataGridBundle\\Datagrid\\Configuration\\Proposal\\GridHelper/PimEnterprise\\Bundle\\WorkflowBundle\\Datagrid\\Configuration\\Proposal\\GridHelper/g'
find ./src/ -type f -print0 | xargs -0 sed -i 's/PimEnterprise\\Bundle\\DataGridBundle\\Datasource\\ProductProposalDatasource/PimEnterprise\\Bundle\\WorkflowBundle\\Datagrid\\Datasource\\ProductProposalDatasource/g'
find ./src/ -type f -print0 | xargs -0 sed -i 's/PimEnterprise\\Bundle\\DataGridBundle\\Datasource\\ResultRecord\\ORM\\ProductDraftHydrator/PimEnterprise\\Bundle\\WorkflowBundle\\Datagrid\\Datasource\\ResultRecord\\ProductDraftHydrator/g'
find ./src/ -type f -print0 | xargs -0 sed -i 's/PimEnterprise\\Bundle\\DataGridBundle\\EventListener\\ConfigureProposalGridListener/PimEnterprise\\Bundle\\WorkflowBundle\\Datagrid\\EventListener\\ConfigureProposalGridListener/g'
find ./src/ -type f -print0 | xargs -0 sed -i 's/PimEnterprise\\Bundle\\FilterBundle\\Filter\\ProductDraft\\AttributeChoiceFilter/PimEnterprise\\Bundle\\WorkflowBundle\\Datagrid\\Filter\\AttributeChoiceFilter/g'
find ./src/ -type f -print0 | xargs -0 sed -i 's/PimEnterprise\\Bundle\\FilterBundle\\Filter\\ProductDraft\\AuthorFilter/PimEnterprise\\Bundle\\WorkflowBundle\\Datagrid\\Filter\\AuthorFilter/g'
find ./src/ -type f -print0 | xargs -0 sed -i 's/PimEnterprise\\Bundle\\FilterBundle\\Filter\\ProductDraft\\ChoiceFilter/PimEnterprise\\Bundle\\WorkflowBundle\\Datagrid\\Filter\\ChoiceFilter/g'
find ./src/ -type f -print0 | xargs -0 sed -i 's/PimEnterprise\\Bundle\\FilterBundle\\Filter\\ProductDraftFilterUtility/PimEnterprise\\Bundle\\WorkflowBundle\\Datagrid\\Filter\\ProductDraftFilterUtility/g'
find ./src/ -type f -print0 | xargs -0 sed -i 's/PimEnterprise\\Bundle\\DataGridBundle\\Extension\\MassAction\\Handler\\MassApproveActionHandler/PimEnterprise\\Bundle\\WorkflowBundle\\Datagrid\\MassAction\\Handler\\MassApproveActionHandler/g'
find ./src/ -type f -print0 | xargs -0 sed -i 's/PimEnterprise\\Bundle\\DataGridBundle\\Extension\\MassAction\\Handler\\MassRefuseActionHandler/PimEnterprise\\Bundle\\WorkflowBundle\\Datagrid\\MassAction\\Handler\\MassRefuseActionHandler/g'
find ./src/ -type f -print0 | xargs -0 sed -i 's/PimEnterprise\\Bundle\\SecurityBundle\\Voter\\ProductDraftVoter/PimEnterprise\\Bundle\\WorkflowBundle\\Security\\ProductDraftVoter/g'
find ./src/ -type f -print0 | xargs -0 sed -i 's/PimEnterprise\\Bundle\\DashboardBundle\\Widget\\ProposalWidget/PimEnterprise\\Bundle\\WorkflowBundle\\Widget\\ProposalWidget/g'
find ./src/ -type f -print0 | xargs -0 sed -i 's/PimEnterprise\\Bundle\\DashboardBundle\\Widget\\ProposalWidget/PimEnterprise\\Bundle\\WorkflowBundle\\Widget\\ProposalWidget/g'
find ./src/ -type f -print0 | xargs -0 sed -i 's/PimEnterprise\\Component\\Api\\Updater\\AssetUpdater/Akeneo\\Asset\\Component\\Updater\\ExternalApi\\AssetUpdater/g'
find ./src/ -type f -print0 | xargs -0 sed -i 's/PimEnterprise\\Bundle\\WorkflowBundle\\Controller\\Api\\ProductDraftController/Akeneo\\Pim\\WorkOrganization\\Workflow\\Bundle\\Controller\\ExternalApi\\ProductDraftController/g'
find ./src/ -type f -print0 | xargs -0 sed -i 's/PimEnterprise\\Bundle\\WorkflowBundle\\Controller\\Api\\ProductProposalController/Akeneo\\Pim\\WorkOrganization\\Workflow\\Bundle\\Controller\\ExternalApi\\ProductProposalController/g'
find ./src/ -type f -print0 | xargs -0 sed -i 's/PimEnterprise\\Bundle\\ApiBundle\\Controller\\PublishedProductController/PimEnterprise\\Bundle\\WorkflowBundle\\Controller\\ExternalApi\\PublishedProductController/g'
find ./src/ -type f -print0 | xargs -0 sed -i 's/PimEnterprise\\Component\\Api\\Normalizer\\PublishedProductNormalizer/PimEnterprise\\Component\\Workflow\\Normalizer\\ExternalApi\\PublishedProductNormalizer/g'
find ./src/ -type f -print0 | xargs -0 sed -i 's/PimEnterprise\\Bundle\\DataGridBundle\\Datagrid\\Configuration\\PublishedProduct\\GridHelper/PimEnterprise\\Bundle\\WorkflowBundle\\Datagrid\\Configuration\\PublishedProduct\\GridHelper/g'
find ./src/ -type f -print0 | xargs -0 sed -i 's/PimEnterprise\\Bundle\\DataGridBundle\\Datasource\\ResultRecord\\ORM\\ProductHistoryHydrator/PimEnterprise\\Bundle\\WorkflowBundle\\Datagrid\\Datasource\\ResultRecord\\PublishedProductHistoryHydrator/g'
find ./src/ -type f -print0 | xargs -0 sed -i 's/PimEnterprise\\Bundle\\EnrichBundle\\MassEditAction\\Tasklet\\AbstractProductPublisherTasklet/PimEnterprise\\Bundle\\WorkflowBundle\\MassEditAction\\Tasklet\\AbstractProductPublisherTasklet/g'
find ./src/ -type f -print0 | xargs -0 sed -i 's/PimEnterprise\\Bundle\\EnrichBundle\\Connector\\Job\\JobParameters\\ConstraintCollectionProvider\\MassPublish/PimEnterprise\\Bundle\\WorkflowBundle\\MassEditAction\\Tasklet\\JobParameters\\ConstraintCollection/g'
find ./src/ -type f -print0 | xargs -0 sed -i 's/PimEnterprise\\Bundle\\EnrichBundle\\Connector\\Job\\JobParameters\\DefaultValuesProvider\\MassPublish/PimEnterprise\\Bundle\\WorkflowBundle\\MassEditAction\\Tasklet\\JobParameters\\DefaultValues/g'
find ./src/ -type f -print0 | xargs -0 sed -i 's/PimEnterprise\\Bundle\\EnrichBundle\\MassEditAction\\Tasklet\\PublishProductTasklet/PimEnterprise\\Bundle\\WorkflowBundle\\MassEditAction\\Tasklet\\PublishProductTasklet/g'
find ./src/ -type f -print0 | xargs -0 sed -i 's/PimEnterprise\\Bundle\\EnrichBundle\\MassEditAction\\Tasklet\\UnpublishProductTasklet/PimEnterprise\\Bundle\\WorkflowBundle\\MassEditAction\\Tasklet\\UnpublishProductTasklet/g'
find ./src/ -type f -print0 | xargs -0 sed -i 's/PimEnterprise\\Bundle\\EnrichBundle\\Normalizer\\ProductNormalizer/PimEnterprise\\Bundle\\WorkflowBundle\\Normalizer\\ProductNormalizer/g'
find ./src/ -type f -print0 | xargs -0 sed -i 's/PimEnterprise\\Bundle\\EnrichBundle\\Normalizer\\VersionNormalizer/PimEnterprise\\Bundle\\WorkflowBundle\\Versioning\\VersionNormalizer/g'
find ./src/ -type f -print0 | xargs -0 sed -i 's/PimEnterprise\\Bundle\\ApiBundle\\Security\\AccessDeniedHandler/Akeneo\\Pim\\Permission\\Bundle\\Api\\AccessDeniedHandler/g'
find ./src/ -type f -print0 | xargs -0 sed -i 's/PimEnterprise\\Bundle\\ApiBundle\\Checker\\QueryParametersChecker/Akeneo\\Pim\\Permission\\Bundle\\Api\\QueryParametersChecker/g'
find ./src/ -type f -print0 | xargs -0 sed -i 's/PimEnterprise\\Bundle\\CatalogBundle\\Filter\\AbstractAuthorizationFilter\\DatagridViewFilter/Akeneo\\Pim\\Permission\\Bundle\\Filter\\AbstractAuthorizationFilter\\DatagridViewFilter/g'
find ./src/ -type f -print0 | xargs -0 sed -i 's/PimEnterprise\\Bundle\\CatalogBundle\\Manager\\CategoryManager\\ProductController/Akeneo\\Pim\\Permission\\Bundle\\Persistence\\ORM\\Category\\CategoryManager\\ProductController/g'
find ./src/ -type f -print0 | xargs -0 sed -i 's/PimEnterprise\\Bundle\\CatalogBundle\\Manager\\CategoryManager\\ProductModelController/Akeneo\\Pim\\Permission\\Bundle\\Persistence\\ORM\\Category\\CategoryManager\\ProductModelController/g'
find ./src/ -type f -print0 | xargs -0 sed -i 's/PimEnterprise\\Bundle\\CatalogBundle\\Filter\\AttributeViewRightFilter\\AttributeRepository/Akeneo\\Pim\\Permission\\Bundle\\Filter\\AttributeViewRightFilter\\AttributeRepository/g'
find ./src/ -type f -print0 | xargs -0 sed -i 's/PimEnterprise\\Bundle\\CatalogBundle\\Filter\\JobInstanceEditRightFilter/Akeneo\\Pim\\Permission\\Bundle\\Filter\\JobInstanceEditRightFilter/g'
find ./src/ -type f -print0 | xargs -0 sed -i 's/PimEnterprise\\Bundle\\CatalogBundle\\Filter\\AbstractAuthorizationFilter/Akeneo\\Pim\\Permission\\Bundle\\Filter\\AbstractAuthorizationFilter/g'
find ./src/ -type f -print0 | xargs -0 sed -i 's/PimEnterprise\\Bundle\\CatalogBundle\\Filter\\AttributeEditRightFilter/Akeneo\\Pim\\Permission\\Bundle\\Filter\\AttributeEditRightFilter/g'
find ./src/ -type f -print0 | xargs -0 sed -i 's/PimEnterprise\\Bundle\\CatalogBundle\\Filter\\AttributeGroupViewRightFilter/Akeneo\\Pim\\Permission\\Bundle\\Filter\\AttributeGroupViewRightFilter/g'
find ./src/ -type f -print0 | xargs -0 sed -i 's/PimEnterprise\\Bundle\\CatalogBundle\\Filter\\AttributeViewRightFilter/Akeneo\\Pim\\Permission\\Bundle\\Filter\\AttributeViewRightFilter/g'
find ./src/ -type f -print0 | xargs -0 sed -i 's/PimEnterprise\\Bundle\\CatalogBundle\\Filter\\LocaleEditRightFilter/Akeneo\\Pim\\Permission\\Bundle\\Filter\\LocaleEditRightFilter/g'
find ./src/ -type f -print0 | xargs -0 sed -i 's/PimEnterprise\\Bundle\\CatalogBundle\\Filter\\LocaleViewRightFilter/Akeneo\\Pim\\Permission\\Bundle\\Filter\\LocaleViewRightFilter/g'
find ./src/ -type f -print0 | xargs -0 sed -i 's/PimEnterprise\\Bundle\\CatalogBundle\\Filter\\ProductAndProductModelDeleteRightFilter/Akeneo\\Pim\\Permission\\Bundle\\Filter\\ProductAndProductModelDeleteRightFilter/g'
find ./src/ -type f -print0 | xargs -0 sed -i 's/PimEnterprise\\Bundle\\CatalogBundle\\Filter\\ProductRightEditFilter/Akeneo\\Pim\\Permission\\Bundle\\Filter\\ProductRightEditFilter/g'
find ./src/ -type f -print0 | xargs -0 sed -i 's/PimEnterprise\\Bundle\\CatalogBundle\\Filter\\ProductRightViewFilter/Akeneo\\Pim\\Permission\\Bundle\\Filter\\ProductRightViewFilter/g'
find ./src/ -type f -print0 | xargs -0 sed -i 's/PimEnterprise\\Bundle\\CatalogBundle\\Filter\\ProductValueAttributeGroupRightFilter/Akeneo\\Pim\\Permission\\Bundle\\Filter\\ProductValueAttributeGroupRightFilter/g'
find ./src/ -type f -print0 | xargs -0 sed -i 's/PimEnterprise\\Bundle\\CatalogBundle\\Filter\\ProductValueLocaleRightFilter/Akeneo\\Pim\\Permission\\Bundle\\Filter\\ProductValueLocaleRightFilter/g'
find ./src/ -type f -print0 | xargs -0 sed -i 's/PimEnterprise\\Bundle\\CatalogBundle\\Doctrine\\ORM\\Repository\\AttributeRepository/Akeneo\\Pim\\Permission\\Bundle\\Persistence\\ORM\\Attribute\\AttributeRepository/g'
find ./src/ -type f -print0 | xargs -0 sed -i 's/PimEnterprise\\Bundle\\CatalogBundle\\Manager\\CategoryManager/Akeneo\\Pim\\Permission\\Bundle\\Persistence\\ORM\\Category\\CategoryManager/g'
find ./src/ -type f -print0 | xargs -0 sed -i 's/PimEnterprise\\Bundle\\CatalogBundle\\Doctrine\\ORM\\Repository\\ProductMassActionRepository/Akeneo\\Pim\\Permission\\Bundle\\Persistence\\ORM\\EntityWithValue\\ProductMassActionRepository/g'
find ./src/ -type f -print0 | xargs -0 sed -i 's/PimEnterprise\\Bundle\\CatalogBundle\\Doctrine\\ORM\\Repository\\ProductModelRepository/Akeneo\\Pim\\Permission\\Bundle\\Persistence\\ORM\\EntityWithValue\\ProductModelRepository/g'
find ./src/ -type f -print0 | xargs -0 sed -i 's/PimEnterprise\\Bundle\\CatalogBundle\\Security\\Elasticsearch\\ProductQueryBuilderFactory/Akeneo\\Pim\\Permission\\Bundle\\Persistence\\ORM\\EntityWithValue\\ProductQueryBuilderFactory/g'
find ./src/ -type f -print0 | xargs -0 sed -i 's/PimEnterprise\\Bundle\\CatalogBundle\\Doctrine\\ORM\\Repository\\ProductRepository/Akeneo\\Pim\\Permission\\Bundle\\Persistence\\ORM\\EntityWithValue\\ProductRepository/g'
find ./src/ -type f -print0 | xargs -0 sed -i 's/PimEnterprise\\Bundle\\CatalogBundle\\Security\\Doctrine\\Common\\Saver\\FilteredEntitySaver/Akeneo\\Pim\\Permission\\Bundle\\Persistence\\ORM\\FilteredEntitySaver/g'
