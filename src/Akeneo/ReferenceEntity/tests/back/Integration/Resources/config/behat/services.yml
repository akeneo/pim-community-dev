services:
    _defaults:
        public: true

    akeneo_referenceentity.tests.back.integration.connector.distribute.get_connector_record_context:
        class: Akeneo\ReferenceEntity\Integration\Connector\Api\Context\Distribute\GetConnectorRecordContext
        arguments:
            - '@akeneoreference_entity.tests.helper.oauth_authenticated_client_factory'
            - '@akeneoreference_entity.tests.helper.web_client_helper'
            - '@akeneo_referenceentity.infrastructure.persistence.query.find_connector_record_by_reference_entity_and_code'
            - '@akeneo_referenceentity.infrastructure.persistence.repository.reference_entity'
            - '@akeneo_referenceentity.infrastructure.persistence.repository.attribute'
            - '@akeneo_referenceentity.infrastructure.persistence.repository.media_file'
            - '@akeneo_file_storage.file_storage.filesystem_provider'
            - '@oro_security.security_facade'

    akeneo_referenceentity.tests.back.integration.connector.distribute.get_connector_records_context:
        class: Akeneo\ReferenceEntity\Integration\Connector\Api\Context\Distribute\GetConnectorRecordsContext
        arguments:
            - '@akeneoreference_entity.tests.helper.oauth_authenticated_client_factory'
            - '@akeneoreference_entity.tests.helper.web_client_helper'
            - '@akeneo_referenceentity.infrastructure.search.elasticsearch.record.query.find_identifiers_for_query'
            - '@akeneo_referenceentity.infrastructure.persistence.query.find_connector_records_by_identifiers'
            - '@akeneo_referenceentity.infrastructure.persistence.repository.reference_entity'
            - '@akeneo_referenceentity.infrastructure.persistence.repository.attribute'
            - '@akeneo_referenceentity.infrastructure.persistence.query.channel_exists'
            - '@akeneo_referenceentity.infrastructure.persistence.query.find_activated_locales_by_identifiers'
            - '@akeneo_referenceentity.infrastructure.persistence.query.find_required_value_key_collection_for_channel_and_locales'
            - '@akeneo_referenceentity.infrastructure.search.elasticsearch.record.query.find_activated_locales_per_channels'
            - '@akeneo_referenceentity.infrastructure.persistence.repository.date'
            - '@oro_security.security_facade'

    akeneo_referenceentity.tests.back.integration.connector.distribute.not_found_reference_entity_context:
        class: Akeneo\ReferenceEntity\Integration\Connector\Api\Context\Distribute\NotFoundReferenceEntityContext
        arguments:
            - '@akeneoreference_entity.tests.helper.oauth_authenticated_client_factory'
            - '@akeneoreference_entity.tests.helper.web_client_helper'

    akeneo_referenceentity.tests.back.integration.connector.distribute.get_connector_reference_entity_context:
        class: Akeneo\ReferenceEntity\Integration\Connector\Api\Context\Distribute\GetConnectorReferenceEntityContext
        arguments:
            - '@akeneoreference_entity.tests.helper.oauth_authenticated_client_factory'
            - '@akeneoreference_entity.tests.helper.web_client_helper'
            - '@akeneo_referenceentity.infrastructure.persistence.query.find_connector_reference_entity_by_reference_entity_identifier'
            - '@akeneo_referenceentity.infrastructure.persistence.repository.reference_entity'
            - '@oro_security.security_facade'
        tags:
        - { name: fob.context_service }

    akeneo_referenceentity.tests.back.integration.connector.distribute.get_connector_reference_entities_context:
        class: Akeneo\ReferenceEntity\Integration\Connector\Api\Context\Distribute\GetConnectorReferenceEntitiesContext
        arguments:
            - '@akeneoreference_entity.tests.helper.oauth_authenticated_client_factory'
            - '@akeneoreference_entity.tests.helper.web_client_helper'
            - '@akeneo_referenceentity.infrastructure.persistence.query.find_connector_reference_entity_items'
            - '@akeneo_referenceentity.infrastructure.persistence.repository.reference_entity'
            - '@oro_security.security_facade'
        tags:
        - { name: fob.context_service }

    akeneo_referenceentity.tests.back.integration.connector.collect.create_or_update_record_context:
        class: Akeneo\ReferenceEntity\Integration\Connector\Api\Context\Collect\CreateOrUpdateRecordContext
        arguments:
            - '@akeneoreference_entity.tests.helper.oauth_authenticated_client_factory'
            - '@akeneoreference_entity.tests.helper.web_client_helper'
            - '@akeneo_referenceentity.infrastructure.persistence.repository.reference_entity'
            - '@akeneo_referenceentity.infrastructure.persistence.repository.attribute'
            - '@akeneo_referenceentity.infrastructure.persistence.repository.record'
            - '@akeneo_referenceentity.infrastructure.persistence.query.channel_exists'
            - '@akeneo_referenceentity.infrastructure.persistence.query.find_activated_locales_by_identifiers'
            - '@akeneo_referenceentity.infrastructure.search.elasticsearch.record.query.find_activated_locales_per_channels'
            - '@akeneo_referenceentity.infrastructure.persistence.query.find_file_data_by_file_key'
            - '@akeneo_referenceentity.infrastructure.persistence.query.file_exists'
            - '@akeneo.referencentity.infrastructure.persistence.query.get_attribute_identifier'
            - '@oro_security.security_facade'

    akeneo_referenceentity.tests.back.integration.connector.distribute.get_connector_attributes_context:
        class: Akeneo\ReferenceEntity\Integration\Connector\Api\Context\Distribute\GetConnectorAttributesContext
        arguments:
            - '@akeneoreference_entity.tests.helper.oauth_authenticated_client_factory'
            - '@akeneoreference_entity.tests.helper.web_client_helper'
            - '@akeneo_referenceentity.infrastructure.persistence.query.find_connector_reference_entity_attributes_by_reference_entity_identifier'
            - '@akeneo_referenceentity.infrastructure.persistence.repository.reference_entity'
            - '@akeneo_referenceentity.infrastructure.persistence.repository.attribute'
            - '@oro_security.security_facade'

    akeneo_referenceentity.tests.back.integration.connector.distribute.get_connector_attribute_context:
        class: Akeneo\ReferenceEntity\Integration\Connector\Api\Context\Distribute\GetConnectorAttributeContext
        arguments:
            - '@akeneoreference_entity.tests.helper.oauth_authenticated_client_factory'
            - '@akeneoreference_entity.tests.helper.web_client_helper'
            - '@akeneo_referenceentity.infrastructure.persistence.query.find_connector_attribute_by_identifier_and_code'
            - '@akeneo_referenceentity.infrastructure.persistence.repository.reference_entity'
            - '@akeneo_referenceentity.infrastructure.persistence.repository.attribute'
            - '@oro_security.security_facade'

    akeneo_referenceentity.tests.back.integration.connector.distribute.get_connector_attribute_option_context:
        class: Akeneo\ReferenceEntity\Integration\Connector\Api\Context\Distribute\GetConnectorAttributeOptionContext
        arguments:
            - '@akeneoreference_entity.tests.helper.oauth_authenticated_client_factory'
            - '@akeneoreference_entity.tests.helper.web_client_helper'
            - '@akeneo_referenceentity.infrastructure.persistence.query.find_connector_attribute_option'
            - '@akeneo_referenceentity.infrastructure.persistence.repository.reference_entity'
            - '@akeneo_referenceentity.infrastructure.persistence.repository.attribute'
            - '@oro_security.security_facade'

    akeneo_referenceentity.tests.back.integration.connector.collect.create_or_update_reference_entity_context:
        class: Akeneo\ReferenceEntity\Integration\Connector\Api\Context\Collect\CreateOrUpdateReferenceEntityContext
        arguments:
            - '@akeneoreference_entity.tests.helper.oauth_authenticated_client_factory'
            - '@akeneoreference_entity.tests.helper.web_client_helper'
            - '@akeneo_referenceentity.infrastructure.persistence.repository.reference_entity'
            - '@akeneo_referenceentity.infrastructure.persistence.query.channel_exists'
            - '@akeneo_referenceentity.infrastructure.persistence.query.find_activated_locales_by_identifiers'
            - '@akeneo_referenceentity.infrastructure.search.elasticsearch.record.query.find_activated_locales_per_channels'
            - '@akeneo_referenceentity.infrastructure.persistence.query.find_file_data_by_file_key'
            - '@akeneo_referenceentity.infrastructure.persistence.query.file_exists'
            - '@akeneo.referencentity.infrastructure.persistence.query.get_attribute_identifier'
            - '@oro_security.security_facade'

    akeneo_referenceentity.tests.back.integration.connector.distribute.get_connector_attribute_options_context:
        class: Akeneo\ReferenceEntity\Integration\Connector\Api\Context\Distribute\GetConnectorAttributeOptionsContext
        arguments:
            - '@akeneoreference_entity.tests.helper.oauth_authenticated_client_factory'
            - '@akeneoreference_entity.tests.helper.web_client_helper'
            - '@akeneo_referenceentity.infrastructure.persistence.query.find_connector_attribute_options'
            - '@akeneo_referenceentity.infrastructure.persistence.repository.reference_entity'
            - '@akeneo_referenceentity.infrastructure.persistence.repository.attribute'
            - '@oro_security.security_facade'

    akeneo_referenceentity.tests.back.integration.connector.collect.create_or_update_attribute_context:
        class: Akeneo\ReferenceEntity\Integration\Connector\Api\Context\Collect\CreateOrUpdateAttributeContext
        arguments:
            - '@akeneo_referenceentity.infrastructure.persistence.repository.reference_entity'
            - '@akeneoreference_entity.tests.helper.oauth_authenticated_client_factory'
            - '@akeneoreference_entity.tests.helper.web_client_helper'
            - '@akeneo_referenceentity.infrastructure.persistence.repository.attribute'
            - '@akeneo_referenceentity.infrastructure.persistence.query.find_activated_locales_by_identifiers'
            - '@akeneo_referenceentity.infrastructure.persistence.query.find_connector_attribute_by_identifier_and_code'
            - '@oro_security.security_facade'

    akeneo_referenceentity.tests.back.integration.connector.collection.create_or_update_attribute_option_context:
        class: Akeneo\ReferenceEntity\Integration\Connector\Api\Context\Collect\CreateOrUpdateAttributeOptionContext
        arguments:
            - '@akeneo_referenceentity.infrastructure.persistence.repository.reference_entity'
            - '@akeneoreference_entity.tests.helper.oauth_authenticated_client_factory'
            - '@akeneoreference_entity.tests.helper.web_client_helper'
            - '@akeneo_referenceentity.infrastructure.persistence.repository.attribute'
            - '@akeneo_referenceentity.infrastructure.persistence.query.find_activated_locales_by_identifiers'
            - '@oro_security.security_facade'

    akeneo_referenceentity.tests.back.integration.connector.activate_reference_entity_before_scenario:
        class: Akeneo\AssetManager\Integration\Connector\Api\Context\ActivateAssetManagerBeforeScenario
        arguments:
            - '@feature_flags'
