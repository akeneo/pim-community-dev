parameters:
    pimee_workflow.twig.extension.product_draft_changes.class: Akeneo\Pim\WorkOrganization\Workflow\Bundle\Twig\ProductDraftChangesExtension
    pimee_workflow.rendering.diff_factory.class: Akeneo\Pim\WorkOrganization\Workflow\Bundle\Rendering\DiffFactory
    pimee_workflow.renderer.html.simple_list.class: Akeneo\Pim\WorkOrganization\Workflow\Bundle\Diff\Renderer\Html\SimpleList
    pimee_workflow.product_draft_renderer.class: Akeneo\Pim\WorkOrganization\Workflow\Bundle\Rendering\PhpDiffRenderer
    pimee_workflow.presenter.text.class: Akeneo\Pim\WorkOrganization\Workflow\Bundle\Presenter\TextPresenter
    pimee_workflow.presenter.textarea.class: Akeneo\Pim\WorkOrganization\Workflow\Bundle\Presenter\TextareaPresenter
    pimee_workflow.presenter.metric.class: Akeneo\Pim\WorkOrganization\Workflow\Bundle\Presenter\MetricPresenter
    pimee_workflow.presenter.date.class: Akeneo\Pim\WorkOrganization\Workflow\Bundle\Presenter\DatePresenter
    pimee_workflow.presenter.prices.class: Akeneo\Pim\WorkOrganization\Workflow\Bundle\Presenter\PricesPresenter
    pimee_workflow.presenter.number.class: Akeneo\Pim\WorkOrganization\Workflow\Bundle\Presenter\NumberPresenter
    pimee_workflow.presenter.boolean.class: Akeneo\Pim\WorkOrganization\Workflow\Bundle\Presenter\BooleanPresenter
    pimee_workflow.presenter.default.class: Akeneo\Pim\WorkOrganization\Workflow\Bundle\Presenter\DefaultPresenter
    pimee_workflow.presenter.option.class: Akeneo\Pim\WorkOrganization\Workflow\Bundle\Presenter\OptionPresenter
    pimee_workflow.presenter.options.class: Akeneo\Pim\WorkOrganization\Workflow\Bundle\Presenter\OptionsPresenter
    pimee_workflow.presenter.file.class: Akeneo\Pim\WorkOrganization\Workflow\Bundle\Presenter\FilePresenter
    pimee_workflow.presenter.image.class: Akeneo\Pim\WorkOrganization\Workflow\Bundle\Presenter\ImagePresenter
    pimee_workflow.presenter.product_value.date.class: Akeneo\Pim\WorkOrganization\Workflow\Bundle\Presenter\DatePresenter
    pimee_workflow.presenter.product_value.boolean.class: Akeneo\Pim\WorkOrganization\Workflow\Bundle\Presenter\BooleanPresenter
    pimee_workflow.presenter.product_value.image.class: Akeneo\Pim\WorkOrganization\Workflow\Bundle\Presenter\ImagePresenter
    pimee_workflow.presenter.product_value.file.class: Akeneo\Pim\WorkOrganization\Workflow\Bundle\Presenter\FilePresenter

services:
    ##
    # Twig Extension
    ##
    pimee_workflow.twig.extension.product_draft_changes:
        class: '%pimee_workflow.twig.extension.product_draft_changes.class%'
        arguments:
            - '@pim_catalog.repository.cached_attribute'
            - '@pimee_workflow.product_draft_renderer'
            - '@translator'
            - '@akeneo.pim.enrichment.factory.value'
        tags:
            - { name: twig.extension }

    pimee_workflow.product_draft_renderer:
        class: '%pimee_workflow.product_draft_renderer.class%'
        arguments:
            - '@pimee_workflow.renderer.html.simple_list'
            - '@pimee_workflow.rendering.diff_factory'

    pimee_workflow.renderer.html.simple_list:
        public: false
        class: '%pimee_workflow.renderer.html.simple_list.class%'

    pimee_workflow.rendering.diff_factory:
        public: false
        class: '%pimee_workflow.rendering.diff_factory.class%'

    ##
    # Presenters
    ##
    pimee_workflow.presenter.default:
        class: '%pimee_workflow.presenter.default.class%'
        tags:
            - { name: pimee_workflow.presenter, priority: -128 }

    pimee_workflow.presenter.text:
        class: '%pimee_workflow.presenter.text.class%'
        tags:
            - { name: pimee_workflow.presenter }

    pimee_workflow.presenter.textarea:
        class: '%pimee_workflow.presenter.textarea.class%'
        tags:
            - { name: pimee_workflow.presenter }

    pimee_workflow.presenter.metric:
        class: '%pimee_workflow.presenter.metric.class%'
        arguments:
            - '@pim_catalog.localization.presenter.metric'
            - '@pim_enrich.resolver.locale'
        tags:
            - { name: pimee_workflow.presenter }

    pimee_workflow.presenter.date:
        class: '%pimee_workflow.presenter.date.class%'
        arguments:
            - '@pim_catalog.localization.presenter.date'
            - '@pim_enrich.resolver.locale'
        tags:
            - { name: pimee_workflow.presenter }

    pimee_workflow.presenter.prices:
        class: '%pimee_workflow.presenter.prices.class%'
        arguments:
            - '@pim_catalog.localization.presenter.prices'
            - '@pim_enrich.resolver.locale'
        tags:
            - { name: pimee_workflow.presenter }

    pimee_workflow.presenter.number:
        class: '%pimee_workflow.presenter.number.class%'
        arguments:
            - '@pim_catalog.localization.presenter.number'
            - '@pim_enrich.resolver.locale'
        tags:
            - { name: pimee_workflow.presenter }

    pimee_workflow.presenter.boolean:
        class: '%pimee_workflow.presenter.boolean.class%'
        tags:
            - { name: pimee_workflow.presenter }

    pimee_workflow.presenter.option:
        class: '%pimee_workflow.presenter.option.class%'
        arguments:
            - '@pim_catalog.repository.cached_attribute_option'
        tags:
            - { name: pimee_workflow.presenter }

    pimee_workflow.presenter.options:
        class: '%pimee_workflow.presenter.options.class%'
        arguments:
            - '@pim_catalog.repository.cached_attribute_option'
        tags:
            - { name: pimee_workflow.presenter }

    pimee_workflow.presenter.file:
        class: '%pimee_workflow.presenter.file.class%'
        arguments:
            - '@router'
            - '@akeneo_file_storage.repository.file_info'
        tags:
            - { name: pimee_workflow.presenter, priority: -64 }

    pimee_workflow.presenter.image:
        class: '%pimee_workflow.presenter.image.class%'
        arguments:
            - '@router'
            - '@akeneo_file_storage.repository.file_info'
        tags:
            - { name: pimee_workflow.presenter }

    pimee_workflow.presenter.product_value.date:
        class: '%pimee_workflow.presenter.product_value.date.class%'
        arguments:
            - '@pim_catalog.localization.presenter.date'
            - '@pim_enrich.resolver.locale'
        tags:
            - { name: pimee_workflow.product_value_presenter }

    pimee_workflow.presenter.product_value.boolean:
        class: '%pimee_workflow.presenter.product_value.boolean.class%'
        tags:
            - { name: pimee_workflow.product_value_presenter }

    pimee_workflow.presenter.product_value.image:
        class: '%pimee_workflow.presenter.product_value.image.class%'
        arguments:
            - '@router'
            - '@akeneo_file_storage.repository.file_info'
        tags:
            - { name: pimee_workflow.product_value_presenter }

    pimee_workflow.presenter.product_value.file:
        class: '%pimee_workflow.presenter.product_value.file.class%'
        arguments:
            - '@router'
            - '@akeneo_file_storage.repository.file_info'
        tags:
            - { name: pimee_workflow.product_value_presenter }

    pimee_reference_data.workflow.presenter.reference_data:
        class: 'Akeneo\Pim\WorkOrganization\Workflow\Bundle\Presenter\ReferenceData\ReferenceDataPresenter'
        arguments:
            - '@pim_reference_data.repository_resolver'
        tags:
            - { name: pimee_workflow.presenter }

    pimee_reference_data.workflow.presenter.reference_data_collection:
        class: 'Akeneo\Pim\WorkOrganization\Workflow\Bundle\Presenter\ReferenceData\ReferenceDataCollectionPresenter'
        arguments:
            - '@pim_reference_data.repository_resolver'
        tags:
            - { name: pimee_workflow.presenter }

    pimee_workflow.presenter.product_value.reference_entity_collection:
        class: 'Akeneo\Pim\Enrichment\ReferenceEntity\Component\Presenter\ReferenceEntityCollectionValuePresenter'
        tags:
            - { name: pimee_workflow.presenter }

    pimee_workflow.presenter.product_value.reference_entity:
        class: 'Akeneo\Pim\Enrichment\ReferenceEntity\Component\Presenter\ReferenceEntityValuePresenter'
        tags:
            - { name: pimee_workflow.presenter }

    pimee_workflow.presenter.product_value.asset_collection:
        class: 'Akeneo\Pim\Enrichment\AssetManager\Component\Presenter\AssetCollectionValuePresenter'
        tags:
            - { name: pimee_workflow.presenter }
