services:
    pimee.reference_entity.catalog_volume_monitoring.count_reference_entities:
        class: 'AkeneoTest\Platform\Acceptance\CatalogVolumeMonitoring\Persistence\Query\InMemory\InMemoryCountQuery'
        arguments:
            - 'count_reference_entities'
        tags:
            - { name: pim_volume_monitoring.persistence.count_query }

    pimee.reference_entity.catalog_volume_monitoring.average_max_number_of_records_per_reference_entity:
        class: 'AkeneoTest\Platform\Acceptance\CatalogVolumeMonitoring\Persistence\Query\InMemory\InMemoryAverageMaxQuery'
        arguments:
            - 'average_max_records_per_reference_entities'
        tags:
            - { name: pim_volume_monitoring.persistence.average_max_query }

    pimee.reference_entity.catalog_volume_monitoring.average_max_number_of_attributes_per_reference_entity:
        class: 'AkeneoTest\Platform\Acceptance\CatalogVolumeMonitoring\Persistence\Query\InMemory\InMemoryAverageMaxQuery'
        arguments:
            - 'average_max_attributes_per_reference_entities'
        tags:
            - { name: pim_volume_monitoring.persistence.average_max_query }

    akeneo_referenceentity.infrastructure.persistence.query.enrich.record_is_used_as_product_variant_axis:
        class: Akeneo\ReferenceEntity\Common\Fake\InMemoryRecordIsUsedAsProductVariantAxis
        arguments:
            - '@akeneo.pim.structure.query.find_family_variants_identifiers_by_attribute_axes'
            - '@pim_catalog.repository.attribute'
            - '@pim_catalog.repository.product'

    akeneo.reference_entity.infrastructure.public_api.analytics.aggregated_average_max_number_of_values_per_record:
        class: AkeneoTest\Platform\Acceptance\CatalogVolumeMonitoring\Persistence\Query\InMemory\InMemoryAverageMaxQuery
        arguments:
            - '%average_max_number_of_values_per_record_limit%'
        tags:
            - { name: pim_volume_monitoring.persistence.average_max_query }

