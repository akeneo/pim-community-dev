parameters:
    pim_transform.cache.doctrine_cache.class: Pim\Bundle\BaseConnectorBundle\Cache\DoctrineCache
    pim_transform.cache.cache_clearer.class:  Pim\Bundle\BaseConnectorBundle\Cache\CacheClearer

services:
    pim_transform.cache.doctrine_cache:
        class: '%pim_transform.cache.doctrine_cache.class%'
        deprecated: 'The "%service_id%" service is deprecated and will be removed in 1.6'
        arguments:
            - '@pim_catalog.doctrine.smart_manager_registry'

    pim_transform.cache.cache_clearer:
        class: '%pim_transform.cache.cache_clearer.class%'
        deprecated: 'The "%service_id%" service is deprecated and will be removed in 1.6'
        arguments:
            - '@pim_transform.cache.doctrine_cache'
            - '@pim_catalog.doctrine.smart_manager_registry'

    pim_transform.cache.product_cache_clearer:
        deprecated: 'The "%service_id%" service is deprecated and will be removed in 1.6'
        parent: pim_transform.cache.cache_clearer
        calls:
            - [ setNonClearableEntities, [['%pim_catalog.entity.attribute.class%', '%pim_catalog.entity.category.class%', '%pim_catalog.entity.family.class%', '%pim_catalog.entity.channel.class%', '%pim_catalog.entity.locale.class%', '%pim_catalog.entity.currency.class%', '%pim_catalog.entity.attribute_option.class%', '%pim_catalog.entity.attribute_option_value.class%', '%pim_catalog.entity.attribute_group.class%', '%pim_catalog.entity.attribute_requirement.class%', '%pim_catalog.entity.family_translation.class%', '%pim_catalog.entity.category_translation.class%', '%pim_catalog.entity.attribute_translation.class%', '%pim_catalog.entity.attribute_group_translation.class%', '%akeneo_batch.entity.job_instance.class%', '%akeneo_batch.entity.job_execution.class%', '%akeneo_batch.entity.step_execution.class%', '%pim_user.entity.user.class%', '%pim_user.entity.user_api.class%']]]
