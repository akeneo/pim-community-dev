parameters:
    pimee_workflow.twig.extension.product_draft_changes.class: PimEnterprise\Bundle\WorkflowBundle\Twig\ProductDraftChangesExtension
    pimee_workflow.twig.extension.product_value_presenter.class: PimEnterprise\Bundle\WorkflowBundle\Twig\ProductValuePresenterExtension
    pimee_workflow.rendering.diff_factory.class: PimEnterprise\Bundle\WorkflowBundle\Rendering\DiffFactory
    pimee_workflow.renderer.html.base_only.class: PimEnterprise\Bundle\WorkflowBundle\Diff\Renderer\Html\BaseOnly
    pimee_workflow.renderer.html.changed_only.class: PimEnterprise\Bundle\WorkflowBundle\Diff\Renderer\Html\ChangedOnly
    pimee_workflow.product_draft_renderer.class: PimEnterprise\Bundle\WorkflowBundle\Rendering\PhpDiffRenderer
    pimee_workflow.presenter.text.class: PimEnterprise\Bundle\WorkflowBundle\Presenter\TextPresenter
    pimee_workflow.presenter.metric.class: PimEnterprise\Bundle\WorkflowBundle\Presenter\MetricPresenter
    pimee_workflow.presenter.date.class: PimEnterprise\Bundle\WorkflowBundle\Presenter\DatePresenter
    pimee_workflow.presenter.prices.class: PimEnterprise\Bundle\WorkflowBundle\Presenter\PricesPresenter
    pimee_workflow.presenter.boolean.class: PimEnterprise\Bundle\WorkflowBundle\Presenter\BooleanPresenter
    pimee_workflow.presenter.default.class: PimEnterprise\Bundle\WorkflowBundle\Presenter\DefaultPresenter
    pimee_workflow.presenter.option.class: PimEnterprise\Bundle\WorkflowBundle\Presenter\OptionPresenter
    pimee_workflow.presenter.options.class: PimEnterprise\Bundle\WorkflowBundle\Presenter\OptionsPresenter
    pimee_workflow.presenter.file.class: PimEnterprise\Bundle\WorkflowBundle\Presenter\FilePresenter
    pimee_workflow.presenter.image.class: PimEnterprise\Bundle\WorkflowBundle\Presenter\ImagePresenter
    pimee_workflow.presenter.product_value.date.class: PimEnterprise\Bundle\WorkflowBundle\Presenter\ProductValue\DatePresenter
    pimee_workflow.presenter.product_value.boolean.class: PimEnterprise\Bundle\WorkflowBundle\Presenter\ProductValue\BooleanPresenter
    pimee_workflow.presenter.product_value.image.class: PimEnterprise\Bundle\WorkflowBundle\Presenter\ProductValue\ImagePresenter
    pimee_workflow.presenter.product_value.file.class: PimEnterprise\Bundle\WorkflowBundle\Presenter\ProductValue\FilePresenter

services:
    ##
    # Twig Extension
    ##
    pimee_workflow.twig.extension.product_draft_changes:
        class: %pimee_workflow.twig.extension.product_draft_changes.class%
        arguments:
            - '@pim_catalog.repository.attribute'
            - '@pimee_workflow.product_draft_renderer'
            - '@translator'
            - '@pim_catalog.builder.product'
            - '@pim_catalog.factory.attribute'
        tags:
            - { name: twig.extension }

    pimee_workflow.twig.extension.product_value_presenter:
        class: %pimee_workflow.twig.extension.product_value_presenter.class%
        arguments:
            - '@translator'
        tags:
            - { name: twig.extension }

    pimee_workflow.product_draft_renderer:
        class: %pimee_workflow.product_draft_renderer.class%
        arguments:
            - @pimee_workflow.renderer.html.base_only
            - @pimee_workflow.renderer.html.changed_only
            - @pimee_workflow.rendering.diff_factory

    ##
    # Renderers
    ##
    pimee_workflow.rendering.diff_factory:
        public: false
        class: %pimee_workflow.rendering.diff_factory.class%

    pimee_workflow.renderer.html.base_only:
        public: false
        class: %pimee_workflow.renderer.html.base_only.class%

    pimee_workflow.renderer.html.changed_only:
        public: false
        class: %pimee_workflow.renderer.html.changed_only.class%

    ##
    # Presenters
    ##
    pimee_workflow.presenter.default:
        class: %pimee_workflow.presenter.default.class%
        tags:
            - { name: pimee_workflow.presenter, priority: 255 }

    pimee_workflow.presenter.text:
        class: %pimee_workflow.presenter.text.class%
        tags:
            - { name: pimee_workflow.presenter }

    pimee_workflow.presenter.metric:
        class: %pimee_workflow.presenter.metric.class%
        tags:
            - { name: pimee_workflow.presenter }

    pimee_workflow.presenter.date:
        class: %pimee_workflow.presenter.date.class%
        tags:
            - { name: pimee_workflow.presenter }

    pimee_workflow.presenter.prices:
        class: %pimee_workflow.presenter.prices.class%
        tags:
            - { name: pimee_workflow.presenter }

    pimee_workflow.presenter.boolean:
        class: %pimee_workflow.presenter.boolean.class%
        tags:
            - { name: pimee_workflow.presenter }

    pimee_workflow.presenter.option:
        class: %pimee_workflow.presenter.option.class%
        arguments:
            - '@pim_catalog.repository.attribute_option'
        tags:
            - { name: pimee_workflow.presenter }

    pimee_workflow.presenter.options:
        class: %pimee_workflow.presenter.options.class%
        arguments:
            - '@pim_catalog.repository.attribute_option'
        tags:
            - { name: pimee_workflow.presenter }

    pimee_workflow.presenter.file:
        class: %pimee_workflow.presenter.file.class%
        arguments:
            - '@router'
        tags:
            - { name: pimee_workflow.presenter }

    pimee_workflow.presenter.image:
        class: %pimee_workflow.presenter.image.class%
        arguments:
            - '@router'
        tags:
            - { name: pimee_workflow.presenter }

    pimee_workflow.presenter.product_value.date:
        class: %pimee_workflow.presenter.product_value.date.class%
        tags:
            - { name: pimee_workflow.product_value_presenter }

    pimee_workflow.presenter.product_value.boolean:
        class: %pimee_workflow.presenter.product_value.boolean.class%
        tags:
            - { name: pimee_workflow.product_value_presenter }

    pimee_workflow.presenter.product_value.image:
        class: %pimee_workflow.presenter.product_value.image.class%
        tags:
            - { name: pimee_workflow.product_value_presenter }

    pimee_workflow.presenter.product_value.file:
        class: %pimee_workflow.presenter.product_value.file.class%
        tags:
            - { name: pimee_workflow.product_value_presenter }
