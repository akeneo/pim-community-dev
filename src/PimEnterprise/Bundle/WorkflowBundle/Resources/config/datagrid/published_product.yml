datagrid:
    published-product-grid:
        options:
            entityHint: product
            requireJSModules:
                - pim/datagrid/configure-columns-action
        source:
            acl_resource:      pim_enrich_product_index
            type:              pimee_datasource_published_product
            entity:            '%pimee_workflow.entity.published_product.class%'
            repository_method: createDatagridQueryBuilder
        columns:
            label:
                label:         Label
                data_name:     productLabel
                selector:      product_label
            family:
                label:         Family
                data_name:     familyLabel
                selector:      product_family
            enabled:
                label:         Status
                type:          twig
                template:      PimDataGridBundle:Property:enabled.html.twig
                frontend_type: html
            completeness:
                label:         Complete
                type:          twig
                data_name:     ratio
                template:      PimDataGridBundle:Property:completeness.html.twig
                frontend_type: html
                selector:      product_completeness
            created:
                label:         Created At
                type:          product_value_date
                frontend_type: date
            updated:
                label:         Updated At
                type:          product_value_date
                frontend_type: date
            groups:
                label:         Groups
                type:          product_groups
                selector:      product_groups
        properties:
            id: ~
            view_link:
                type: url
                route: pimee_workflow_published_product_view
                params:
                    - id
                    - dataLocale
            unpublish_link:
                type: url
                route: pimee_workflow_published_product_unpublish
                params:
                    - id
        actions:
            view:
                type:      navigate
                label:     View the product
                icon:      eye-open
                link:      view_link
                rowAction: true
            unpublish:
                type:  ajax
                label: Unpublish the product
                icon:  cloud-download
                link:  unpublish_link
        action_configuration: '@pimee_datagrid.datagrid.configuration.published_product.grid_helper->getActionConfigurationClosure'
        mass_actions_groups:
            quick_export:
                label: pim_datagrid.mass_action_group.quick_export.label
                icon: download-alt
        mass_actions:
            mass_edit:
                type: edit
                acl_resource: pimee_workflow_published_product_index
                label: pim.grid.mass_action.mass_edit
                handler: product_mass_edit
                route: pim_enrich_mass_edit_action_choose
                icon: edit
            quick_export_grid_context_xlsx:
                type: export
                label: pim.grid.mass_action.quick_export.xlsx_grid_context
                icon: download
                handler: product_quick_export
                route: pimee_datagrid_export_published_product_index
                route_parameters:
                    _format: xlsx
                    _contentType: application/vnd.openxmlformats-officedocument.spreadsheetml.sheet
                    _jobCode: xlsx_published_product_grid_context_quick_export
                    _displayedColumnsOnly: 1
                context:
                    withHeader: true
                messages:
                    empty_selection: pim_datagrid.mass_action.delete.empty_selection
                launcherOptions:
                    group: quick_export
            quick_export_xlsx:
                type: export
                label: pim.grid.mass_action.quick_export.xlsx_all
                icon: download
                handler: product_quick_export
                route: pimee_datagrid_export_published_product_index
                route_parameters:
                    _format: xlsx
                    _contentType: application/vnd.openxmlformats-officedocument.spreadsheetml.sheet
                    _jobCode: xlsx_published_product_quick_export
                    _displayedColumnsOnly: 0
                context:
                    withHeader: true
                messages:
                    empty_selection: pim_datagrid.mass_action.delete.empty_selection
                launcherOptions:
                    group: quick_export
            quick_export_grid_context_csv:
                type: export
                label: pim.grid.mass_action.quick_export.csv_grid_context
                icon: download
                handler: product_quick_export
                route: pimee_datagrid_export_published_product_index
                route_parameters:
                    _format: csv
                    _contentType: text/csv
                    _jobCode: csv_published_product_grid_context_quick_export
                    _displayedColumnsOnly: 1
                context:
                    withHeader: true
                messages:
                    empty_selection: pim_datagrid.mass_action.delete.empty_selection
                launcherOptions:
                    group: quick_export
            quick_export_csv:
                type: export
                label: pim.grid.mass_action.quick_export.csv_all
                icon: download
                handler: product_quick_export
                route: pimee_datagrid_export_published_product_index
                route_parameters:
                    _format: csv
                    _contentType: text/csv
                    _jobCode: csv_published_product_quick_export
                    _displayedColumnsOnly: 0
                context:
                    withHeader: true
                messages:
                    empty_selection: pim_datagrid.mass_action.delete.empty_selection
                launcherOptions:
                    group: quick_export
        sorters:
            columns:
                family:
                    data_name: familyLabel
                    sorter:    product_family
                enabled:
                    data_name: enabled
                    sorter:    product_field
                completeness:
                    data_name: ratio
                    sorter:    product_completeness
                created:
                    data_name: created
                    sorter:    product_field
                updated:
                    data_name: updated
                    sorter:    product_field
            default:
                updated: '%oro_datagrid.extension.orm_sorter.class%::DIRECTION_DESC'
        filters:
            columns:
                family:
                    type:      product_family
                    label:     Family
                    data_name: family
                    options:
                        field_options:
                            multiple: true
                            attr:
                                empty_choice: true
                groups:
                    type:      product_groups
                    label:     Groups
                    data_name: groups
                    options:
                        field_options:
                            multiple: true
                enabled:
                    type:      product_enabled
                    ftype:     choice
                    label:     Status
                    data_name: enabled
                    options:
                        field_options:
                            choices:
                                1: Enabled
                                0: Disabled
                scope:
                    type:      product_scope
                    label:     Scope
                    data_name: values.scope
                    options:
                        field_options:
                            choices: '@pim_catalog.repository.channel->getLabelsIndexedByCode'
                completeness:
                    type:      product_completeness
                    label:     Complete
                    data_name: ratio
                created:
                    type:      product_date
                    ftype:     date
                    data_name: created
                    label:     Created At
                updated:
                    type:      product_date
                    ftype:     date
                    data_name: updated
                    label:     Updated At
