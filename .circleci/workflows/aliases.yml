version: 2.1
parameters:
  client-to-clone-flex:
    default: "assa-abloy-dev##akecld-assa-abloy"
    type: string
  skip_build:
    default: false
    type: boolean
  trigger:
    default: ""
    type: string
  instance:
    default: ""
    type: string
  ge2ee_script_release:
    default: ""
    type: string
  k6_test:
    default: "*"
    type: string
  k6_duration:
    default: "10m"
    type: string
  k6_vus:
    default: "10"
    type: string
  load_parallelism:
    default: "5"
    type: string
  load_duration:
    default: "600"
    type: string


slack-fail-post-step: &slack-fail-post-step
  post-steps:
    - slack/status:
        channel: ci
        webhook: $SLACK_NIGHTLY_STATUS
        fail_only: true

slack-post-step: &slack-post-step
  post-steps:
    - slack/status:
        channel: ci
        webhook: $SLACK_NIGHTLY_STATUS
        fail_only: false

client-to-clone-srnt: &client-to-clone-srnt ["srnt-madeira-production", "srnt-pim-pce", "srnt-cto-pim", "srnt-iteshop"]
client-to-clone-grth: &client-to-clone-grth ["grth-sirius-staging"]
clients-to-clone-flex: &clients-to-clone-flex ["assa-abloy-dev##akecld-assa-abloy", "curacao-production##akecld-curacao-pim"]
client-to-clone-grth-ge2ee-nightly: &client-to-clone-grth-ge2ee-nightly ["grth-comac-production", "grth-comac", "grth-grillstar", "grth-grillstar-sandbox", "grth-gero-staging", "grth-elettromedia", "grth-bordex", "grth-bordex-dev", "grth-brandsservices", "grth-brandsservicesp" ]
