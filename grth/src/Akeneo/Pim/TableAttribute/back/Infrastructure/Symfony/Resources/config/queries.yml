services:
  Akeneo\Pim\TableAttribute\Infrastructure\Family\Sql\TableSqlGetRequiredAttributesMasks:
    arguments:
      - '@database_connection'
    tags:
      - { name: akeneo.pim.structure.query.get_required_attributes_masks_per_attribute_type }

  Akeneo\Pim\TableAttribute\Infrastructure\Value\Query\GetProductIdentifiersWithRemovedAttributes:
    decorates: 'akeneo.pim.enrichment.product.query.get_product_identifiers_with_removed_attribute'
    decoration_inner_name: 'akeneo.pim.enrichment.product.query.get_product_identifiers_with_removed_attribute_decorated'
    arguments:
      - '@akeneo.pim.enrichment.product.query.get_product_identifiers_with_removed_attribute_decorated'

  Akeneo\Pim\TableAttribute\Infrastructure\Value\Query\CountProductsWithRemovedAttributes:
    decorates: 'akeneo.pim.enrichment.product.query.count_products_with_removed_attribute'
    decoration_inner_name: 'akeneo.pim.enrichment.product.query.count_products_with_removed_attribute_decorated'
    arguments:
      - '@akeneo.pim.enrichment.product.query.count_products_with_removed_attribute_decorated'

  Akeneo\Pim\TableAttribute\Infrastructure\Value\Query\GetProductModelIdentifiersWithRemovedAttributes:
    decorates: 'akeneo.pim.enrichment.product.query.get_product_model_identifiers_with_removed_attribute'
    decoration_inner_name: 'akeneo.pim.enrichment.product.query.get_product_model_identifiers_with_removed_attribute_decorated'
    arguments:
      - '@akeneo.pim.enrichment.product.query.get_product_model_identifiers_with_removed_attribute_decorated'

  Akeneo\Pim\TableAttribute\Infrastructure\Value\Query\CountProductModelsWithRemovedAttributes:
    decorates: 'akeneo.pim.enrichment.product.query.count_product_models_with_removed_attribute'
    decoration_inner_name: 'akeneo.pim.enrichment.product.query.count_product_models_with_removed_attribute_decorated'
    arguments:
      - '@akeneo.pim.enrichment.product.query.count_product_models_with_removed_attribute_decorated'

  Akeneo\Pim\TableAttribute\Infrastructure\Value\Query\GetExistingRecordCodes:
    class: Akeneo\Pim\TableAttribute\Infrastructure\Value\Query\SqlGetExistingRecordCodes
    arguments:
      - '@database_connection'

  Akeneo\Pim\TableAttribute\Domain\TableConfiguration\Query\GetColumnsLinkedToAReferenceEntity:
    class: Akeneo\Pim\TableAttribute\Infrastructure\TableConfiguration\Query\SqlGetColumnsLinkedToAReferenceEntity
    arguments:
      - '@database_connection'

  Akeneo\Pim\TableAttribute\Domain\Value\Query\GetRecordLabel:
    class: Akeneo\Pim\TableAttribute\Infrastructure\AntiCorruptionLayer\ACLGetRecordLabel
    arguments:
      - '@?akeneo_referenceentity.infrastructure.persistence.query.find_record_labels_by_codes'
