imports:
    - { resource: ../../../src/Akeneo/ReferenceEntity/tests/back/Common/Resources/helpers.yml }
    - { resource: ../../../src/Akeneo/ReferenceEntity/tests/back/Common/Resources/test_services.yml }
    - { resource: ../../../src/Akeneo/AssetManager/tests/back/Common/Resources/helpers.yml }
    - { resource: ../../../src/Akeneo/AssetManager/tests/back/Common/Resources/fake_anti_corruption_layer.yml }
    - { resource: ../../../src/Akeneo/AssetManager/tests/back/Common/Resources/test_services.yml }
    - { resource: ../../../vendor/akeneo/pim-community-dev/config/services/behat/services.yml }
        # Tailored Import
    - { resource: ../../../components/tailored-import/back/tests/Integration/Resources/config/services.yml }

services:

    akeneo_legacy_behat_tests.loader.permission_cleaner:
        class: 'AkeneoEnterprise\Test\IntegrationTestsBundle\Loader\PermissionCleaner'
        arguments:
            - '@database_connection'

    akeneo_legacy_behat_tests.loader.reference_data_loader:
        class: 'Akeneo\Test\IntegrationTestsBundle\Loader\ReferenceDataLoader'
        arguments:
            - '@doctrine.orm.entity_manager'
            - '%kernel.bundles%'
            - 'AcmeEnterpriseAppBundle'
            - 'AcmeEnterprise\Bundle\AppBundle\Entity\Fabric'
            - 'AcmeEnterprise\Bundle\AppBundle\Entity\Color'


    akeneo_legacy_behat_tests.loader.ee_fixtures_loader:
        class: 'AkeneoEnterprise\Test\IntegrationTestsBundle\Loader\FixturesLoader'
        decorates: 'akeneo_legacy_behat_tests.loader.fixtures_loader'
        decoration_inner_name: 'akeneo_legacy_behat_tests.loader.fixtures_loader.base'
        arguments:
            - '@akeneo_legacy_behat_tests.loader.fixtures_loader.base'
            - '@akeneo_legacy_behat_tests.loader.permission_cleaner'
