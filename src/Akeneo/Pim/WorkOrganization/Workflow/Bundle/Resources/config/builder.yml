parameters:
    pimee_workflow.builder.draft.class: Akeneo\Pim\WorkOrganization\Workflow\Bundle\Builder\EntityWithValuesDraftBuilder
    pimee_workflow.builder.published_product.class: Akeneo\Pim\Enrichment\Component\Product\Builder\ProductBuilder

services:
    pimee_workflow.product.builder.draft:
        class: '%pimee_workflow.builder.draft.class%'
        arguments:
            - '@pim_standard_format_serializer'
            - '@pim_catalog.comparator.registry'
            - '@akeneo.pim.structure.query.get_attributes'
            - '@pimee_workflow.factory.product_draft'
            - '@pimee_workflow.repository.product_draft'
            - '@akeneo.pim.enrichment.factory.read.write_value_collection'
            - '@akeneo.pim.enrichment.factory.read.value'

    pimee_workflow.product_model.builder.draft:
        class: '%pimee_workflow.builder.draft.class%'
        arguments:
            - '@pim_standard_format_serializer'
            - '@pim_catalog.comparator.registry'
            - '@akeneo.pim.structure.query.get_attributes'
            - '@pimee_workflow.factory.product_model_draft'
            - '@pimee_workflow.repository.product_model_draft'
            - '@akeneo.pim.enrichment.factory.read.write_value_collection'
            - '@akeneo.pim.enrichment.factory.read.value'

    pimee_workflow.builder.published_product:
        class: '%pimee_workflow.builder.published_product.class%'
        arguments:
            - '@pim_catalog.repository.attribute'
            - '@pim_catalog.repository.family'
            - '@event_dispatcher'
            - '@pim_catalog.builder.entity_with_values'
            - {'product': '%pimee_workflow.entity.published_product.class%'}
