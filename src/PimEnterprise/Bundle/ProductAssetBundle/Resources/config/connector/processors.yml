parameters:
    pimee_product_asset.processor.denormalization.channel_configuration.class: PimEnterprise\Component\ProductAsset\Connector\Processor\Denormalization\ChannelConfigurationProcessor
    pimee_product_asset.processor.classify_assets.class:                       PimEnterprise\Bundle\ProductAssetBundle\Connector\Processor\MassEdit\Asset\ClassifyAssetsProcessor
    pimee_product_asset.processor.add_tags_to_assets.class:                    PimEnterprise\Bundle\ProductAssetBundle\Connector\Processor\MassEdit\Asset\AddTagsToAssetsProcessor

services:
    # Denormalization
    pimee_product_asset.processor.denormalization.tag:
        class: '%pim_connector.processor.denormalization.class%'
        arguments:
            - '@pimee_product_asset.repository.tag'
            - '@pimee_product_asset.factory.tag'
            - '@pimee_product_asset.updater.tag'
            - '@validator'
            - '@akeneo_storage_utils.doctrine.object_detacher'

    pimee_product_asset.processor.denormalization.asset:
        class: '%pim_connector.processor.denormalization.class%'
        arguments:
            - '@pimee_product_asset.repository.asset'
            - '@pimee_product_asset.factory.asset'
            - '@pimee_product_asset.updater.asset'
            - '@validator'
            - '@akeneo_storage_utils.doctrine.object_detacher'

    pimee_product_asset.processor.denormalization.channel_configuration:
        class: '%pimee_product_asset.processor.denormalization.channel_configuration.class%'
        arguments:
            - '@pimee_product_asset.repository.channel_configuration'
            - '@pim_catalog.repository.channel'
            - '@pimee_product_asset.factory.channel_configuration'
            - '@validator'

    pimee_product_asset.processor.denormalization.category:
        class: '%pim_connector.processor.denormalization.class%'
        arguments:
            - '@pimee_product_asset.repository.category'
            - '@pimee_product_asset.factory.category'
            - '@pimee_product_asset.updater.category'
            - '@pim_catalog.validator.product'
            - '@akeneo_storage_utils.doctrine.object_detacher'

    # Normalization
    pimee_product_asset.processor.normalization.asset:
        class: '%pim_connector.processor.normalization.class%'
        arguments:
            - '@pimee_product_asset.normalizer.standard.asset'
            - '@akeneo_storage_utils.doctrine.object_detacher'

    pimee_product_asset.processor.normalization.category:
        class: '%pim_connector.processor.normalization.class%'
        arguments:
            - '@pim_catalog.normalizer.standard.category'
            - '@akeneo_storage_utils.doctrine.object_detacher'

    pimee_product_asset.processor.normalization.variation:
        class: '%pim_connector.processor.normalization.class%'
        arguments:
            - '@pimee_product_asset.normalizer.standard.variation'
            - '@akeneo_storage_utils.doctrine.object_detacher'

    pimee_product_asset.processor.normalization.channel_configuration:
        class: '%pim_connector.processor.normalization.class%'
        arguments:
            - '@pimee_product_asset.normalizer.standard.channel_configuration'
            - '@akeneo_storage_utils.doctrine.object_detacher'

    # Mass Edit
    pimee_product_asset.processor.classify_assets:
        class: '%pimee_product_asset.processor.classify_assets.class%'
        arguments:
            - '@pimee_product_asset.updater.asset'
            - '@validator'

    pimee_product_asset.processor.add_tags_to_assets:
        class: '%pimee_product_asset.processor.add_tags_to_assets.class%'
        arguments:
            - '@pimee_product_asset.repository.tag'
            - '@validator'
