parameters:
  env(AKENEO_CONNECT_API_CLIENT_ID): ''
  env(AKENEO_CONNECT_API_CLIENT_SECRET): ''
  env(AKENEO_CONNECT_API_CLIENT_USERNAME): ''
  env(AKENEO_CONNECT_API_CLIENT_PASSWORD): ''

services:
  Akeneo\FreeTrial\Domain\API\InviteUserAPI:
    class: Akeneo\FreeTrial\Infrastructure\AkeneoConnect\AkeneoConnectInviteUserAPI
    arguments:
      - '@Akeneo\FreeTrial\Infrastructure\AkeneoConnect\APIClient'
      - '@logger'

  Akeneo\FreeTrial\Infrastructure\AkeneoConnect\APIClient:
    arguments:
      - '@akeneo.free_trial.akeneo_connect.guzzle_client'
      - '@akeneo.free_trial.akeneo_portal.guzzle_client'
      - '@Akeneo\FreeTrial\Infrastructure\RetrievePimFQDN'
      - '%env(AKENEO_CONNECT_API_CLIENT_ID)%'
      - '%env(AKENEO_CONNECT_API_CLIENT_SECRET)%'
      - '%env(AKENEO_CONNECT_API_CLIENT_USERNAME)%'
      - '%env(AKENEO_CONNECT_API_CLIENT_PASSWORD)%'

  akeneo.free_trial.akeneo_connect.guzzle_client:
    class: GuzzleHttp\Client
    arguments:
      - { base_uri: '%env(AKENEO_CONNECT_API_CLIENT_BASE_URI)%' }

  akeneo.free_trial.akeneo_portal.guzzle_client:
    class: GuzzleHttp\Client
    arguments:
      - { base_uri: '%env(AKENEO_PORTAL_API_CLIENT_BASE_URI)%' }
