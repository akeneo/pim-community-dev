parameters:
    pimee_catalog_rule.tasklet.impacted_product_count.class: Akeneo\Pim\Automation\RuleEngine\Component\Connector\Tasklet\ImpactedProductCountTasklet

services:
    pimee_catalog_rule.tasklet.impacted_product_count:
        class: '%pimee_catalog_rule.tasklet.impacted_product_count.class%'
        arguments:
            - '@akeneo_rule_engine.repository.rule_definition'
            - '@pimee_catalog_rule.runner.product'
            - '@akeneo_rule_engine.saver.rule_definition'
            - '@pim_connector.doctrine.cache_clearer'
            - '@akeneo_batch.job_repository'
            - '@akeneo_batch.job.job_stopper'

    pimee_catalog_rule.tasklet.execute_rules:
        class: Akeneo\Pim\Automation\RuleEngine\Component\Connector\Tasklet\ExecuteRulesTasklet
        arguments:
            - '@akeneo_rule_engine.repository.rule_definition'
            - '@akeneo_rule_engine.runner.strict_chained'
            - '@akeneo_rule_engine.runner.strict_chained'
            - '@event_dispatcher'
            - '@akeneo_batch.job_repository'
            - '@akeneo_batch.job.job_stopper'
            - '@pim_connector.doctrine.cache_clearer'
