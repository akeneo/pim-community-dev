services:
  Akeneo\FreeTrial\Infrastructure\ExternalJavascriptDependencies\Appcues:
    arguments:
      - '%env(APPCUES_ID)%'
      - '@feature_flags'
    tags:
      - { name: akeneo.pim.security.content_security_policy_provider }
      - { name: akeneo.pim.security.external_dependency_provider }

  Akeneo\FreeTrial\Infrastructure\ExternalJavascriptDependencies\Heap:
    arguments:
      - '@security.script_nonce_generator'
      - '%env(HEAP_ID)%'
      - '@feature_flags'
    tags:
      - { name: akeneo.pim.security.content_security_policy_provider }
      - { name: akeneo.pim.security.external_dependency_provider }

  Akeneo\FreeTrial\Infrastructure\ExternalJavascriptDependencies\Crisp:
    arguments:
      - '@security.script_nonce_generator'
      - '%env(CRISP_WEBSITE_ID)%'
      - '@feature_flags'
    tags:
      - { name: akeneo.pim.security.content_security_policy_provider }
      - { name: akeneo.pim.security.external_dependency_provider }

  Akeneo\FreeTrial\Infrastructure\ExternalJavascriptDependencies\GoogleTagManager:
    arguments:
      - '@security.script_nonce_generator'
      - '%env(GOOGLE_TAG_MANAGER_ID)%'
      - '%env(GOOGLE_ANALYTICS_ID)%'
      - '@feature_flags'
    tags:
      - { name: akeneo.pim.security.content_security_policy_provider }
      - { name: akeneo.pim.security.external_dependency_provider }

  Akeneo\FreeTrial\Infrastructure\ExternalJavascriptDependencies\GoogleAnalytics:
    arguments:
      - '@security.script_nonce_generator'
      - '%env(GOOGLE_ANALYTICS_ID)%'
      - '@feature_flags'
    tags:
      - { name: akeneo.pim.security.content_security_policy_provider }
      - { name: akeneo.pim.security.external_dependency_provider }

  Akeneo\FreeTrial\Infrastructure\ExternalJavascriptDependencies\Hotjar:
    arguments:
      - '@security.script_nonce_generator'
      - '%env(HOTJAR_ID)%'
      - '@feature_flags'
    tags:
      - { name: akeneo.pim.security.content_security_policy_provider }
      - { name: akeneo.pim.security.external_dependency_provider }


  Akeneo\FreeTrial\Infrastructure\ExternalJavascriptDependencies\LinkedinInsightsTag:
    arguments:
      - '@feature_flags'
    tags:
      - { name: akeneo.pim.security.content_security_policy_provider }

  Akeneo\FreeTrial\Infrastructure\ExternalJavascriptDependencies\RedditPixel:
    arguments:
      - '@feature_flags'
    tags:
      - { name: akeneo.pim.security.content_security_policy_provider }
