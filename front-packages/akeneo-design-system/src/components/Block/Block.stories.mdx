import {useState} from 'react';
import {Meta, Story, ArgsTable, Canvas} from '@storybook/addon-docs';
import {action} from '@storybook/addon-actions';
import {Block} from './Block';
import {IconButton} from '../IconButton/IconButton';
import {CloseIcon, ArrowDownIcon, MoreIcon} from '../../icons';

<Meta
  title="Components/Block"
  component={Block}
  argTypes={{
    children: {control: {type: 'text'}},
  }}
  args={{
    children: 'I am a block',
  }}
/>

# Block

## Usage

Block is a visual component that can be used to group content.
When it is removable and hovered, it can be removed by clicking on the X icon.

## Playground

Use this playground to test the block component

<Canvas>
  <Story name="Standard">
    {args => {
      return <Block {...args} />;
    }}
  </Story>
</Canvas>

<ArgsTable story="Standard" />

## With Actions

<Canvas>
  <Story name="With Actions">
    {args => {
      const [isOpen, setOpen] = useState(false);
      return (
        <>
          <Block {...args} isOpen={isOpen} onCollapse={setOpen}>Block without action</Block>
          <Block
            {...args} isOpen={isOpen} onCollapse={setOpen} collapseButtonLabel="Collapse"
            actions={<>
              <IconButton level="tertiary" ghost="borderless" size="small" key="remove" icon={<CloseIcon />} title='Remove' onClick={action('Remove block')} />
            </>}
          >
            Block with actions
          </Block>
        </>
      );
    }}
  </Story>
</Canvas>
