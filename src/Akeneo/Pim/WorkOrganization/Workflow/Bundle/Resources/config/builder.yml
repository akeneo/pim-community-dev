parameters:
    pimee_workflow.builder.draft.class: Akeneo\Pim\WorkOrganization\Workflow\Bundle\Builder\EntityWithValuesDraftBuilder
    pimee_workflow.builder.published_product.class: Pim\Component\Catalog\Builder\ProductBuilder

services:
    pimee_workflow.product.builder.draft:
        class: '%pimee_workflow.builder.draft.class%'
        arguments:
            - '@pim_standard_format_serializer'
            - '@pim_catalog.comparator.registry'
            - '@pim_catalog.repository.cached_attribute'
            - '@pimee_workflow.factory.product_draft'
            - '@pimee_workflow.repository.product_draft'
            - '@pim_catalog.factory.value_collection'
            - '@pim_catalog.factory.value'

    pimee_workflow.product_model.builder.draft:
        class: '%pimee_workflow.builder.draft.class%'
        arguments:
            - '@pim_standard_format_serializer'
            - '@pim_catalog.comparator.registry'
            - '@pim_catalog.repository.cached_attribute'
            - '@pimee_workflow.factory.product_model_draft'
            - '@pimee_workflow.repository.product_model_draft'
            - '@pim_catalog.factory.value_collection'
            - '@pim_catalog.factory.value'

    pimee_workflow.builder.published_product:
        class: '%pimee_workflow.builder.published_product.class%'
        arguments:
            - '@pim_catalog.repository.attribute'
            - '@pim_catalog.repository.family'
            - '@event_dispatcher'
            - '@pim_catalog.builder.entity_with_values'
            - '@pim_catalog.association.missing_association_adder'
            - {'product': '%pimee_workflow.entity.published_product.class%'}
