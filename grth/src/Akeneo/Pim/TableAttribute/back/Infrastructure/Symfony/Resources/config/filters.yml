services:
  Akeneo\Pim\TableAttribute\Infrastructure\Value\Filter\TableValueFilter:
    arguments:
      - '@Akeneo\Pim\TableAttribute\Domain\TableConfiguration\Repository\TableConfigurationRepository'
      - '@pim_catalog.validator.helper.attribute_filter'
      - !tagged_iterator pim_table_attribute.product_and_product_model.column_filter
      - [ 'pim_catalog_table' ]
      - [ 'CONTAINS', 'DOES NOT CONTAIN', 'IN', 'NOT IN', 'STARTS WITH', 'ENDS WITH', 'EMPTY', 'NOT EMPTY', '>', '>=', '<', '<=', '=', '!=' ]
    tags:
      - { name: 'pim_catalog.elasticsearch.query.product_filter', priority: 30 }
      - { name: 'pim_catalog.elasticsearch.query.product_model_filter', priority: 30 }
      - { name: 'pim_catalog.elasticsearch.query.product_and_product_model_filter', priority: 30 }

  Akeneo\Pim\TableAttribute\Infrastructure\Datagrid\ProductValueTableFilter:
      arguments:
          - '@form.factory'
          - '@pim_filter.product_utility'
      tags:
          - { name: oro_filter.extension.orm_filter.filter, type: product_value_table }

  pim_table_attribute.product_and_product_model.filter.boolean:
    class: Akeneo\Pim\TableAttribute\Infrastructure\Value\Filter\ColumnFilter
    arguments:
      - 'boolean'
      - ['EMPTY', 'NOT EMPTY', '=', '!=']
    tags:
        - { name: pim_table_attribute.product_and_product_model.column_filter }

  pim_table_attribute.product_and_product_model.filter.select:
    class: Akeneo\Pim\TableAttribute\Infrastructure\Value\Filter\ColumnFilter
    arguments:
      - 'select'
      - ['EMPTY', 'NOT EMPTY', 'IN', 'NOT IN']
    tags:
        - { name: pim_table_attribute.product_and_product_model.column_filter }

  pim_table_attribute.product_and_product_model.filter.number:
    class: Akeneo\Pim\TableAttribute\Infrastructure\Value\Filter\ColumnFilter
    arguments:
      - 'number'
      - ['EMPTY', 'NOT EMPTY', '=', '!=', '>', '>=', '<', '<=']
    tags:
        - { name: pim_table_attribute.product_and_product_model.column_filter }

  pim_table_attribute.product_and_product_model.filter.text:
    class: Akeneo\Pim\TableAttribute\Infrastructure\Value\Filter\ColumnFilter
    arguments:
      - 'text'
      - ['EMPTY', 'NOT EMPTY', '=', '!=', 'CONTAINS', 'DOES NOT CONTAIN', 'STARTS WITH', 'ENDS WITH']
    tags:
      - { name: pim_table_attribute.product_and_product_model.column_filter }

  pim_table_attribute.product_and_product_model.filter.reference_entity:
    class: Akeneo\Pim\TableAttribute\Infrastructure\Value\Filter\ColumnFilter
    arguments:
      - 'reference_entity'
      - ['EMPTY', 'NOT EMPTY', 'IN', 'NOT IN']
    tags:
      - { name: pim_table_attribute.product_and_product_model.column_filter }

  pim_table_attribute.product_and_product_model.filter.measurement:
    class: Akeneo\Pim\TableAttribute\Infrastructure\Value\Filter\ColumnFilter
    arguments:
      - 'measurement'
      - [ 'EMPTY', 'NOT EMPTY', '=', '!=', '>', '>=', '<', '<=' ]
      - '@Akeneo\Pim\TableAttribute\Infrastructure\AntiCorruptionLayer\AclMeasureConverter'
    tags:
      - { name: pim_table_attribute.product_and_product_model.column_filter }
