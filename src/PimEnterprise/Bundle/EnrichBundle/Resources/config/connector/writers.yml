parameters:
    pimee_enrich.connector.writer.mass_edit.product.class: PimEnterprise\Bundle\EnrichBundle\Connector\Writer\MassEdit\ProductWriter
    pimee_enrich.connector.writer.mass_edit.product_and_product_model.class: PimEnterprise\Bundle\EnrichBundle\Connector\Writer\MassEdit\ProductAndProductModelWriter

services:
    pimee_enrich.connector.writer.mass_edit.product:
        class: '%pimee_enrich.connector.writer.mass_edit.product.class%'
        arguments:
            - '@pim_versioning.manager.version'
            - '@pimee_workflow.saver.product_delegating'
            - '@pim_connector.doctrine.cache_clearer'
            - '@security.authorization_checker'

    pimee_enrich.connector.writer.mass_edit.product_and_product_model:
        class: '%pimee_enrich.connector.writer.mass_edit.product_and_product_model.class%'
        arguments:
            - '@pimee_workflow.saver.product_delegating'
            - '@pimee_workflow.saver.product_model_delegating'
            - '@pim_versioning.manager.version'
            - '@pim_connector.doctrine.cache_clearer'
            - '@security.authorization_checker'
            - '@security.token_storage'
            - '@akeneo_batch_queue.launcher.queue_job_launcher'
            - '@akeneo_batch.job.job_instance_repository'
            - '%pim_catalog.compute_product_models_descendants.job_name%'

    pimee_connector.writer.file.csv_published_product_quick_export:
        class: '%pim_connector.writer.file.csv_product.class%'
        arguments:
            - '@pim_connector.array_converter.standard_to_flat.product_localized'
            - '@pim_connector.factory.flat_item_buffer'
            - '@pim_connector.writer.file.product_quick_export.flat_item_buffer_flusher'
            - '@pim_catalog.repository.attribute'
            - '@pim_connector.writer.file.media_exporter_path_generator'
            - ['pim_catalog_file', 'pim_catalog_image']
            - 'filePath'

    pimee_connector.writer.file.xlsx_published_product_quick_export:
        class: '%pim_connector.writer.file.xlsx_product.class%'
        arguments:
            - '@pim_connector.array_converter.standard_to_flat.product_localized'
            - '@pim_connector.factory.flat_item_buffer'
            - '@pim_connector.writer.file.product_quick_export.flat_item_buffer_flusher'
            - '@pim_catalog.repository.attribute'
            - '@pim_connector.writer.file.media_exporter_path_generator'
            - ['pim_catalog_file', 'pim_catalog_image']
            - 'filePath'
