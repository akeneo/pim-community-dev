services:

    # Command Handlers
    akeneo.pim.automation.suggest_data.handler.save_configuration:
        class: 'Akeneo\Pim\Automation\SuggestData\Application\Configuration\Command\SaveConfigurationHandler'
        arguments:
            - '@akeneo.pim.automation.suggest_data.data_provider.factory'
            - '@akeneo.pim.automation.suggest_data.repository.configuration'

    akeneo.pim.automation.suggest_data.handler.update_identifiers_mapping:
        class: 'Akeneo\Pim\Automation\SuggestData\Application\Mapping\Command\UpdateIdentifiersMappingHandler'
        arguments:
            - '@pim_catalog.repository.attribute'
            - '@akeneo.pim.automation.suggest_data.repository.identifiers_mapping'
            - '@akeneo.pim.automation.suggest_data.data_provider.factory'

    akeneo.pim.automation.suggest_data.handler.subscribe_product:
        class: 'Akeneo\Pim\Automation\SuggestData\Application\ProductSubscription\Command\SubscribeProductHandler'
        arguments:
            - '@pim_catalog.repository.product_without_permission'
            - '@akeneo.pim.automation.suggest_data.repository.product_subscription'
            - '@akeneo.pim.automation.suggest_data.data_provider.factory'

    akeneo.pim.automation.suggest_data.product_subscription.handler.fetch_products:
        class: 'Akeneo\Pim\Automation\SuggestData\Application\ProductSubscription\Command\FetchProductsHandler'
        arguments:
            - '@akeneo.pim.automation.suggest_data.data_provider.factory'
            - '@akeneo.pim.automation.suggest_data.repository.product_subscription'

    akeneo.pim.automation.suggest_data.handler.create_proposals:
        class: 'Akeneo\Pim\Automation\SuggestData\Application\Proposal\Command\CreateProposalHandler'
        arguments:
            - '@akeneo.pim.automation.suggest_data.normalizers.suggested_data'

    # Query Handlers
    akeneo.pim.automation.suggest_data.handler.get_product_subscription_status:
        class: 'Akeneo\Pim\Automation\SuggestData\Application\ProductSubscription\Query\GetProductSubscriptionStatusHandler'
        arguments:
            - '@akeneo.pim.automation.suggest_data.repository.product_subscription'
