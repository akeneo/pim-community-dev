import {useState} from 'react';
import {Meta, Story, ArgsTable, Canvas} from '@storybook/addon-docs/blocks';
import {MediaFileInput} from './MediaFileInput.tsx';
import {useFakeMediaStorage} from '../../../storybook/hooks/useFakeMediaStorage';

<Meta
  title="Components/Inputs/Media File input"
  component={MediaFileInput}
  args={{
    value: null,
    placeholder: 'Drag and drop to upload or click here',
  }}
/>

# MediaFileInput

## Usage

File input allows the user to enter content when the expected user input is a file.

## Playground

<Canvas>
  <Story name="Standard">
    {args => {
      const [uploader, downloader, previewer] = useFakeMediaStorage();
      const [value, setValue] = useState(null);
      return (
        <MediaFileInput
          {...args}
          value={value}
          onChange={setValue}
          uploader={uploader}
          downloader={downloader}
          previewer={previewer}
        />
      );
    }}
  </Story>
</Canvas>

<ArgsTable story="Standard" />

## Variation on readonly

<Canvas>
  <Story name="Read only">
    {args => {
      const uploader = () => {};
      const downloader = () => {};
      const previewer = () => '';
      return (
        <>
          <MediaFileInput
            {...args}
            value={null}
            readOnly
            uploader={uploader}
            downloader={downloader}
            previewer={previewer}
          />
          <MediaFileInput
            {...args}
            value={{
              filePath: '/file/path.jpg',
              originalFilename: 'path.jpg',
            }}
            readOnly
            uploader={uploader}
            downloader={downloader}
            previewer={previewer}
          />
          <MediaFileInput
            {...args}
            value={null}
            size="small"
            readOnly
            uploader={uploader}
            downloader={downloader}
            previewer={previewer}
          />
          <MediaFileInput
            {...args}
            value={{
              filePath: '/file/path.jpg',
              originalFilename: 'path.jpg',
            }}
            size="small"
            readOnly
            uploader={uploader}
            downloader={downloader}
            previewer={previewer}
          />
        </>
      );
    }}
  </Story>
</Canvas>
