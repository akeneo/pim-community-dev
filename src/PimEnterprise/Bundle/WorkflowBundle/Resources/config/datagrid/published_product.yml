datagrid:
    published-product-grid:
        options:
            entityHint: product
            filtersAsColumn: true
            displayTypes:
                default:
                    label: grid.display_selector.list
                gallery:
                    label: grid.display_selector.gallery
                    rowView: oro/datagrid/product-row
                    manageColumns: false
        source:
            acl_resource:      pim_enrich_product_index
            type:              pimee_datasource_published_product
            entity:            '%pimee_workflow.entity.published_product.class%'
        columns:
            ID:
                label: ID
                data_name:     identifier
                type:          field
            image:
                label:         Image
                data_name:     image
                frontend_type: product-and-product-model-image
            label:
                label:         Label
                data_name:     label
                type:          field
            family:
                label:         Family
                data_name:     family
                type:          field
            enabled:
                label:         Status
                frontend_type: enabled
            completeness:
                label:         Complete
                frontend_type: completeness
            created:
                label:         Created At
                type:          field
            updated:
                label:         Updated At
                type:          field
            groups:
                label:         Groups
                data_name:     groups
                type:          field
        properties:
            id: ~
            view_link:
                type: url
                route: pimee_workflow_published_product_view
                params:
                    - id
                    - dataLocale
            unpublish_link:
                type: url
                route: pimee_workflow_published_product_unpublish
                params:
                    - id
        actions:
            view:
                launcherOptions:
                    className: AknIconButton AknIconButton--small AknIconButton--view
                type:      navigate
                label:     View the product
                link:      view_link
                rowAction: true
            unpublish:
                launcherOptions:
                    className: AknIconButton AknIconButton--small AknIconButton--unpublish
                type:  ajax
                label: Unpublish the product
                link:  unpublish_link
        action_configuration: '@pimee_datagrid.datagrid.configuration.published_product.grid_helper->getActionConfigurationClosure'
        mass_actions_groups:
            quick_export:
                label: pim_datagrid.mass_action_group.quick_export.label
                icon: download-alt
        mass_actions:
            published_product_edit:
                type: edit
                acl_resource: pimee_workflow_published_product_index
                label: pim.grid.mass_action.mass_edit
                handler: product_mass_edit
                route: pim_enrich_mass_edit_action
                route_parameters:
                    actionName: published-product-edit
                className: 'AknButton AknButton--action AknButtonList-item'
            quick_export_grid_context_xlsx:
                type: export
                label: pim.grid.mass_action.quick_export.xlsx_grid_context
                icon: download
                handler: product_quick_export
                route: pimee_datagrid_export_published_product_index
                route_parameters:
                    _format: xlsx
                    _contentType: application/vnd.openxmlformats-officedocument.spreadsheetml.sheet
                    _jobCode: xlsx_published_product_grid_context_quick_export
                    _displayedColumnsOnly: 1
                context:
                    withHeader: true
                messages:
                    empty_selection: pim_datagrid.mass_action.delete.empty_selection
                launcherOptions:
                    group: quick_export
            quick_export_xlsx:
                type: export
                label: pim.grid.mass_action.quick_export.xlsx_all
                icon: download
                handler: product_quick_export
                route: pimee_datagrid_export_published_product_index
                route_parameters:
                    _format: xlsx
                    _contentType: application/vnd.openxmlformats-officedocument.spreadsheetml.sheet
                    _jobCode: xlsx_published_product_quick_export
                    _displayedColumnsOnly: 0
                context:
                    withHeader: true
                messages:
                    empty_selection: pim_datagrid.mass_action.delete.empty_selection
                launcherOptions:
                    group: quick_export
            quick_export_grid_context_csv:
                type: export
                label: pim.grid.mass_action.quick_export.csv_grid_context
                icon: download
                handler: product_quick_export
                route: pimee_datagrid_export_published_product_index
                route_parameters:
                    _format: csv
                    _contentType: text/csv
                    _jobCode: csv_published_product_grid_context_quick_export
                    _displayedColumnsOnly: 1
                context:
                    withHeader: true
                messages:
                    empty_selection: pim_datagrid.mass_action.delete.empty_selection
                launcherOptions:
                    group: quick_export
            quick_export_csv:
                type: export
                label: pim.grid.mass_action.quick_export.csv_all
                icon: download
                handler: product_quick_export
                route: pimee_datagrid_export_published_product_index
                route_parameters:
                    _format: csv
                    _contentType: text/csv
                    _jobCode: csv_published_product_quick_export
                    _displayedColumnsOnly: 0
                context:
                    withHeader: true
                messages:
                    empty_selection: pim_datagrid.mass_action.delete.empty_selection
                launcherOptions:
                    group: quick_export
        sorters:
            columns:
                family:
                    data_name: familyLabel
                    sorter:    product_family
                enabled:
                    data_name: enabled
                    sorter:    product_field
                completeness:
                    data_name: ratio
                    sorter:    product_completeness
                created:
                    data_name: created
                    sorter:    product_field
                updated:
                    data_name: updated
                    sorter:    product_field
            default:
                updated: '%oro_datagrid.extension.orm_sorter.class%::DIRECTION_DESC'
        filters:
            columns:
                family:
                    type:      product_family
                    label:     Family
                    data_name: family
                    options:
                        field_options:
                            multiple: true
                            attr:
                                empty_choice: true
                groups:
                    type:      product_groups
                    label:     Groups
                    data_name: groups
                    options:
                        field_options:
                            multiple: true
                enabled:
                    type:      product_enabled
                    ftype:     choice
                    label:     Status
                    data_name: enabled
                    options:
                        field_options:
                            choices:
                                1: Enabled
                                0: Disabled
                scope:
                    type:      product_scope
                    label:     Scope
                    data_name: values.scope
                    options:
                        field_options:
                            choices: '@pim_catalog.repository.channel->getLabelsIndexedByCode(@pim_user.context.user->getCurrentLocaleCode())'
                completeness:
                    type:      product_completeness
                    label:     Complete
                    data_name: ratio
                created:
                    type:      product_date
                    ftype:     date
                    data_name: created
                    label:     Created At
                updated:
                    type:      product_date
                    ftype:     date
                    data_name: updated
                    label:     Updated At
