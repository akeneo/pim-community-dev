import {Meta, Story, ArgsTable, Canvas} from '@storybook/addon-docs/blocks';
import {useArgs, updateArgs} from '@storybook/client-api';
import {Modal} from './Modal';
import {Button} from '../Button/Button';
import * as Illustrations from '../../illustrations';

<Meta
  title="Components/Modal"
  component={Modal}
  argTypes={{illustration: {control: {type: 'select', options: [undefined, ...Object.keys(Illustrations)]}}}}
  args={{
    isOpen: false,
    children: 'Modal text',
    illustration: undefined,
  }}
/>

# Modal

## Usage

TODO

### TODO

TODO

## Playground

<Canvas>
  <Story name="Standard">
    {args => {
      const [{isOpen}, updateArgs] = useArgs();
      const open = () => updateArgs({isOpen: true});
      const close = () => updateArgs({isOpen: false});
      return (
        <>
          <Modal
            {...args}
            onClose={close}
            illustration={
              undefined === Illustrations[args.illustration]
                ? undefined
                : React.createElement(Illustrations[args.illustration])
            }
          />
          <Button onClick={open}>Open Raphael Modal</Button>
        </>
      );
    }}
  </Story>
</Canvas>

<ArgsTable story="Standard" />
