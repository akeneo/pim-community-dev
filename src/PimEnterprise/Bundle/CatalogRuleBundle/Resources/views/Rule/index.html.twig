{% extends 'PimEnrichBundle::layout.html.twig' %}

{% import 'PimDataGridBundle::macros.html.twig' as dataGrid %}

{% block content %}
    {% if resource_granted('pimee_catalog_rule_rule_execute_permissions') %}
        {% set buttons %}
            {{ elements.confirmLink(
            path('pimee_catalog_rule_rule_execute'),
            path('pimee_catalog_rule_rule_index'),
            'pimee_catalog_rule.notification.rule.launched'|trans,
            'Execute rules',
            'play',
            'pimee_catalog_rule.popin.execute_rules.confirm_content'|trans,
            'btn btn-primary execute-all-rules',
            'pimee_catalog_rule.popin.execute_rules.confirm_title'|trans
            ) }}
        {% endset %}

        {{ elements.page_header('pimee_catalog_rule.datagrid.rule-grid.title'|trans, buttons) }}
    {% else %}
        {{ elements.page_header('pimee_catalog_rule.datagrid.rule-grid.title'|trans) }}
    {% endif %}

    {{ dataGrid.renderGrid('rule-grid') }}
{% endblock %}
