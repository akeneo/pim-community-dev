# TODO: should not be in a services.yml file
parameters:
    pimee_product_asset.variation_file_generator.class:              PimEnterprise\Component\ProductAsset\VariationFileGenerator
    pimee_product_asset.variations_collection_files_generator.class: PimEnterprise\Component\ProductAsset\VariationsCollectionFilesGenerator
    pimee_product_asset.command_launcher.class:                      Akeneo\Component\Console\CommandLauncher
    pimee_product_asset.analytic.asset.class:                        PimEnterprise\Bundle\ProductAssetBundle\Analytic\AssetAnalyticProvider

services:
    pimee_product_asset.variation_file_generator:
        class: '%pimee_product_asset.variation_file_generator.class%'
        arguments:
            - '@pimee_product_asset.repository.channel_configuration'
            - '@akeneo_file_storage.file_storage.filesystem_provider'
            - '@pimee_product_asset.saver.file_metadata'
            - '@pimee_product_asset.saver.variation'
            - '@akeneo_file_transformer.file_transformer'
            - '@akeneo_file_storage.file_storage.file.file_storer'
            - '@akeneo_file_storage.file_storage.file.file_fetcher'
            - '@pimee_product_asset.registry.metadata_builder'
            - 'assetStorage'

    pimee_product_asset.variations_collection_files_generator:
        class: '%pimee_product_asset.variations_collection_files_generator.class%'
        arguments:
            - '@pimee_product_asset.variation_file_generator'

    pimee_product_asset.command_launcher:
        class: '%pimee_product_asset.command_launcher.class%'
        arguments:
          - '%kernel.root_dir%'
          - '%kernel.environment%'

    pimee_product_asset.analytic.asset:
        class: '%pimee_product_asset.analytic.asset.class%'
        arguments:
            - '@doctrine.orm.default_entity_manager'
            - '%pimee_product_asset.model.asset.class%'
        tags:
            - { name: pim_analytics.data_collector, type: update_checker }
            - { name: pim_analytics.data_collector, type: system_info_report }
