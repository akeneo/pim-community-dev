# PIM SaaS instance specific
#PFID: Unique ID for the PIM instance

###
# Charts components default definition
###

# pim-web : PIM pods
pim:
  replicas: 1
  numDaemon: 1
  persistence:
    diskSize: 10Gi
  # Default Catalog Installation
  defaultCatalog: minimal

  jobs:
    batch-purge:
      enabled: false
      pimCommand: "akeneo:batch:purge-job-execution"
      schedule: "0 0 1 * *"
    completeness-calculate:
      enabled: false
      pimCommand: "pim:completeness:calculate"
      schedule: "0 2 * * 0"
    rule-run:
      enabled: false
      pimCommand: "akeneo:rule:run"
      schedule: "0 5 * * *"
    versionning-refresh:
      enabled: false
      pimCommand: "pim:versioning:refresh"
      schedule: "0 3 * * *"
    volume-aggregate:
      enabled: false
      pimCommand: "pim:volume:aggregate"
      schedule: "0 4 * * *"

# Mailgun login/pws are provided and updated by terraform
pimUsers:
  cloudadmin:
    firstName: Cloud
    lastName: Admin
    email: tech-cloud@akeneo.com
    password: weloveplatypus
    catalogDefaultLocale: fr_FR
    userDefaultLocale: fr_FR
    catalogDefaultScope: minimal
    defaultCategoryTree: master
    roles: ROLE_ADMINISTRATOR
    groups: IT support
    enabled: 1
    defaultAssetTree: asset_main_catalog

# Mysql
mysql:
  mysql:
    dataDiskSize: "13Gi"
    defaultUser: akeneo_pim
    userPassword: changeme
    rootPassword: changeme
  common:
  # K8S storage class
    class: standard

# Elasticsearch
elasticsearch:
  common:
    stateful:
      class: "standard"

  client:
    replicas: 1
    heapMemory: 128m
    resources:
      requests:
        memory: 256Mi

  data:
    replicas: 2
    heapMemory: 1024m
    resources:
      requests:
        memory: 2048Mi
    stateful:
      size: 5Gi

  master:
    replicas: 2
    heapMemory: 128m
    resources:
      requests:
        memory: 256Mi
    env:
      NUMBER_OF_MASTERS: "2"
      # Required to expose /_prometheus/metrics to ServiceMonitor
    stateful:
      size: 1Gi
