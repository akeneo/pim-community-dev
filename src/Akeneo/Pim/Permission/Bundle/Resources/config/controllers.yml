parameters:
    pimee_security.controller.permission_rest.class: Akeneo\Pim\Permission\Bundle\Controller\InternalApi\PermissionRestController
    pimee_security.controller.product.class: Akeneo\Pim\Permission\Bundle\Controller\ProductController

services:
    pimee_security.controller.permission_rest:
        class: '%pimee_security.controller.permission_rest.class%'
        arguments:
            - '@security.authorization_checker'
            - '@pim_catalog.repository.attribute_group'
            - '@pimee_security.repository.category_access'
            - '@pim_user.context.user'
            - '@akeneo_batch.job.job_instance_repository'

    pimee_security.controller.product:
        class: '%pimee_security.controller.product.class%'
        parent: pim_pdf_generator.controller.product
        arguments:
            - '@security.authorization_checker'
            - '@pim_user.context.user'

    pim_enrich.controller.rest.attribute:
        class: 'Akeneo\Pim\Structure\Bundle\Controller\InternalApi\AttributeController'
        arguments:
            - '@pim_catalog.repository.attribute'
            - '@pim_internal_api_serializer'
            - '@security.token_storage'
            - '@pim_catalog.filter.chained'
            - '@pimee_enrich.repository.attribute.search'
            - '@pim_catalog.updater.attribute'
            - '@validator'
            - '@pim_catalog.saver.attribute'
            - '@pim_catalog.remover.attribute'
            - '@pim_catalog.factory.attribute'
            - '@pim_user.context.user'
            - '@pim_catalog.localization.localizer.number'
            - '@pim_enrich.normalizer.attribute'
            - '@translator'
            - '@pim_catalog.doctrine.query.attribute_is_an_family_variant_axis'

    pim_datagrid.controller.productgrid:
        class: Oro\Bundle\PimDataGridBundle\Controller\ProductGridController
        arguments:
            - '@pimee_security.product_grid.query.list_attributes'
            - '@pim_datagrid.datagrid.configuration.product.filters_configurator'
            - '@pim_datagrid.extension.filter'
            - '@pim_user.context.user'
            - '@pim_datagrid.manager.datagrid_view'
            - '@pimee_security.product_grid.query.list_available_columns'
            - '@pimee_security.product_grid.query.list_available_column_groups'
