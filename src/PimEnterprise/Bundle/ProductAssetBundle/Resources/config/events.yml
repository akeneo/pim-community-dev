parameters:
    pimee_product_asset.subscriber.missing_variations.class:                     PimEnterprise\Bundle\ProductAssetBundle\Event\MissingVariationsEventSubscriber
    pimee_product_asset.form.subscriber.category_permissions.class:              PimEnterprise\Bundle\ProductAssetBundle\Event\CategoryPermissionsSubscriber

services:
    pimee_product_asset.subscriber.missing_variations:
        class: '%pimee_product_asset.subscriber.missing_variations.class%'
        arguments:
            - '@pimee_product_asset.variations_collection_files_generator'
            - '@pimee_product_asset.finder.asset'
        tags:
            - { name: kernel.event_subscriber }

    pimee_product_asset.form.subscriber.category_permissions:
        class: '%pimee_product_asset.form.subscriber.category_permissions.class%'
        arguments:
            - '@pimee_product_asset.manager.category_access'
            - '@oro_security.security_facade'

    pimee_product_asset.subscriber.compute_completeness_of_products_linked_to_assets:
        class: 'PimEnterprise\Bundle\ProductAssetBundle\EventSubscriber\ComputeCompletenessOfProductsLinkedToAssetsSubscriber'
        arguments:
            - '@akeneo_batch.job.job_instance_repository'
            - '@pim_catalog.repository.attribute'
            - '@pim_catalog.query.product_query_builder_factory'
            - '@akeneo_batch_queue.launcher.queue_job_launcher'
            - '@security.token_storage'
            - '@pimee_product_asset.remover.completeness'
        tags:
            - { name: kernel.event_subscriber }
