parameters:
    pimee_catalog.security.filter.not_granted_category.class: PimEnterprise\Component\Security\Filter\NotGrantedCategoryFilter
    pimee_catalog.security.filter.not_granted_associated_product.class: PimEnterprise\Component\Security\Filter\NotGrantedAssociatedProductFilter
    pimee_catalog.security.filter.not_granted_values.class: PimEnterprise\Component\Security\Filter\NotGrantedValuesFilter
    pimee_catalog.security.filter.not_granted_parent.class: PimEnterprise\Component\Security\Filter\NotGrantedParentFilter

services:
    pimee_catalog.security.filter.not_granted_category:
        class: '%pimee_catalog.security.filter.not_granted_category.class%'
        arguments:
            - '@security.authorization_checker'

    pimee_catalog.security.filter.not_granted_associated_product:
        class: '%pimee_catalog.security.filter.not_granted_associated_product.class%'
        arguments:
            - '@security.authorization_checker'
            - '@pimee_security.query.product_category_access'
            - '@pimee_security.query.product_model_category_access'
            - '@security.token_storage'

    pimee_catalog.security.filter.not_granted_values:
        class: '%pimee_catalog.security.filter.not_granted_values.class%'
        arguments:
            - '@security.authorization_checker'
            - '@pim_catalog.repository.cached_locale'

    pimee_catalog.security.filter.not_granted_parent:
        class: '%pimee_catalog.security.filter.not_granted_parent.class%'
        arguments:
            - '@pimee_catalog.security.factory.filtered_product_model'
        lazy: true
