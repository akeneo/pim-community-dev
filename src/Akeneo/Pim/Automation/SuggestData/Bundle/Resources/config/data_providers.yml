services:
    akeneo.pim.automation.suggest_data.data_provider.factory:
        class: 'Akeneo\Pim\Automation\SuggestData\Bundle\Infrastructure\DataProvider\DataProviderFactory'
        arguments:
            - '@akeneo.pim.automation.suggest_data.data_provider.memory'
            - '@akeneo.pim.automation.suggest_data.data_provider.pim_ai'
            - '%kernel.environment%'

    akeneo.pim.automation.suggest_data.data_provider.memory:
        class: 'Akeneo\Pim\Automation\SuggestData\Bundle\Infrastructure\DataProvider\Adapter\Memory\InMemoryAdapter'
        arguments:
            - '@akeneo.pim.automation.suggest_data.data_provider.deserialize_suggested_data_collection'
            - '@akeneo.pim.automation.suggest_data.pimai_client.subscribe_webservice'

    akeneo.pim.automation.suggest_data.data_provider.pim_ai:
        class: 'Akeneo\Pim\Automation\SuggestData\Bundle\Infrastructure\DataProvider\Adapter\PimAI\PimAIAdapter'
        arguments:
            - '@akeneo.pim.automation.suggest_data.pimai_client.authentication_webservice'

    akeneo.pim.automation.suggest_data.data_provider.deserialize_suggested_data_collection:
        class: 'Akeneo\Pim\Automation\SuggestData\Bundle\Infrastructure\DataProvider\DeserializeSuggestedDataCollection'
        arguments:
            - '@akeneo.pim.automation.suggest_data.data_provider.suggested_data_factory'

    akeneo.pim.automation.suggest_data.data_provider.suggested_data_factory:
        class: 'Akeneo\Pim\Automation\SuggestData\Bundle\Infrastructure\DataProvider\SuggestedDataFactory'

    akeneo.pim.automation.suggest_data.data_provider.registry:
        class: 'Akeneo\Pim\Automation\SuggestData\Bundle\Infrastructure\DataProvider\DataProviderRegistry'

    akeneo.pim.automation.suggest_data.data_provider.in_memory:
        class: 'Akeneo\Pim\Automation\SuggestData\Bundle\Infrastructure\DataProvider\Adapter\InMemoryAdapter'
        tags:
            - { name: 'akeneo.pim.automation.suggest_data.data_provider', alias: 'in_memory' }

    akeneo.pim.automation.suggest_data.data_provider.pim_ai:
        class: 'Akeneo\Pim\Automation\SuggestData\Bundle\Infrastructure\DataProvider\Adapter\PimAIAdapter'
        tags:
            - { name: 'akeneo.pim.automation.suggest_data.data_provider', alias: 'pim_ai' }
