connector:
    name: Data fixtures
    jobs:
        fixtures_attribute_group_access_yml:
            title: pim_installer.jobs.fixtures_attribute_group_access_yml.title
            type:  fixtures
            steps:
                import:
                    title:     pim_installer.jobs.fixtures_attribute_group_access_yml.import.title
                    services:
                        reader:    pim_base_connector.reader.file.yaml
                        processor: pimee_base_connector.processor.attribute_group_access
                        writer:    pim_base_connector.writer.doctrine

        fixtures_product_category_access_yml:
            title: pim_installer.jobs.fixtures_product_category_access_yml.title
            type:  fixtures
            steps:
                import:
                    title:     pim_installer.jobs.fixtures_product_category_access_yml.import.title
                    services:
                        reader:    pim_base_connector.reader.file.yaml
                        processor: pimee_base_connector.processor.category_access
                        writer:    pim_base_connector.writer.doctrine

        fixtures_asset_category_csv:
            title: pim_installer.jobs.fixtures_asset_category_csv.title
            type:  fixtures
            steps:
                validation:
                    title: pim_base_connector.jobs.fixtures_asset_category_csv.validation.title
                    class: %pim_base_connector.step.validator.class%
                    services:
                        charsetValidator: pim_base_connector.validator.step.charset_validator
                import:
                    title:     pim_installer.jobs.fixtures_asset_category_csv.import.title
                    services:
                        reader:    pim_connector.reader.file.csv_category
                        processor: pimee_product_asset.processor.denormalization.category.flat
                        writer:    pimee_product_asset.writer.doctrine.category
                    parameters:
                        batchSize: 1

        fixtures_job_profile_access_yml:
            title: pim_installer.jobs.fixtures_job_profile_yml.title
            type:  fixtures
            steps:
                import:
                    title:     pim_installer.jobs.fixtures_job_profile_access_yml.import.title
                    services:
                        reader:    pim_base_connector.reader.file.yaml
                        processor: pimee_base_connector.processor.job_profile_access
                        writer:    pim_base_connector.writer.doctrine

        fixtures_locale_access_yml:
            title: pim_installer.jobs.fixtures_locale_yml.title
            type:  fixtures
            steps:
                import:
                    title:     pim_installer.jobs.fixtures_locale_access_yml.import.title
                    services:
                        reader:    pim_base_connector.reader.file.yaml
                        processor: pimee_base_connector.processor.locale_access
                        writer:    pim_base_connector.writer.doctrine

        fixtures_rule_yml:
            title: pim_installer.jobs.fixtures_locale_yml.title
            type:  fixtures
            steps:
                import:
                    title:     pim_installer.jobs.fixtures_rule_yml.import.title
                    services:
                        reader:    pim_base_connector.reader.file.yaml
                        processor: pimee_catalog_rule.processor.denormalization.rule_definition
                        writer:    pimee_catalog_rule.writer.doctrine.rule_definition
