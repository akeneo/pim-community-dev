services:
  akeneo.job_automation.query.find_users_by_id:
    class: Akeneo\Platform\JobAutomation\Infrastructure\Query\FindUsersByIdQuery
    arguments:
      - '@akeneo.job_automation.infrastructure.public_api.list_users_handler'

  akeneo.job_automation.query.find_users_by_usergroup_id:
    class: Akeneo\Platform\JobAutomation\Infrastructure\Query\FindUsersByUserGroupIdQuery
    arguments:
      - '@akeneo.job_automation.infrastructure.public_api.list_users_handler'

  akeneo.job_automation.query.find_scheduled_job_instances:
    class: Akeneo\Platform\JobAutomation\Infrastructure\Query\FindScheduledJobInstancesQuery
    arguments:
      - '@database_connection'
      - '@Akeneo\Platform\Bundle\ImportExportBundle\Domain\ResolveScheduledJobRunningUsername'

  akeneo.job_automation.query.update_automation_last_execution_date:
    class: Akeneo\Platform\JobAutomation\Infrastructure\Query\UpdateAutomationLastExecutionDateQuery
    arguments:
      - '@database_connection'

  akeneo.job_automation.query.find_users_to_notify:
    class: Akeneo\Platform\JobAutomation\Infrastructure\Query\FindUsersToNotifyQuery
    arguments:
      - '@akeneo.job_automation.query.find_users_by_id'
      - '@akeneo.job_automation.query.find_users_by_usergroup_id'

  akeneo.job_automation.query.save_asymmetric_keys:
    class: Akeneo\Platform\JobAutomation\Infrastructure\Query\SaveAsymmetricKeysQuery
    arguments:
      - '@database_connection'
      - '@Akeneo\Platform\JobAutomation\Domain\ClockInterface'
