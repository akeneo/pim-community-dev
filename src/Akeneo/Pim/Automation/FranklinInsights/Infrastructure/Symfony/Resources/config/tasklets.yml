services:
    akeneo.pim.automation.franklin_insights.connector.tasklet.remove_attribute_from_attributes_mapping:
        class: 'Akeneo\Pim\Automation\FranklinInsights\Infrastructure\Connector\Tasklet\RemoveAttributeFromAttributeMappingTasklet'
        public: false
        arguments:
            - '@akeneo.pim.automation.franklin_insights.handler.get_attributes_mapping_by_family'
            - '@akeneo.pim.automation.franklin_insights.handler.update_attributes_mapping_by_family'

    akeneo.pim.automation.franklin_insights.connector.tasklet.remove_option_from_attribute_options_mapping:
        class: 'Akeneo\Pim\Automation\FranklinInsights\Infrastructure\Connector\Tasklet\RemoveOptionFromAttributeOptionsMappingTasklet'
        public: false
        arguments:
            - '@akeneo.pim.automation.franklin_insights.infrastructure.persistence.query.select_family_codes_by_attribute_query'
            - '@akeneo.pim.automation.franklin_insights.handler.get_attributes_mapping_by_family'
            - '@akeneo.pim.automation.franklin_insights.handler.get_attribute_options_mapping_by_family_and_attribute'
            - '@akeneo.pim.automation.franklin_insights.handler.save_attribute_options_mapping'

    akeneo.pim.automation.franklin_insights.connector.tasklet.identify_products_to_resubscribe:
        class: 'Akeneo\Pim\Automation\FranklinInsights\Infrastructure\Connector\Tasklet\IdentifyProductToResubscribeTasklet'
        public: false
        arguments:
            - '@akeneo.pim.automation.franklin_insights.infrastructure.persistence.query.product.select_product_identifier_values_query'
            - '@akeneo.pim.automation.franklin_insights.infrastructure.persistence.query.select_non_null_requested_identifiers'
            - '@akeneo.pim.automation.franklin_insights.application.subscription.service.resubscribe_products'

    akeneo.pim.automation.franklin_insights.connector.tasklet.notify_if_pending_attributes:
        class: 'Akeneo\Pim\Automation\FranklinInsights\Infrastructure\Connector\Tasklet\NotifyPendingAttributesTasklet'
        public: false
        arguments:
            - '@akeneo.pim.automation.franklin_insights.infrastructure.persistence.query.select_user_ids_and_family_codes_with_missing_mapping'
            - '@pim_user.repository.user'
            - '@akeneo.pim.automation.franklin_insights.repository.family'
            - '@akeneo.pim.automation.franklin_insights.notifier.notify_about_missing_mapping'
