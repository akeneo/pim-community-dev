parameters:
    pimee_workflow.controller.product_draft.class: PimEnterprise\Bundle\WorkflowBundle\Controller\ProductDraftController
    pimee_workflow.controller.published_product.class: PimEnterprise\Bundle\WorkflowBundle\Controller\PublishedProductController
    pimee_workflow.controller.published_product_rest.class: PimEnterprise\Bundle\WorkflowBundle\Controller\Rest\PublishedProductController
    pimee_workflow.controller.product_draft_rest.class: PimEnterprise\Bundle\WorkflowBundle\Controller\Rest\ProductDraftController

services:
    pimee_workflow.controller.product_draft:
        class: %pimee_workflow.controller.product_draft.class%
        parent: pim_enrich.controller.abstract
        scope: request
        arguments:
            - '@pimee_workflow.repository.product_draft'
            - '@pimee_workflow.manager.product_draft'
            - '@pim_user.context.user'
            - '@pim_connector.launcher.simple_job_launcher'
            - '@pim_import_export.repository.job_instance'
            - '@oro_datagrid.mass_action.parameters_parser'
            - '@security.authorization_checker'
            - '@pim_datagrid.adapter.oro_to_pim_grid_filter'

    pimee_workflow.controller.published_product:
        class: %pimee_workflow.controller.published_product.class%
        parent: pim_enrich.controller.abstract
        scope: request
        arguments:
            - '@pim_user.context.user'
            - '@pimee_workflow.manager.published_product'
            - '@pim_catalog.manager.completeness'
            - '@pim_catalog.manager.channel'
            - '@security.authorization_checker'

    pimee_workflow.controller.published_product_rest:
        class: %pimee_workflow.controller.published_product_rest.class%
        scope: request
        arguments:
            - '@security.authorization_checker'
            - '@pimee_workflow.manager.published_product'
            - '@pim_user.context.user'
            - '@pim_internal_api_serializer'

    pimee_workflow.controller.product_draft_rest:
        class: %pimee_workflow.controller.product_draft_rest.class%
        arguments:
            - '@security.authorization_checker'
            - '@pimee_workflow.repository.product_draft'
            - '@pimee_workflow.manager.product_draft'
            - '@pim_catalog.repository.product'
            - '@pim_internal_api_serializer'
            - '@security.token_storage'
