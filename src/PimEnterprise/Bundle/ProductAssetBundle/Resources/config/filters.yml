parameters:
    pimee_product_asset.filter.asset_category_filter.class: PimEnterprise\Bundle\FilterBundle\Filter\CategoryFilter

services:
    pimee_product_asset.filter.asset_category_filter:
        class: %pimee_product_asset.filter.asset_category_filter.class%
        arguments:
            - '@form.factory'
            - '@pimee_filter.product_asset_utility'
            - '@pimee_product_asset.repository.category'
            - '@security.authorization_checker'
            - '@pimee_product_asset.repository.asset_category_access'
            - '@security.token_storage'
        tags:
            - { name: oro_filter.extension.orm_filter.filter, type: asset_category }

    pimee_product_asset.filter.product_asset_category_filter:
        class: %pimee_product_asset.filter.asset_category_filter.class%
        arguments:
            - '@form.factory'
            - '@pimee_filter.product_asset_utility'
            - '@pimee_product_asset.repository.category'
            - '@security.authorization_checker'
            - '@pimee_product_asset.repository.asset_category_access'
            - '@security.token_storage'
        tags:
            - { name: oro_filter.extension.orm_filter.filter, type: product_asset_category }

    pimee_product_asset.filter.category:
        class: %pimee_catalog.filter.category.class%
        arguments:
            - '@security.token_storage'
            - '@pimee_product_asset.repository.asset_category_access' # TODO: Update to the entity agnostic category access repo in PIM-4411
            - '@security.authorization_checker'
        tags:
            - { name: pim_catalog.filter.object, type: pim.internal_api.asset_category.view }
