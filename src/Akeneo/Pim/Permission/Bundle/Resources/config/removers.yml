parameters:
    pimee_security.remover.product.class: Akeneo\Pim\Permission\Component\Remover\ProductRemover
    pimee_security.remover.product_model.class: Akeneo\Pim\Permission\Component\Remover\ProductModelRemover

services:
    pimee_security.remover.product_category_access:
        class: '%akeneo_storage_utils.remover.base.class%'
        arguments:
            - '@doctrine.orm.entity_manager'
            - '@event_dispatcher'
            - '%pimee_security.entity.product_category_access.class%'

    pimee_security.remover.asset_category_access:
        class: '%akeneo_storage_utils.remover.base.class%'
        arguments:
            - '@doctrine.orm.entity_manager'
            - '@event_dispatcher'
            - '%pimee_security.entity.asset_category_access.class%'

    pimee_security.remover.product:
        class: '%pimee_security.remover.product.class%'
        decorates: pim_catalog.remover.product
        decoration_inner_name: pim_catalog.remover.product.community
        arguments:
            - '@pim_catalog.remover.product.community'
            - '@pim_catalog.remover.product.community'
            - '@security.authorization_checker'
            - '@pim_catalog.repository.product_without_permission'

    pimee_security.remover.product_model:
        class: '%pimee_security.remover.product_model.class%'
        decorates: pim_catalog.remover.product_model
        decoration_inner_name: pim_catalog.remover.product_model.community
        arguments:
            - '@pim_catalog.remover.product_model.community'
            - '@pim_catalog.remover.product_model.community'
            - '@security.authorization_checker'
            - '@pim_catalog.repository.product_model_without_permission'
