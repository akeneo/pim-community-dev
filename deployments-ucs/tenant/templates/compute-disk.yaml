apiVersion: compute.cnrm.cloud.google.com/v1beta1
kind: ComputeDisk
metadata:
  name: {{ .Values.global.extraLabels.pfid }}-mysql
  labels:
    pfid: {{ .Values.global.extraLabels.pfid }}-mysql
    app: mysql
    type: {{ .Values.global.extraLabels.type }}
  annotations:
    argocd.argoproj.io/hook: Sync
    argocd.argoproj.io/sync-wave: "-1"
spec:
  description: "Disk MySQL used for {{ .Values.global.extraLabels.pfid }}"
  size: {{ .Values.mysql.mysql.dataDiskSize}}
  type: pd-ssd
  location: {{ .Values.common.googleZone }}
  projectRef:
    external: {{ .Values.common.gcpProjectID }}
