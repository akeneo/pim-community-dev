services:
    pimee_enrich.step.add_product_value_with_permission.perform:
        class: '%pim_connector.step.item_step.class%'
        arguments:
            - 'perform'
            - '@event_dispatcher'
            - '@akeneo_batch.job_repository'
            - '@pim_enrich.reader.database.filtered_product_and_product_model'
            - '@pimee_enrich.mass_edit.add_product_value.processor'
            - '@pim_connector.writer.database.product'
            - '%pim_job_product_batch_size%'
            - '@akeneo_batch.job.job_stopper'

    pimee_enrich.step.update_product_value_with_permission.perform:
        class: '%pim_connector.step.item_step.class%'
        arguments:
            - 'perform'
            - '@event_dispatcher'
            - '@akeneo_batch.job_repository'
            - '@pim_enrich.reader.database.products_and_variant_products_of_product_models'
            - '@pimee_enrich.mass_edit.update_product_value.processor'
            - '@pim_connector.writer.database.product'
            - '%pim_job_product_batch_size%'
            - '@akeneo_batch.job.job_stopper'

    pimee_enrich.step.remove_product_value_with_permission.perform:
        class: '%pim_connector.step.item_step.class%'
        arguments:
            - 'perform'
            - '@event_dispatcher'
            - '@akeneo_batch.job_repository'
            - '@pim_enrich.reader.database.filtered_product_and_product_model'
            - '@pimee_enrich.mass_edit.remove_product_value.processor'
            - '@pim_connector.writer.database.product'
            - '%pim_job_product_batch_size%'
            - '@akeneo_batch.job.job_stopper'

    pimee_enrich.step.add_to_category_with_permission.perform:
        class: '%pim_connector.step.item_step.class%'
        arguments:
            - 'perform'
            - '@event_dispatcher'
            - '@akeneo_batch.job_repository'
            - '@pim_enrich.reader.database.grouped_product_and_product_model'
            - '@pimee_enrich.mass_edit.add_product_value.processor'
            - '@pim_enrich.writer.database.product_and_product_model_writer'
            - '%pim_job_product_batch_size%'
            - '@akeneo_batch.job.job_stopper'

    pimee_enrich.step.move_to_category_with_permission.perform:
        class: '%pim_connector.step.item_step.class%'
        arguments:
            - 'perform'
            - '@event_dispatcher'
            - '@akeneo_batch.job_repository'
            - '@pim_enrich.reader.database.grouped_product_and_product_model'
            - '@pimee_enrich.mass_edit.update_product_value.processor'
            - '@pim_enrich.writer.database.product_and_product_model_writer'
            - '%pim_job_product_batch_size%'
            - '@akeneo_batch.job.job_stopper'

    pimee_enrich.step.remove_from_category_with_permission.perform:
        class: '%pim_connector.step.item_step.class%'
        arguments:
            - 'perform'
            - '@event_dispatcher'
            - '@akeneo_batch.job_repository'
            - '@pim_enrich.reader.database.grouped_product_and_product_model'
            - '@pimee_enrich.mass_edit.remove_product_value.processor'
            - '@pim_enrich.writer.database.product_and_product_model_writer'
            - '%pim_job_product_batch_size%'
            - '@akeneo_batch.job.job_stopper'

    pimee_enrich.step.edit_common_attributes_with_permission.perform:
        class: '%pim_connector.step.item_step.class%'
        arguments:
            - 'perform'
            - '@event_dispatcher'
            - '@akeneo_batch.job_repository'
            - '@pim_enrich.reader.database.product_and_product_model'
            - '@pim_enrich.connector.processor.mass_edit.product.edit_attributes'
            - '@pimee_security.connector.writer.mass_edit.product_and_product_model'
            - '%pim_job_product_batch_size%'
            - '@akeneo_batch.job.job_stopper'

    pimee_enrich.step.add_attribute_value.mass_edit.perform:
        class: '%pim_connector.step.item_step.class%'
        arguments:
            - 'perform'
            - '@event_dispatcher'
            - '@akeneo_batch.job_repository'
            - '@pim_enrich.reader.database.product_and_product_model'
            - '@pim_enrich.connector.processor.mass_edit.product.add_attribute_value'
            - '@pimee_security.connector.writer.mass_edit.product_and_product_model'
            - 1000
            - '@akeneo_batch.job.job_stopper'
