parameters:
    pim_enrich.connector.processor.mass_edit.product.edit_common_attributes.class:          Akeneo\Pim\Permission\Bundle\MassEdit\Processor\EditCommonAttributesProcessor
    pim_enrich.connector.processor.mass_edit.product.edit_attributes.class:                 Akeneo\Pim\Permission\Bundle\MassEdit\Processor\EditAttributesProcessor
    pim_enrich.connector.processor.mass_edit.product.add_attribute_value.class:             Akeneo\Pim\Permission\Bundle\MassEdit\Processor\AddAttributeValueProcessor
    pimee_enrich.connector.processor.mass_edit.product.add_value_with_permissions.class:    Akeneo\Pim\Permission\Bundle\MassEdit\Processor\AddProductValueWithPermissionProcessor
    pimee_enrich.connector.processor.mass_edit.product.update_value_with_permissions.class: Akeneo\Pim\Permission\Bundle\MassEdit\Processor\UpdateProductValueWithPermissionProcessor
    pimee_enrich.connector.processor.mass_edit.product.remove_value_with_permissions.class: Akeneo\Pim\Permission\Bundle\MassEdit\Processor\RemoveProductValueWithPermissionProcessor
    pimee_security.connector.writer.mass_edit.product_and_product_model.class: Akeneo\Pim\Permission\Bundle\MassEdit\Writer\ProductAndProductModelWriter

services:
    # overriden processor from CE
    pim_enrich.connector.processor.mass_edit.product.edit_common_attributes:
        class: '%pim_enrich.connector.processor.mass_edit.product.edit_common_attributes.class%'
        arguments:
            - '@pim_catalog.validator.product'
            - '@pim_catalog.repository.product'
            - '@pim_catalog.updater.product'
            - '@akeneo_storage_utils.doctrine.object_detacher'
            - '@security.authorization_checker'

    pim_enrich.connector.processor.mass_edit.product.edit_attributes:
        class: '%pim_enrich.connector.processor.mass_edit.product.edit_attributes.class%'
        arguments:
            - '@pim_catalog.validator.product'
            - '@pim_catalog.validator.product_model'
            - '@pim_catalog.updater.product'
            - '@pim_catalog.updater.product_model'
            - '@pim_catalog.repository.cached_attribute'
            - '@pim_catalog.entity_with_family_variant.check_attribute_editable'
            - '@security.authorization_checker'

    pim_enrich.connector.processor.mass_edit.product.add_attribute_value:
        class: '%pim_enrich.connector.processor.mass_edit.product.add_attribute_value.class%'
        arguments:
            - '@pim_catalog.validator.product'
            - '@pim_catalog.validator.product_model'
            - '@pim_catalog.updater.property_adder'
            - '@pim_catalog.repository.cached_attribute'
            - '@pim_catalog.entity_with_family_variant.check_attribute_editable'
            - ['pim_catalog_multiselect', 'pim_reference_data_multiselect', 'pim_assets_collection']
            - '@security.authorization_checker'

    pimee_enrich.mass_edit.add_product_value.processor:
        class: '%pimee_enrich.connector.processor.mass_edit.product.add_value_with_permissions.class%'
        arguments:
            - '@pim_catalog.updater.property_adder'
            - '@pim_catalog.validator.product'
            - '@security.authorization_checker'

    pimee_enrich.mass_edit.update_product_value.processor:
        class: '%pimee_enrich.connector.processor.mass_edit.product.update_value_with_permissions.class%'
        arguments:
            - '@pim_catalog.updater.property_setter'
            - '@pim_catalog.validator.product'
            - '@security.authorization_checker'

    pimee_enrich.mass_edit.remove_product_value.processor:
        class: '%pimee_enrich.connector.processor.mass_edit.product.remove_value_with_permissions.class%'
        arguments:
            - '@pim_catalog.updater.property_remover'
            - '@pim_catalog.validator.product'
            - '@security.authorization_checker'

    pimee_security.connector.writer.mass_edit.product_and_product_model:
        class: '%pimee_security.connector.writer.mass_edit.product_and_product_model.class%'
        arguments:
            - '@pimee_workflow.saver.product_delegating'
            - '@pimee_workflow.saver.product_model_delegating'
            - '@pim_versioning.manager.version'
            - '@security.token_storage'
            - '@akeneo_batch_queue.launcher.queue_job_launcher'
            - '@akeneo_batch.job.job_instance_repository'
            - '%pim_catalog.compute_product_models_descendants.job_name%'
            - '@security.authorization_checker'
