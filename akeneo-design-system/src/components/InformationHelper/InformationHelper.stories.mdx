import {Meta, Story, ArgsTable, Canvas} from '@storybook/addon-docs/blocks';
import LinkTo from '@storybook/addon-links/react';
import {InformationHelper, HighlightTitle} from './InformationHelper';
import {Link} from '../Link/Link';
import {UsersIllustration} from '../../illustrations';
import * as Illustrations from '../../illustrations';

export const illustrationNames = Object.keys(Illustrations).reduce((accumulator, illustrationName) => {
  accumulator[illustrationName] = illustrationName;
  return accumulator;
}, {});

<Meta
  title="Components/InformationHelper"
  component={InformationHelper}
  argTypes={{
    illustration: {control: {type: 'select', 'options': {...illustrationNames}}},
    title: {control: {type: 'text'}},
    children: {control: {type: 'text'}}
  }}
  args={{
    illustration: 'UsersIllustration',
    title: 'Lorem ipsum.',
    children: 'Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.'
  }}
/>

# Information helper

## Usage

Allows to help the user by pushing contextual information.

## General guidance

Located at the top of a page, it helps the user on the page's features. A link guides the user to additional information. *i.e., the help center*

## Playground

Use this playground to test the helper component

<Canvas>
  <Story name="Standard">
    {(args) => {
      const illustrationComponent = React.createElement(Illustrations[args.illustration]);
      return <InformationHelper {...args} illustration={illustrationComponent}/>;
    }}
  </Story>
</Canvas>

<ArgsTable story="Standard" />

## Composition
Generally InformationHelper contain also link.
Title can also be composed of highlight.

<Canvas>
  <Story name="Composition">
    {(args) => {
      const title = (<>Lorem ipsum <HighlightTitle>dolor</HighlightTitle> sit amet</>)
      return (
        <InformationHelper title={title} illustration={<UsersIllustration/>}>
          Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.
          <Link target="_blank" href="https://www.akeneo.com/">Link to related lorem ipsum</Link>
        </InformationHelper>
      );
    }}
  </Story>
</Canvas>

## Related components
<ul>
  <li><LinkTo kind="Components/Helper" story="Standard">Helper</LinkTo></li>
  <li><LinkTo kind="Components/InlineHelper" story="Standard">InlineHelper</LinkTo></li>
  <li><LinkTo kind="Components/Link" story="Standard">Link</LinkTo></li>
</ul>
