connector:
    name: Data fixtures
    jobs:
        fixtures_attribute_group_access_csv:
            type:  fixtures
            steps:
                import:
                    services:
                        reader:    pim_connector.reader.file.csv_attribute_group_access
                        processor: pimee_security.processor.denormalization.attribute_group_access
                        writer:    pimee_security.writer.doctrine.attribute_group_access

        fixtures_product_category_access_csv:
            type:  fixtures
            steps:
                import:
                    services:
                        reader:    pim_connector.reader.file.csv_product_category_access
                        processor: pimee_security.processor.denormalization.product_category_access
                        writer:    pimee_security.writer.doctrine.product_category_access

        fixtures_asset_category_csv:
            type:  fixtures
            steps:
                validation:
                    class: '%pim_connector.step.validator.class%'
                    services:
                        charsetValidator: pim_connector.validator.item.charset_validator
                import_asset_category:
                    services:
                        reader:    pimee_product_asset.reader.file.csv_asset_category
                        processor: pimee_product_asset.processor.denormalization.category
                        writer:    pimee_product_asset.writer.doctrine.category
                    parameters:
                        batchSize: 1

        fixtures_job_profile_access_csv:
            type:  fixtures
            steps:
                import:
                    services:
                        reader:    pim_connector.reader.file.csv_job_profile_access
                        processor: pimee_security.processor.denormalization.job_profile_access
                        writer:    pimee_security.writer.doctrine.job_profile_access

        fixtures_locale_access_csv:
            type:  fixtures
            steps:
                import:
                    services:
                        reader:    pim_connector.reader.file.csv_locale_access
                        processor: pimee_security.processor.denormalization.locale_access
                        writer:    pimee_security.writer.doctrine.locale_access

        fixtures_rule_yml:
            type:  fixtures
            steps:
                import:
                    services:
                        reader:    pim_connector.reader.file.yaml_rule
                        processor: pimee_catalog_rule.processor.denormalization.rule_definition
                        writer:    pimee_catalog_rule.writer.doctrine.rule_definition

        fixtures_asset_csv:
            type:  fixtures
            steps:
                import_tags:
                    services:
                        reader:    pimee_product_asset.reader.file.csv_tag
                        processor: pimee_product_asset.processor.denormalization.tag
                        writer:    pimee_product_asset.writer.doctrine.tag
                    parameters:
                        batchSize: 1
                import_asset:
                    services:
                        reader:    pimee_product_asset.reader.file.csv_asset
                        processor: pimee_product_asset.processor.denormalization.asset
                        writer:    pimee_product_asset.writer.doctrine.asset

        fixtures_asset_category_access_csv:
            type:  fixtures
            steps:
                import:
                    services:
                        reader:    pim_connector.reader.file.csv_asset_category_access
                        processor: pimee_security.processor.denormalization.asset_category_access
                        writer:    pimee_security.writer.doctrine.asset_category_access

        fixtures_asset_channel_configurations_yml:
            type:  fixtures
            steps:
                import_asset:
                    services:
                        reader:    pimee_connector.reader.file.yaml_channel_configuration
                        processor: pimee_product_asset.processor.denormalization.channel_configuration
                        writer:    pimee_product_asset.writer.doctrine.channel_configuration
