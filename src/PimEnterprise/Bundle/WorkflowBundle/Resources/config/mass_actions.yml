parameters:
    pimee_workflow.mass_edit_tasklet.publish_product.class: PimEnterprise\Bundle\WorkflowBundle\MassEditAction\Tasklet\PublishProductTasklet
    pimee_workflow.mass_edit_tasklet.unpublish_product.class: PimEnterprise\Bundle\WorkflowBundle\MassEditAction\Tasklet\UnpublishProductTasklet
    pimee_workflow.mass_edit_tasklet.job_parameters.default_values_provider.mass_publish.class: PimEnterprise\Bundle\WorkflowBundle\MassEditAction\Tasklet\JobParameters\DefaultValues
    pimee_workflow.mass_edit_tasklet.job_parameters.constraint_collection_provider.mass_publish.class: PimEnterprise\Bundle\WorkflowBundle\MassEditAction\Tasklet\JobParameters\ConstraintCollection

services:
    # Job parameter
    pimee_workflow.mass_edit_tasklet.job_parameters.default_values_provider.mass_publish:
        class: '%pimee_workflow.mass_edit_tasklet.job_parameters.default_values_provider.mass_publish.class%'
        arguments:
            -
                - 'publish_product'
                - 'unpublish_product'
        tags:
            - { name: akeneo_batch.job.job_parameters.default_values_provider }

    pimee_workflow.mass_edit_tasklet.job_parameters.constraint_collection_provider.mass_publish:
        class: '%pimee_workflow.mass_edit_tasklet.job_parameters.constraint_collection_provider.mass_publish.class%'
        arguments:
            -
                - 'publish_product'
                - 'unpublish_product'
        tags:
            - { name: akeneo_batch.job.job_parameters.constraint_collection_provider }

    # Tasklet
    pimee_workflow.mass_edit_tasklet.publish_product:
        class: '%pimee_workflow.mass_edit_tasklet.publish_product.class%'
        arguments:
            - '@pimee_workflow.manager.published_product'
            - '@pim_enrich.product.paginator'
            - '@pim_catalog.validator.product'
            - '@akeneo_storage_utils.doctrine.object_detacher'
            - '@pim_user.manager'
            - '@security.token_storage'
            - '@security.authorization_checker'
            - '@pim_catalog.query.product_and_product_model_query_builder_factory'

    pimee_workflow.mass_edit_tasklet.unpublish_product:
        class: '%pimee_workflow.mass_edit_tasklet.unpublish_product.class%'
        arguments:
            - '@pimee_workflow.manager.published_product'
            - '@pim_enrich.product.paginator'
            - '@pim_catalog.validator.product'
            - '@akeneo_storage_utils.doctrine.object_detacher'
            - '@pim_user.manager'
            - '@security.token_storage'
            - '@security.authorization_checker'
            - '@pimee_workflow.doctrine.query.published_product_query_builder_factory'
