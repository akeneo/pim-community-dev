services:
    # Repositories
    Akeneo\OnboarderSerenity\Domain\Supplier\Repository:
        class: Akeneo\OnboarderSerenity\Infrastructure\Supplier\DatabaseRepository
        arguments:
            - '@database_connection'

    # Command/Handlers
    Akeneo\OnboarderSerenity\Application\Supplier\CreateSupplierHandler:
        arguments:
            - '@Akeneo\OnboarderSerenity\Domain\Supplier\Repository'

    # Query/Handlers
    Akeneo\OnboarderSerenity\Application\Supplier\GetSuppliersHandler:
        arguments:
            - '@Akeneo\OnboarderSerenity\Domain\Supplier\GetSupplierList'

    # Queries
    Akeneo\OnboarderSerenity\Domain\Supplier\GetSupplierList:
        class: Akeneo\OnboarderSerenity\Infrastructure\Supplier\Persistence\Sql\DatabaseGetSupplierList
        arguments:
            - '@database_connection'

    Akeneo\OnboarderSerenity\Domain\Supplier\GetSupplierCount:
        class: Akeneo\OnboarderSerenity\Infrastructure\Supplier\Persistence\Sql\DatabaseGetSupplierCount
        arguments:
            - '@database_connection'

    # Controllers
    Akeneo\OnboarderSerenity\Infrastructure\Supplier\Controller\SupplierList:
        public: true
        arguments:
            - '@Akeneo\OnboarderSerenity\Application\Supplier\GetSuppliersHandler'
            - '@Akeneo\OnboarderSerenity\Domain\Supplier\GetSupplierCount'
